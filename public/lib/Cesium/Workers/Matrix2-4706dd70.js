/**
 * @license
 * Cesium - https://github.com/CesiumGS/cesium
 * Version 1.96.6
 *
 * Copyright 2011-2022 Cesium Contributors
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * Columbus View (Pat. Pend.)
 *
 * Portions licensed separately.
 * See https://github.com/CesiumGS/cesium/blob/main/LICENSE.md for full licensing details.
 */

define(["exports","./RuntimeError-a977b8e0","./defaultValue-028a8a27","./ComponentDatatype-438cad2a"],function(E,e,O,S){"use strict";function b(c,n,o){this.x=O.defaultValue(c,0),this.y=O.defaultValue(n,0),this.z=O.defaultValue(o,0)}b.fromSpherical=function(c,n){e.Check.typeOf.object("spherical",c),O.defined(n)||(n=new b);const o=c.clock,h=c.cone,f=O.defaultValue(c.magnitude,1),y=f*Math.sin(h);return n.x=y*Math.cos(o),n.y=y*Math.sin(o),n.z=f*Math.cos(h),n},b.fromElements=function(c,n,o,h){return O.defined(h)?(h.x=c,h.y=n,h.z=o,h):new b(c,n,o)},b.clone=function(c,n){if(!!O.defined(c))return O.defined(n)?(n.x=c.x,n.y=c.y,n.z=c.z,n):new b(c.x,c.y,c.z)},b.fromCartesian4=b.clone,b.packedLength=3,b.pack=function(c,n,o){return e.Check.typeOf.object("value",c),e.Check.defined("array",n),o=O.defaultValue(o,0),n[o++]=c.x,n[o++]=c.y,n[o]=c.z,n},b.unpack=function(c,n,o){return e.Check.defined("array",c),n=O.defaultValue(n,0),O.defined(o)||(o=new b),o.x=c[n++],o.y=c[n++],o.z=c[n],o},b.packArray=function(c,n){e.Check.defined("array",c);const o=c.length,h=o*3;if(!O.defined(n))n=new Array(h);else{if(!Array.isArray(n)&&n.length!==h)throw new e.DeveloperError("If result is a typed array, it must have exactly array.length * 3 elements");n.length!==h&&(n.length=h)}for(let f=0;f<o;++f)b.pack(c[f],n,f*3);return n},b.unpackArray=function(c,n){if(e.Check.defined("array",c),e.Check.typeOf.number.greaterThanOrEquals("array.length",c.length,3),c.length%3!==0)throw new e.DeveloperError("array length must be a multiple of 3.");const o=c.length;O.defined(n)?n.length=o/3:n=new Array(o/3);for(let h=0;h<o;h+=3){const f=h/3;n[f]=b.unpack(c,h,n[f])}return n},b.fromArray=b.unpack,b.maximumComponent=function(c){return e.Check.typeOf.object("cartesian",c),Math.max(c.x,c.y,c.z)},b.minimumComponent=function(c){return e.Check.typeOf.object("cartesian",c),Math.min(c.x,c.y,c.z)},b.minimumByComponent=function(c,n,o){return e.Check.typeOf.object("first",c),e.Check.typeOf.object("second",n),e.Check.typeOf.object("result",o),o.x=Math.min(c.x,n.x),o.y=Math.min(c.y,n.y),o.z=Math.min(c.z,n.z),o},b.maximumByComponent=function(c,n,o){return e.Check.typeOf.object("first",c),e.Check.typeOf.object("second",n),e.Check.typeOf.object("result",o),o.x=Math.max(c.x,n.x),o.y=Math.max(c.y,n.y),o.z=Math.max(c.z,n.z),o},b.clamp=function(c,n,o,h){e.Check.typeOf.object("value",c),e.Check.typeOf.object("min",n),e.Check.typeOf.object("max",o),e.Check.typeOf.object("result",h);const f=S.CesiumMath.clamp(c.x,n.x,o.x),y=S.CesiumMath.clamp(c.y,n.y,o.y),C=S.CesiumMath.clamp(c.z,n.z,o.z);return h.x=f,h.y=y,h.z=C,h},b.magnitudeSquared=function(c){return e.Check.typeOf.object("cartesian",c),c.x*c.x+c.y*c.y+c.z*c.z},b.magnitude=function(c){return Math.sqrt(b.magnitudeSquared(c))};const fc=new b;b.distance=function(c,n){return e.Check.typeOf.object("left",c),e.Check.typeOf.object("right",n),b.subtract(c,n,fc),b.magnitude(fc)},b.distanceSquared=function(c,n){return e.Check.typeOf.object("left",c),e.Check.typeOf.object("right",n),b.subtract(c,n,fc),b.magnitudeSquared(fc)},b.normalize=function(c,n){e.Check.typeOf.object("cartesian",c),e.Check.typeOf.object("result",n);const o=b.magnitude(c);if(n.x=c.x/o,n.y=c.y/o,n.z=c.z/o,isNaN(n.x)||isNaN(n.y)||isNaN(n.z))throw new e.DeveloperError("normalized result is not a number");return n},b.dot=function(c,n){return e.Check.typeOf.object("left",c),e.Check.typeOf.object("right",n),c.x*n.x+c.y*n.y+c.z*n.z},b.multiplyComponents=function(c,n,o){return e.Check.typeOf.object("left",c),e.Check.typeOf.object("right",n),e.Check.typeOf.object("result",o),o.x=c.x*n.x,o.y=c.y*n.y,o.z=c.z*n.z,o},b.divideComponents=function(c,n,o){return e.Check.typeOf.object("left",c),e.Check.typeOf.object("right",n),e.Check.typeOf.object("result",o),o.x=c.x/n.x,o.y=c.y/n.y,o.z=c.z/n.z,o},b.add=function(c,n,o){return e.Check.typeOf.object("left",c),e.Check.typeOf.object("right",n),e.Check.typeOf.object("result",o),o.x=c.x+n.x,o.y=c.y+n.y,o.z=c.z+n.z,o},b.subtract=function(c,n,o){return e.Check.typeOf.object("left",c),e.Check.typeOf.object("right",n),e.Check.typeOf.object("result",o),o.x=c.x-n.x,o.y=c.y-n.y,o.z=c.z-n.z,o},b.multiplyByScalar=function(c,n,o){return e.Check.typeOf.object("cartesian",c),e.Check.typeOf.number("scalar",n),e.Check.typeOf.object("result",o),o.x=c.x*n,o.y=c.y*n,o.z=c.z*n,o},b.divideByScalar=function(c,n,o){return e.Check.typeOf.object("cartesian",c),e.Check.typeOf.number("scalar",n),e.Check.typeOf.object("result",o),o.x=c.x/n,o.y=c.y/n,o.z=c.z/n,o},b.negate=function(c,n){return e.Check.typeOf.object("cartesian",c),e.Check.typeOf.object("result",n),n.x=-c.x,n.y=-c.y,n.z=-c.z,n},b.abs=function(c,n){return e.Check.typeOf.object("cartesian",c),e.Check.typeOf.object("result",n),n.x=Math.abs(c.x),n.y=Math.abs(c.y),n.z=Math.abs(c.z),n};const Nc=new b;b.lerp=function(c,n,o,h){return e.Check.typeOf.object("start",c),e.Check.typeOf.object("end",n),e.Check.typeOf.number("t",o),e.Check.typeOf.object("result",h),b.multiplyByScalar(n,o,Nc),h=b.multiplyByScalar(c,1-o,h),b.add(Nc,h,h)};const yc=new b,pc=new b;b.angleBetween=function(c,n){e.Check.typeOf.object("left",c),e.Check.typeOf.object("right",n),b.normalize(c,yc),b.normalize(n,pc);const o=b.dot(yc,pc),h=b.magnitude(b.cross(yc,pc,yc));return Math.atan2(h,o)};const Fc=new b;b.mostOrthogonalAxis=function(c,n){e.Check.typeOf.object("cartesian",c),e.Check.typeOf.object("result",n);const o=b.normalize(c,Fc);return b.abs(o,o),o.x<=o.y?o.x<=o.z?n=b.clone(b.UNIT_X,n):n=b.clone(b.UNIT_Z,n):o.y<=o.z?n=b.clone(b.UNIT_Y,n):n=b.clone(b.UNIT_Z,n),n},b.projectVector=function(c,n,o){e.Check.defined("a",c),e.Check.defined("b",n),e.Check.defined("result",o);const h=b.dot(c,n)/b.dot(n,n);return b.multiplyByScalar(n,h,o)},b.equals=function(c,n){return c===n||O.defined(c)&&O.defined(n)&&c.x===n.x&&c.y===n.y&&c.z===n.z},b.equalsArray=function(c,n,o){return c.x===n[o]&&c.y===n[o+1]&&c.z===n[o+2]},b.equalsEpsilon=function(c,n,o,h){return c===n||O.defined(c)&&O.defined(n)&&S.CesiumMath.equalsEpsilon(c.x,n.x,o,h)&&S.CesiumMath.equalsEpsilon(c.y,n.y,o,h)&&S.CesiumMath.equalsEpsilon(c.z,n.z,o,h)},b.cross=function(c,n,o){e.Check.typeOf.object("left",c),e.Check.typeOf.object("right",n),e.Check.typeOf.object("result",o);const h=c.x,f=c.y,y=c.z,C=n.x,p=n.y,k=n.z,w=f*k-y*p,z=y*C-h*k,q=h*p-f*C;return o.x=w,o.y=z,o.z=q,o},b.midpoint=function(c,n,o){return e.Check.typeOf.object("left",c),e.Check.typeOf.object("right",n),e.Check.typeOf.object("result",o),o.x=(c.x+n.x)*.5,o.y=(c.y+n.y)*.5,o.z=(c.z+n.z)*.5,o},b.fromDegrees=function(c,n,o,h,f){return e.Check.typeOf.number("longitude",c),e.Check.typeOf.number("latitude",n),c=S.CesiumMath.toRadians(c),n=S.CesiumMath.toRadians(n),b.fromRadians(c,n,o,h,f)};let V=new b,u=new b;const Hc=new b(6378137*6378137,6378137*6378137,6356752314245179e-9*6356752314245179e-9);b.fromRadians=function(c,n,o,h,f){e.Check.typeOf.number("longitude",c),e.Check.typeOf.number("latitude",n),o=O.defaultValue(o,0);const y=O.defined(h)?h.radiiSquared:Hc,C=Math.cos(n);V.x=C*Math.cos(c),V.y=C*Math.sin(c),V.z=Math.sin(n),V=b.normalize(V,V),b.multiplyComponents(y,V,u);const p=Math.sqrt(b.dot(V,u));return u=b.divideByScalar(u,p,u),V=b.multiplyByScalar(V,o,V),O.defined(f)||(f=new b),b.add(u,V,f)},b.fromDegreesArray=function(c,n,o){if(e.Check.defined("coordinates",c),c.length<2||c.length%2!==0)throw new e.DeveloperError("the number of coordinates must be a multiple of 2 and at least 2");const h=c.length;O.defined(o)?o.length=h/2:o=new Array(h/2);for(let f=0;f<h;f+=2){const y=c[f],C=c[f+1],p=f/2;o[p]=b.fromDegrees(y,C,0,n,o[p])}return o},b.fromRadiansArray=function(c,n,o){if(e.Check.defined("coordinates",c),c.length<2||c.length%2!==0)throw new e.DeveloperError("the number of coordinates must be a multiple of 2 and at least 2");const h=c.length;O.defined(o)?o.length=h/2:o=new Array(h/2);for(let f=0;f<h;f+=2){const y=c[f],C=c[f+1],p=f/2;o[p]=b.fromRadians(y,C,0,n,o[p])}return o},b.fromDegreesArrayHeights=function(c,n,o){if(e.Check.defined("coordinates",c),c.length<3||c.length%3!==0)throw new e.DeveloperError("the number of coordinates must be a multiple of 3 and at least 3");const h=c.length;O.defined(o)?o.length=h/3:o=new Array(h/3);for(let f=0;f<h;f+=3){const y=c[f],C=c[f+1],p=c[f+2],k=f/3;o[k]=b.fromDegrees(y,C,p,n,o[k])}return o},b.fromRadiansArrayHeights=function(c,n,o){if(e.Check.defined("coordinates",c),c.length<3||c.length%3!==0)throw new e.DeveloperError("the number of coordinates must be a multiple of 3 and at least 3");const h=c.length;O.defined(o)?o.length=h/3:o=new Array(h/3);for(let f=0;f<h;f+=3){const y=c[f],C=c[f+1],p=c[f+2],k=f/3;o[k]=b.fromRadians(y,C,p,n,o[k])}return o},b.ZERO=Object.freeze(new b(0,0,0)),b.ONE=Object.freeze(new b(1,1,1)),b.UNIT_X=Object.freeze(new b(1,0,0)),b.UNIT_Y=Object.freeze(new b(0,1,0)),b.UNIT_Z=Object.freeze(new b(0,0,1)),b.prototype.clone=function(c){return b.clone(this,c)},b.prototype.equals=function(c){return b.equals(this,c)},b.prototype.equalsEpsilon=function(c,n,o){return b.equalsEpsilon(this,c,n,o)},b.prototype.toString=function(){return`(${this.x}, ${this.y}, ${this.z})`};const Qc=new b,Kc=new b;function ic(c,n,o,h,f){if(!O.defined(c))throw new e.DeveloperError("cartesian is required.");if(!O.defined(n))throw new e.DeveloperError("oneOverRadii is required.");if(!O.defined(o))throw new e.DeveloperError("oneOverRadiiSquared is required.");if(!O.defined(h))throw new e.DeveloperError("centerToleranceSquared is required.");const y=c.x,C=c.y,p=c.z,k=n.x,w=n.y,z=n.z,q=y*y*k*k,_=C*C*w*w,A=p*p*z*z,U=q+_+A,i=Math.sqrt(1/U),P=b.multiplyByScalar(c,i,Qc);if(U<h)return isFinite(i)?b.clone(P,f):void 0;const L=o.x,$=o.y,B=o.z,X=Kc;X.x=P.x*L*2,X.y=P.y*$*2,X.z=P.z*B*2;let I=(1-i)*b.magnitude(c)/(.5*b.magnitude(X)),F=0,G,H,Z,g,Q,K,J,s,x,a,R;do{I-=F,Z=1/(1+I*L),g=1/(1+I*$),Q=1/(1+I*B),K=Z*Z,J=g*g,s=Q*Q,x=K*Z,a=J*g,R=s*Q,G=q*K+_*J+A*s-1,H=q*x*L+_*a*$+A*R*B;const m=-2*H;F=G/m}while(Math.abs(G)>S.CesiumMath.EPSILON12);return O.defined(f)?(f.x=y*Z,f.y=C*g,f.z=p*Q,f):new b(y*Z,C*g,p*Q)}function Y(c,n,o){this.longitude=O.defaultValue(c,0),this.latitude=O.defaultValue(n,0),this.height=O.defaultValue(o,0)}Y.fromRadians=function(c,n,o,h){return e.Check.typeOf.number("longitude",c),e.Check.typeOf.number("latitude",n),o=O.defaultValue(o,0),O.defined(h)?(h.longitude=c,h.latitude=n,h.height=o,h):new Y(c,n,o)},Y.fromDegrees=function(c,n,o,h){return e.Check.typeOf.number("longitude",c),e.Check.typeOf.number("latitude",n),c=S.CesiumMath.toRadians(c),n=S.CesiumMath.toRadians(n),Y.fromRadians(c,n,o,h)};const Jc=new b,vc=new b,Dc=new b,sc=new b(1/6378137,1/6378137,1/6356752314245179e-9),Vc=new b(1/(6378137*6378137),1/(6378137*6378137),1/(6356752314245179e-9*6356752314245179e-9)),xc=S.CesiumMath.EPSILON1;Y.fromCartesian=function(c,n,o){const h=O.defined(n)?n.oneOverRadii:sc,f=O.defined(n)?n.oneOverRadiiSquared:Vc,y=O.defined(n)?n._centerToleranceSquared:xc,C=ic(c,h,f,y,vc);if(!O.defined(C))return;let p=b.multiplyComponents(C,f,Jc);p=b.normalize(p,p);const k=b.subtract(c,C,Dc),w=Math.atan2(p.y,p.x),z=Math.asin(p.z),q=S.CesiumMath.sign(b.dot(k,c))*b.magnitude(k);return O.defined(o)?(o.longitude=w,o.latitude=z,o.height=q,o):new Y(w,z,q)},Y.toCartesian=function(c,n,o){return e.Check.defined("cartographic",c),b.fromRadians(c.longitude,c.latitude,c.height,n,o)},Y.clone=function(c,n){if(!!O.defined(c))return O.defined(n)?(n.longitude=c.longitude,n.latitude=c.latitude,n.height=c.height,n):new Y(c.longitude,c.latitude,c.height)},Y.equals=function(c,n){return c===n||O.defined(c)&&O.defined(n)&&c.longitude===n.longitude&&c.latitude===n.latitude&&c.height===n.height},Y.equalsEpsilon=function(c,n,o){return o=O.defaultValue(o,0),c===n||O.defined(c)&&O.defined(n)&&Math.abs(c.longitude-n.longitude)<=o&&Math.abs(c.latitude-n.latitude)<=o&&Math.abs(c.height-n.height)<=o},Y.ZERO=Object.freeze(new Y(0,0,0)),Y.prototype.clone=function(c){return Y.clone(this,c)},Y.prototype.equals=function(c){return Y.equals(this,c)},Y.prototype.equalsEpsilon=function(c,n){return Y.equalsEpsilon(this,c,n)},Y.prototype.toString=function(){return`(${this.longitude}, ${this.latitude}, ${this.height})`};function Uc(c,n,o,h){n=O.defaultValue(n,0),o=O.defaultValue(o,0),h=O.defaultValue(h,0),e.Check.typeOf.number.greaterThanOrEquals("x",n,0),e.Check.typeOf.number.greaterThanOrEquals("y",o,0),e.Check.typeOf.number.greaterThanOrEquals("z",h,0),c._radii=new b(n,o,h),c._radiiSquared=new b(n*n,o*o,h*h),c._radiiToTheFourth=new b(n*n*n*n,o*o*o*o,h*h*h*h),c._oneOverRadii=new b(n===0?0:1/n,o===0?0:1/o,h===0?0:1/h),c._oneOverRadiiSquared=new b(n===0?0:1/(n*n),o===0?0:1/(o*o),h===0?0:1/(h*h)),c._minimumRadius=Math.min(n,o,h),c._maximumRadius=Math.max(n,o,h),c._centerToleranceSquared=S.CesiumMath.EPSILON1,c._radiiSquared.z!==0&&(c._squaredXOverSquaredZ=c._radiiSquared.x/c._radiiSquared.z)}function W(c,n,o){this._radii=void 0,this._radiiSquared=void 0,this._radiiToTheFourth=void 0,this._oneOverRadii=void 0,this._oneOverRadiiSquared=void 0,this._minimumRadius=void 0,this._maximumRadius=void 0,this._centerToleranceSquared=void 0,this._squaredXOverSquaredZ=void 0,Uc(this,c,n,o)}Object.defineProperties(W.prototype,{radii:{get:function(){return this._radii}},radiiSquared:{get:function(){return this._radiiSquared}},radiiToTheFourth:{get:function(){return this._radiiToTheFourth}},oneOverRadii:{get:function(){return this._oneOverRadii}},oneOverRadiiSquared:{get:function(){return this._oneOverRadiiSquared}},minimumRadius:{get:function(){return this._minimumRadius}},maximumRadius:{get:function(){return this._maximumRadius}}}),W.clone=function(c,n){if(!O.defined(c))return;const o=c._radii;return O.defined(n)?(b.clone(o,n._radii),b.clone(c._radiiSquared,n._radiiSquared),b.clone(c._radiiToTheFourth,n._radiiToTheFourth),b.clone(c._oneOverRadii,n._oneOverRadii),b.clone(c._oneOverRadiiSquared,n._oneOverRadiiSquared),n._minimumRadius=c._minimumRadius,n._maximumRadius=c._maximumRadius,n._centerToleranceSquared=c._centerToleranceSquared,n):new W(o.x,o.y,o.z)},W.fromCartesian3=function(c,n){return O.defined(n)||(n=new W),O.defined(c)&&Uc(n,c.x,c.y,c.z),n},W.WGS84=Object.freeze(new W(6378137,6378137,6356752314245179e-9)),W.UNIT_SPHERE=Object.freeze(new W(1,1,1)),W.MOON=Object.freeze(new W(S.CesiumMath.LUNAR_RADIUS,S.CesiumMath.LUNAR_RADIUS,S.CesiumMath.LUNAR_RADIUS)),W.prototype.clone=function(c){return W.clone(this,c)},W.packedLength=b.packedLength,W.pack=function(c,n,o){return e.Check.typeOf.object("value",c),e.Check.defined("array",n),o=O.defaultValue(o,0),b.pack(c._radii,n,o),n},W.unpack=function(c,n,o){e.Check.defined("array",c),n=O.defaultValue(n,0);const h=b.unpack(c,n);return W.fromCartesian3(h,o)},W.prototype.geocentricSurfaceNormal=b.normalize,W.prototype.geodeticSurfaceNormalCartographic=function(c,n){e.Check.typeOf.object("cartographic",c);const o=c.longitude,h=c.latitude,f=Math.cos(h),y=f*Math.cos(o),C=f*Math.sin(o),p=Math.sin(h);return O.defined(n)||(n=new b),n.x=y,n.y=C,n.z=p,b.normalize(n,n)},W.prototype.geodeticSurfaceNormal=function(c,n){if(!b.equalsEpsilon(c,b.ZERO,S.CesiumMath.EPSILON14))return O.defined(n)||(n=new b),n=b.multiplyComponents(c,this._oneOverRadiiSquared,n),b.normalize(n,n)};const ac=new b,Rc=new b;W.prototype.cartographicToCartesian=function(c,n){const o=ac,h=Rc;this.geodeticSurfaceNormalCartographic(c,o),b.multiplyComponents(this._radiiSquared,o,h);const f=Math.sqrt(b.dot(o,h));return b.divideByScalar(h,f,h),b.multiplyByScalar(o,c.height,o),O.defined(n)||(n=new b),b.add(h,o,n)},W.prototype.cartographicArrayToCartesianArray=function(c,n){e.Check.defined("cartographics",c);const o=c.length;O.defined(n)?n.length=o:n=new Array(o);for(let h=0;h<o;h++)n[h]=this.cartographicToCartesian(c[h],n[h]);return n};const mc=new b,Ec=new b,uc=new b;W.prototype.cartesianToCartographic=function(c,n){const o=this.scaleToGeodeticSurface(c,Ec);if(!O.defined(o))return;const h=this.geodeticSurfaceNormal(o,mc),f=b.subtract(c,o,uc),y=Math.atan2(h.y,h.x),C=Math.asin(h.z),p=S.CesiumMath.sign(b.dot(f,c))*b.magnitude(f);return O.defined(n)?(n.longitude=y,n.latitude=C,n.height=p,n):new Y(y,C,p)},W.prototype.cartesianArrayToCartographicArray=function(c,n){e.Check.defined("cartesians",c);const o=c.length;O.defined(n)?n.length=o:n=new Array(o);for(let h=0;h<o;++h)n[h]=this.cartesianToCartographic(c[h],n[h]);return n},W.prototype.scaleToGeodeticSurface=function(c,n){return ic(c,this._oneOverRadii,this._oneOverRadiiSquared,this._centerToleranceSquared,n)},W.prototype.scaleToGeocentricSurface=function(c,n){e.Check.typeOf.object("cartesian",c),O.defined(n)||(n=new b);const o=c.x,h=c.y,f=c.z,y=this._oneOverRadiiSquared,C=1/Math.sqrt(o*o*y.x+h*h*y.y+f*f*y.z);return b.multiplyByScalar(c,C,n)},W.prototype.transformPositionToScaledSpace=function(c,n){return O.defined(n)||(n=new b),b.multiplyComponents(c,this._oneOverRadii,n)},W.prototype.transformPositionFromScaledSpace=function(c,n){return O.defined(n)||(n=new b),b.multiplyComponents(c,this._radii,n)},W.prototype.equals=function(c){return this===c||O.defined(c)&&b.equals(this._radii,c._radii)},W.prototype.toString=function(){return this._radii.toString()},W.prototype.getSurfaceNormalIntersectionWithZAxis=function(c,n,o){if(e.Check.typeOf.object("position",c),!S.CesiumMath.equalsEpsilon(this._radii.x,this._radii.y,S.CesiumMath.EPSILON15))throw new e.DeveloperError("Ellipsoid must be an ellipsoid of revolution (radii.x == radii.y)");e.Check.typeOf.number.greaterThan("Ellipsoid.radii.z",this._radii.z,0),n=O.defaultValue(n,0);const h=this._squaredXOverSquaredZ;if(O.defined(o)||(o=new b),o.x=0,o.y=0,o.z=c.z*(1-h),!(Math.abs(o.z)>=this._radii.z-n))return o};const lc=[.14887433898163,.43339539412925,.67940956829902,.86506336668898,.97390652851717,0],rc=[.29552422471475,.26926671930999,.21908636251598,.14945134915058,.066671344308684,0];function Pc(c,n,o){e.Check.typeOf.number("a",c),e.Check.typeOf.number("b",n),e.Check.typeOf.func("func",o);const h=.5*(n+c),f=.5*(n-c);let y=0;for(let C=0;C<5;C++){const p=f*lc[C];y+=rc[C]*(o(h+p)+o(h-p))}return y*=f,y}W.prototype.surfaceArea=function(c){e.Check.typeOf.object("rectangle",c);const n=c.west;let o=c.east;const h=c.south,f=c.north;for(;o<n;)o+=S.CesiumMath.TWO_PI;const y=this._radiiSquared,C=y.x,p=y.y,k=y.z,w=C*p;return Pc(h,f,function(z){const q=Math.cos(z),_=Math.sin(z);return Math.cos(z)*Pc(n,o,function(A){const U=Math.cos(A),i=Math.sin(A);return Math.sqrt(w*_*_+k*(p*U*U+C*i*i)*q*q)})})};function d(c,n,o,h,f,y,C,p,k){this[0]=O.defaultValue(c,0),this[1]=O.defaultValue(h,0),this[2]=O.defaultValue(C,0),this[3]=O.defaultValue(n,0),this[4]=O.defaultValue(f,0),this[5]=O.defaultValue(p,0),this[6]=O.defaultValue(o,0),this[7]=O.defaultValue(y,0),this[8]=O.defaultValue(k,0)}d.packedLength=9,d.pack=function(c,n,o){return e.Check.typeOf.object("value",c),e.Check.defined("array",n),o=O.defaultValue(o,0),n[o++]=c[0],n[o++]=c[1],n[o++]=c[2],n[o++]=c[3],n[o++]=c[4],n[o++]=c[5],n[o++]=c[6],n[o++]=c[7],n[o++]=c[8],n},d.unpack=function(c,n,o){return e.Check.defined("array",c),n=O.defaultValue(n,0),O.defined(o)||(o=new d),o[0]=c[n++],o[1]=c[n++],o[2]=c[n++],o[3]=c[n++],o[4]=c[n++],o[5]=c[n++],o[6]=c[n++],o[7]=c[n++],o[8]=c[n++],o},d.packArray=function(c,n){e.Check.defined("array",c);const o=c.length,h=o*9;if(!O.defined(n))n=new Array(h);else{if(!Array.isArray(n)&&n.length!==h)throw new e.DeveloperError("If result is a typed array, it must have exactly array.length * 9 elements");n.length!==h&&(n.length=h)}for(let f=0;f<o;++f)d.pack(c[f],n,f*9);return n},d.unpackArray=function(c,n){if(e.Check.defined("array",c),e.Check.typeOf.number.greaterThanOrEquals("array.length",c.length,9),c.length%9!==0)throw new e.DeveloperError("array length must be a multiple of 9.");const o=c.length;O.defined(n)?n.length=o/9:n=new Array(o/9);for(let h=0;h<o;h+=9){const f=h/9;n[f]=d.unpack(c,h,n[f])}return n},d.clone=function(c,n){if(!!O.defined(c))return O.defined(n)?(n[0]=c[0],n[1]=c[1],n[2]=c[2],n[3]=c[3],n[4]=c[4],n[5]=c[5],n[6]=c[6],n[7]=c[7],n[8]=c[8],n):new d(c[0],c[3],c[6],c[1],c[4],c[7],c[2],c[5],c[8])},d.fromArray=d.unpack,d.fromColumnMajorArray=function(c,n){return e.Check.defined("values",c),d.clone(c,n)},d.fromRowMajorArray=function(c,n){return e.Check.defined("values",c),O.defined(n)?(n[0]=c[0],n[1]=c[3],n[2]=c[6],n[3]=c[1],n[4]=c[4],n[5]=c[7],n[6]=c[2],n[7]=c[5],n[8]=c[8],n):new d(c[0],c[1],c[2],c[3],c[4],c[5],c[6],c[7],c[8])},d.fromQuaternion=function(c,n){e.Check.typeOf.object("quaternion",c);const o=c.x*c.x,h=c.x*c.y,f=c.x*c.z,y=c.x*c.w,C=c.y*c.y,p=c.y*c.z,k=c.y*c.w,w=c.z*c.z,z=c.z*c.w,q=c.w*c.w,_=o-C-w+q,A=2*(h-z),U=2*(f+k),i=2*(h+z),P=-o+C-w+q,L=2*(p-y),$=2*(f-k),B=2*(p+y),X=-o-C+w+q;return O.defined(n)?(n[0]=_,n[1]=i,n[2]=$,n[3]=A,n[4]=P,n[5]=B,n[6]=U,n[7]=L,n[8]=X,n):new d(_,A,U,i,P,L,$,B,X)},d.fromHeadingPitchRoll=function(c,n){e.Check.typeOf.object("headingPitchRoll",c);const o=Math.cos(-c.pitch),h=Math.cos(-c.heading),f=Math.cos(c.roll),y=Math.sin(-c.pitch),C=Math.sin(-c.heading),p=Math.sin(c.roll),k=o*h,w=-f*C+p*y*h,z=p*C+f*y*h,q=o*C,_=f*h+p*y*C,A=-p*h+f*y*C,U=-y,i=p*o,P=f*o;return O.defined(n)?(n[0]=k,n[1]=q,n[2]=U,n[3]=w,n[4]=_,n[5]=i,n[6]=z,n[7]=A,n[8]=P,n):new d(k,w,z,q,_,A,U,i,P)},d.fromScale=function(c,n){return e.Check.typeOf.object("scale",c),O.defined(n)?(n[0]=c.x,n[1]=0,n[2]=0,n[3]=0,n[4]=c.y,n[5]=0,n[6]=0,n[7]=0,n[8]=c.z,n):new d(c.x,0,0,0,c.y,0,0,0,c.z)},d.fromUniformScale=function(c,n){return e.Check.typeOf.number("scale",c),O.defined(n)?(n[0]=c,n[1]=0,n[2]=0,n[3]=0,n[4]=c,n[5]=0,n[6]=0,n[7]=0,n[8]=c,n):new d(c,0,0,0,c,0,0,0,c)},d.fromCrossProduct=function(c,n){return e.Check.typeOf.object("vector",c),O.defined(n)?(n[0]=0,n[1]=c.z,n[2]=-c.y,n[3]=-c.z,n[4]=0,n[5]=c.x,n[6]=c.y,n[7]=-c.x,n[8]=0,n):new d(0,-c.z,c.y,c.z,0,-c.x,-c.y,c.x,0)},d.fromRotationX=function(c,n){e.Check.typeOf.number("angle",c);const o=Math.cos(c),h=Math.sin(c);return O.defined(n)?(n[0]=1,n[1]=0,n[2]=0,n[3]=0,n[4]=o,n[5]=h,n[6]=0,n[7]=-h,n[8]=o,n):new d(1,0,0,0,o,-h,0,h,o)},d.fromRotationY=function(c,n){e.Check.typeOf.number("angle",c);const o=Math.cos(c),h=Math.sin(c);return O.defined(n)?(n[0]=o,n[1]=0,n[2]=-h,n[3]=0,n[4]=1,n[5]=0,n[6]=h,n[7]=0,n[8]=o,n):new d(o,0,h,0,1,0,-h,0,o)},d.fromRotationZ=function(c,n){e.Check.typeOf.number("angle",c);const o=Math.cos(c),h=Math.sin(c);return O.defined(n)?(n[0]=o,n[1]=h,n[2]=0,n[3]=-h,n[4]=o,n[5]=0,n[6]=0,n[7]=0,n[8]=1,n):new d(o,-h,0,h,o,0,0,0,1)},d.toArray=function(c,n){return e.Check.typeOf.object("matrix",c),O.defined(n)?(n[0]=c[0],n[1]=c[1],n[2]=c[2],n[3]=c[3],n[4]=c[4],n[5]=c[5],n[6]=c[6],n[7]=c[7],n[8]=c[8],n):[c[0],c[1],c[2],c[3],c[4],c[5],c[6],c[7],c[8]]},d.getElementIndex=function(c,n){return e.Check.typeOf.number.greaterThanOrEquals("row",n,0),e.Check.typeOf.number.lessThanOrEquals("row",n,2),e.Check.typeOf.number.greaterThanOrEquals("column",c,0),e.Check.typeOf.number.lessThanOrEquals("column",c,2),c*3+n},d.getColumn=function(c,n,o){e.Check.typeOf.object("matrix",c),e.Check.typeOf.number.greaterThanOrEquals("index",n,0),e.Check.typeOf.number.lessThanOrEquals("index",n,2),e.Check.typeOf.object("result",o);const h=n*3,f=c[h],y=c[h+1],C=c[h+2];return o.x=f,o.y=y,o.z=C,o},d.setColumn=function(c,n,o,h){e.Check.typeOf.object("matrix",c),e.Check.typeOf.number.greaterThanOrEquals("index",n,0),e.Check.typeOf.number.lessThanOrEquals("index",n,2),e.Check.typeOf.object("cartesian",o),e.Check.typeOf.object("result",h),h=d.clone(c,h);const f=n*3;return h[f]=o.x,h[f+1]=o.y,h[f+2]=o.z,h},d.getRow=function(c,n,o){e.Check.typeOf.object("matrix",c),e.Check.typeOf.number.greaterThanOrEquals("index",n,0),e.Check.typeOf.number.lessThanOrEquals("index",n,2),e.Check.typeOf.object("result",o);const h=c[n],f=c[n+3],y=c[n+6];return o.x=h,o.y=f,o.z=y,o},d.setRow=function(c,n,o,h){return e.Check.typeOf.object("matrix",c),e.Check.typeOf.number.greaterThanOrEquals("index",n,0),e.Check.typeOf.number.lessThanOrEquals("index",n,2),e.Check.typeOf.object("cartesian",o),e.Check.typeOf.object("result",h),h=d.clone(c,h),h[n]=o.x,h[n+3]=o.y,h[n+6]=o.z,h};const cn=new b;d.setScale=function(c,n,o){e.Check.typeOf.object("matrix",c),e.Check.typeOf.object("scale",n),e.Check.typeOf.object("result",o);const h=d.getScale(c,cn),f=n.x/h.x,y=n.y/h.y,C=n.z/h.z;return o[0]=c[0]*f,o[1]=c[1]*f,o[2]=c[2]*f,o[3]=c[3]*y,o[4]=c[4]*y,o[5]=c[5]*y,o[6]=c[6]*C,o[7]=c[7]*C,o[8]=c[8]*C,o};const nn=new b;d.setUniformScale=function(c,n,o){e.Check.typeOf.object("matrix",c),e.Check.typeOf.number("scale",n),e.Check.typeOf.object("result",o);const h=d.getScale(c,nn),f=n/h.x,y=n/h.y,C=n/h.z;return o[0]=c[0]*f,o[1]=c[1]*f,o[2]=c[2]*f,o[3]=c[3]*y,o[4]=c[4]*y,o[5]=c[5]*y,o[6]=c[6]*C,o[7]=c[7]*C,o[8]=c[8]*C,o};const kc=new b;d.getScale=function(c,n){return e.Check.typeOf.object("matrix",c),e.Check.typeOf.object("result",n),n.x=b.magnitude(b.fromElements(c[0],c[1],c[2],kc)),n.y=b.magnitude(b.fromElements(c[3],c[4],c[5],kc)),n.z=b.magnitude(b.fromElements(c[6],c[7],c[8],kc)),n};const Lc=new b;d.getMaximumScale=function(c){return d.getScale(c,Lc),b.maximumComponent(Lc)};const on=new b;d.setRotation=function(c,n,o){e.Check.typeOf.object("matrix",c),e.Check.typeOf.object("result",o);const h=d.getScale(c,on);return o[0]=n[0]*h.x,o[1]=n[1]*h.x,o[2]=n[2]*h.x,o[3]=n[3]*h.y,o[4]=n[4]*h.y,o[5]=n[5]*h.y,o[6]=n[6]*h.z,o[7]=n[7]*h.z,o[8]=n[8]*h.z,o};const hn=new b;d.getRotation=function(c,n){e.Check.typeOf.object("matrix",c),e.Check.typeOf.object("result",n);const o=d.getScale(c,hn);return n[0]=c[0]/o.x,n[1]=c[1]/o.x,n[2]=c[2]/o.x,n[3]=c[3]/o.y,n[4]=c[4]/o.y,n[5]=c[5]/o.y,n[6]=c[6]/o.z,n[7]=c[7]/o.z,n[8]=c[8]/o.z,n},d.multiply=function(c,n,o){e.Check.typeOf.object("left",c),e.Check.typeOf.object("right",n),e.Check.typeOf.object("result",o);const h=c[0]*n[0]+c[3]*n[1]+c[6]*n[2],f=c[1]*n[0]+c[4]*n[1]+c[7]*n[2],y=c[2]*n[0]+c[5]*n[1]+c[8]*n[2],C=c[0]*n[3]+c[3]*n[4]+c[6]*n[5],p=c[1]*n[3]+c[4]*n[4]+c[7]*n[5],k=c[2]*n[3]+c[5]*n[4]+c[8]*n[5],w=c[0]*n[6]+c[3]*n[7]+c[6]*n[8],z=c[1]*n[6]+c[4]*n[7]+c[7]*n[8],q=c[2]*n[6]+c[5]*n[7]+c[8]*n[8];return o[0]=h,o[1]=f,o[2]=y,o[3]=C,o[4]=p,o[5]=k,o[6]=w,o[7]=z,o[8]=q,o},d.add=function(c,n,o){return e.Check.typeOf.object("left",c),e.Check.typeOf.object("right",n),e.Check.typeOf.object("result",o),o[0]=c[0]+n[0],o[1]=c[1]+n[1],o[2]=c[2]+n[2],o[3]=c[3]+n[3],o[4]=c[4]+n[4],o[5]=c[5]+n[5],o[6]=c[6]+n[6],o[7]=c[7]+n[7],o[8]=c[8]+n[8],o},d.subtract=function(c,n,o){return e.Check.typeOf.object("left",c),e.Check.typeOf.object("right",n),e.Check.typeOf.object("result",o),o[0]=c[0]-n[0],o[1]=c[1]-n[1],o[2]=c[2]-n[2],o[3]=c[3]-n[3],o[4]=c[4]-n[4],o[5]=c[5]-n[5],o[6]=c[6]-n[6],o[7]=c[7]-n[7],o[8]=c[8]-n[8],o},d.multiplyByVector=function(c,n,o){e.Check.typeOf.object("matrix",c),e.Check.typeOf.object("cartesian",n),e.Check.typeOf.object("result",o);const h=n.x,f=n.y,y=n.z,C=c[0]*h+c[3]*f+c[6]*y,p=c[1]*h+c[4]*f+c[7]*y,k=c[2]*h+c[5]*f+c[8]*y;return o.x=C,o.y=p,o.z=k,o},d.multiplyByScalar=function(c,n,o){return e.Check.typeOf.object("matrix",c),e.Check.typeOf.number("scalar",n),e.Check.typeOf.object("result",o),o[0]=c[0]*n,o[1]=c[1]*n,o[2]=c[2]*n,o[3]=c[3]*n,o[4]=c[4]*n,o[5]=c[5]*n,o[6]=c[6]*n,o[7]=c[7]*n,o[8]=c[8]*n,o},d.multiplyByScale=function(c,n,o){return e.Check.typeOf.object("matrix",c),e.Check.typeOf.object("scale",n),e.Check.typeOf.object("result",o),o[0]=c[0]*n.x,o[1]=c[1]*n.x,o[2]=c[2]*n.x,o[3]=c[3]*n.y,o[4]=c[4]*n.y,o[5]=c[5]*n.y,o[6]=c[6]*n.z,o[7]=c[7]*n.z,o[8]=c[8]*n.z,o},d.multiplyByUniformScale=function(c,n,o){return e.Check.typeOf.object("matrix",c),e.Check.typeOf.number("scale",n),e.Check.typeOf.object("result",o),o[0]=c[0]*n,o[1]=c[1]*n,o[2]=c[2]*n,o[3]=c[3]*n,o[4]=c[4]*n,o[5]=c[5]*n,o[6]=c[6]*n,o[7]=c[7]*n,o[8]=c[8]*n,o},d.negate=function(c,n){return e.Check.typeOf.object("matrix",c),e.Check.typeOf.object("result",n),n[0]=-c[0],n[1]=-c[1],n[2]=-c[2],n[3]=-c[3],n[4]=-c[4],n[5]=-c[5],n[6]=-c[6],n[7]=-c[7],n[8]=-c[8],n},d.transpose=function(c,n){e.Check.typeOf.object("matrix",c),e.Check.typeOf.object("result",n);const o=c[0],h=c[3],f=c[6],y=c[1],C=c[4],p=c[7],k=c[2],w=c[5],z=c[8];return n[0]=o,n[1]=h,n[2]=f,n[3]=y,n[4]=C,n[5]=p,n[6]=k,n[7]=w,n[8]=z,n};function en(c){let n=0;for(let o=0;o<9;++o){const h=c[o];n+=h*h}return Math.sqrt(n)}const dc=[1,0,0],wc=[2,2,1];function fn(c){let n=0;for(let o=0;o<3;++o){const h=c[d.getElementIndex(wc[o],dc[o])];n+=2*h*h}return Math.sqrt(n)}function yn(c,n){const o=S.CesiumMath.EPSILON15;let h=0,f=1;for(let w=0;w<3;++w){const z=Math.abs(c[d.getElementIndex(wc[w],dc[w])]);z>h&&(f=w,h=z)}let y=1,C=0;const p=dc[f],k=wc[f];if(Math.abs(c[d.getElementIndex(k,p)])>o){const w=c[d.getElementIndex(k,k)],z=c[d.getElementIndex(p,p)],q=c[d.getElementIndex(k,p)],_=(w-z)/2/q;let A;_<0?A=-1/(-_+Math.sqrt(1+_*_)):A=1/(_+Math.sqrt(1+_*_)),y=1/Math.sqrt(1+A*A),C=A*y}return n=d.clone(d.IDENTITY,n),n[d.getElementIndex(p,p)]=n[d.getElementIndex(k,k)]=y,n[d.getElementIndex(k,p)]=C,n[d.getElementIndex(p,k)]=-C,n}const Oc=new d,Wc=new d;d.computeEigenDecomposition=function(c,n){e.Check.typeOf.object("matrix",c);const o=S.CesiumMath.EPSILON20,h=10;let f=0,y=0;O.defined(n)||(n={});const C=n.unitary=d.clone(d.IDENTITY,n.unitary),p=n.diagonal=d.clone(c,n.diagonal),k=o*en(p);for(;y<h&&fn(p)>k;)yn(p,Oc),d.transpose(Oc,Wc),d.multiply(p,Oc,p),d.multiply(Wc,p,p),d.multiply(C,Oc,C),++f>2&&(++y,f=0);return n},d.abs=function(c,n){return e.Check.typeOf.object("matrix",c),e.Check.typeOf.object("result",n),n[0]=Math.abs(c[0]),n[1]=Math.abs(c[1]),n[2]=Math.abs(c[2]),n[3]=Math.abs(c[3]),n[4]=Math.abs(c[4]),n[5]=Math.abs(c[5]),n[6]=Math.abs(c[6]),n[7]=Math.abs(c[7]),n[8]=Math.abs(c[8]),n},d.determinant=function(c){e.Check.typeOf.object("matrix",c);const n=c[0],o=c[3],h=c[6],f=c[1],y=c[4],C=c[7],p=c[2],k=c[5],w=c[8];return n*(y*w-k*C)+f*(k*h-o*w)+p*(o*C-y*h)},d.inverse=function(c,n){e.Check.typeOf.object("matrix",c),e.Check.typeOf.object("result",n);const o=c[0],h=c[1],f=c[2],y=c[3],C=c[4],p=c[5],k=c[6],w=c[7],z=c[8],q=d.determinant(c);if(Math.abs(q)<=S.CesiumMath.EPSILON15)throw new e.DeveloperError("matrix is not invertible");n[0]=C*z-w*p,n[1]=w*f-h*z,n[2]=h*p-C*f,n[3]=k*p-y*z,n[4]=o*z-k*f,n[5]=y*f-o*p,n[6]=y*w-k*C,n[7]=k*h-o*w,n[8]=o*C-y*h;const _=1/q;return d.multiplyByScalar(n,_,n)};const On=new d;d.inverseTranspose=function(c,n){return e.Check.typeOf.object("matrix",c),e.Check.typeOf.object("result",n),d.inverse(d.transpose(c,On),n)},d.equals=function(c,n){return c===n||O.defined(c)&&O.defined(n)&&c[0]===n[0]&&c[1]===n[1]&&c[2]===n[2]&&c[3]===n[3]&&c[4]===n[4]&&c[5]===n[5]&&c[6]===n[6]&&c[7]===n[7]&&c[8]===n[8]},d.equalsEpsilon=function(c,n,o){return o=O.defaultValue(o,0),c===n||O.defined(c)&&O.defined(n)&&Math.abs(c[0]-n[0])<=o&&Math.abs(c[1]-n[1])<=o&&Math.abs(c[2]-n[2])<=o&&Math.abs(c[3]-n[3])<=o&&Math.abs(c[4]-n[4])<=o&&Math.abs(c[5]-n[5])<=o&&Math.abs(c[6]-n[6])<=o&&Math.abs(c[7]-n[7])<=o&&Math.abs(c[8]-n[8])<=o},d.IDENTITY=Object.freeze(new d(1,0,0,0,1,0,0,0,1)),d.ZERO=Object.freeze(new d(0,0,0,0,0,0,0,0,0)),d.COLUMN0ROW0=0,d.COLUMN0ROW1=1,d.COLUMN0ROW2=2,d.COLUMN1ROW0=3,d.COLUMN1ROW1=4,d.COLUMN1ROW2=5,d.COLUMN2ROW0=6,d.COLUMN2ROW1=7,d.COLUMN2ROW2=8,Object.defineProperties(d.prototype,{length:{get:function(){return d.packedLength}}}),d.prototype.clone=function(c){return d.clone(this,c)},d.prototype.equals=function(c){return d.equals(this,c)},d.equalsArray=function(c,n,o){return c[0]===n[o]&&c[1]===n[o+1]&&c[2]===n[o+2]&&c[3]===n[o+3]&&c[4]===n[o+4]&&c[5]===n[o+5]&&c[6]===n[o+6]&&c[7]===n[o+7]&&c[8]===n[o+8]},d.prototype.equalsEpsilon=function(c,n){return d.equalsEpsilon(this,c,n)},d.prototype.toString=function(){return`(${this[0]}, ${this[3]}, ${this[6]})
(${this[1]}, ${this[4]}, ${this[7]})
(${this[2]}, ${this[5]}, ${this[8]})`};function M(c,n,o,h){this.x=O.defaultValue(c,0),this.y=O.defaultValue(n,0),this.z=O.defaultValue(o,0),this.w=O.defaultValue(h,0)}M.fromElements=function(c,n,o,h,f){return O.defined(f)?(f.x=c,f.y=n,f.z=o,f.w=h,f):new M(c,n,o,h)},M.fromColor=function(c,n){return e.Check.typeOf.object("color",c),O.defined(n)?(n.x=c.red,n.y=c.green,n.z=c.blue,n.w=c.alpha,n):new M(c.red,c.green,c.blue,c.alpha)},M.clone=function(c,n){if(!!O.defined(c))return O.defined(n)?(n.x=c.x,n.y=c.y,n.z=c.z,n.w=c.w,n):new M(c.x,c.y,c.z,c.w)},M.packedLength=4,M.pack=function(c,n,o){return e.Check.typeOf.object("value",c),e.Check.defined("array",n),o=O.defaultValue(o,0),n[o++]=c.x,n[o++]=c.y,n[o++]=c.z,n[o]=c.w,n},M.unpack=function(c,n,o){return e.Check.defined("array",c),n=O.defaultValue(n,0),O.defined(o)||(o=new M),o.x=c[n++],o.y=c[n++],o.z=c[n++],o.w=c[n],o},M.packArray=function(c,n){e.Check.defined("array",c);const o=c.length,h=o*4;if(!O.defined(n))n=new Array(h);else{if(!Array.isArray(n)&&n.length!==h)throw new e.DeveloperError("If result is a typed array, it must have exactly array.length * 4 elements");n.length!==h&&(n.length=h)}for(let f=0;f<o;++f)M.pack(c[f],n,f*4);return n},M.unpackArray=function(c,n){if(e.Check.defined("array",c),e.Check.typeOf.number.greaterThanOrEquals("array.length",c.length,4),c.length%4!==0)throw new e.DeveloperError("array length must be a multiple of 4.");const o=c.length;O.defined(n)?n.length=o/4:n=new Array(o/4);for(let h=0;h<o;h+=4){const f=h/4;n[f]=M.unpack(c,h,n[f])}return n},M.fromArray=M.unpack,M.maximumComponent=function(c){return e.Check.typeOf.object("cartesian",c),Math.max(c.x,c.y,c.z,c.w)},M.minimumComponent=function(c){return e.Check.typeOf.object("cartesian",c),Math.min(c.x,c.y,c.z,c.w)},M.minimumByComponent=function(c,n,o){return e.Check.typeOf.object("first",c),e.Check.typeOf.object("second",n),e.Check.typeOf.object("result",o),o.x=Math.min(c.x,n.x),o.y=Math.min(c.y,n.y),o.z=Math.min(c.z,n.z),o.w=Math.min(c.w,n.w),o},M.maximumByComponent=function(c,n,o){return e.Check.typeOf.object("first",c),e.Check.typeOf.object("second",n),e.Check.typeOf.object("result",o),o.x=Math.max(c.x,n.x),o.y=Math.max(c.y,n.y),o.z=Math.max(c.z,n.z),o.w=Math.max(c.w,n.w),o},M.clamp=function(c,n,o,h){e.Check.typeOf.object("value",c),e.Check.typeOf.object("min",n),e.Check.typeOf.object("max",o),e.Check.typeOf.object("result",h);const f=S.CesiumMath.clamp(c.x,n.x,o.x),y=S.CesiumMath.clamp(c.y,n.y,o.y),C=S.CesiumMath.clamp(c.z,n.z,o.z),p=S.CesiumMath.clamp(c.w,n.w,o.w);return h.x=f,h.y=y,h.z=C,h.w=p,h},M.magnitudeSquared=function(c){return e.Check.typeOf.object("cartesian",c),c.x*c.x+c.y*c.y+c.z*c.z+c.w*c.w},M.magnitude=function(c){return Math.sqrt(M.magnitudeSquared(c))};const Cc=new M;M.distance=function(c,n){return e.Check.typeOf.object("left",c),e.Check.typeOf.object("right",n),M.subtract(c,n,Cc),M.magnitude(Cc)},M.distanceSquared=function(c,n){return e.Check.typeOf.object("left",c),e.Check.typeOf.object("right",n),M.subtract(c,n,Cc),M.magnitudeSquared(Cc)},M.normalize=function(c,n){e.Check.typeOf.object("cartesian",c),e.Check.typeOf.object("result",n);const o=M.magnitude(c);if(n.x=c.x/o,n.y=c.y/o,n.z=c.z/o,n.w=c.w/o,isNaN(n.x)||isNaN(n.y)||isNaN(n.z)||isNaN(n.w))throw new e.DeveloperError("normalized result is not a number");return n},M.dot=function(c,n){return e.Check.typeOf.object("left",c),e.Check.typeOf.object("right",n),c.x*n.x+c.y*n.y+c.z*n.z+c.w*n.w},M.multiplyComponents=function(c,n,o){return e.Check.typeOf.object("left",c),e.Check.typeOf.object("right",n),e.Check.typeOf.object("result",o),o.x=c.x*n.x,o.y=c.y*n.y,o.z=c.z*n.z,o.w=c.w*n.w,o},M.divideComponents=function(c,n,o){return e.Check.typeOf.object("left",c),e.Check.typeOf.object("right",n),e.Check.typeOf.object("result",o),o.x=c.x/n.x,o.y=c.y/n.y,o.z=c.z/n.z,o.w=c.w/n.w,o},M.add=function(c,n,o){return e.Check.typeOf.object("left",c),e.Check.typeOf.object("right",n),e.Check.typeOf.object("result",o),o.x=c.x+n.x,o.y=c.y+n.y,o.z=c.z+n.z,o.w=c.w+n.w,o},M.subtract=function(c,n,o){return e.Check.typeOf.object("left",c),e.Check.typeOf.object("right",n),e.Check.typeOf.object("result",o),o.x=c.x-n.x,o.y=c.y-n.y,o.z=c.z-n.z,o.w=c.w-n.w,o},M.multiplyByScalar=function(c,n,o){return e.Check.typeOf.object("cartesian",c),e.Check.typeOf.number("scalar",n),e.Check.typeOf.object("result",o),o.x=c.x*n,o.y=c.y*n,o.z=c.z*n,o.w=c.w*n,o},M.divideByScalar=function(c,n,o){return e.Check.typeOf.object("cartesian",c),e.Check.typeOf.number("scalar",n),e.Check.typeOf.object("result",o),o.x=c.x/n,o.y=c.y/n,o.z=c.z/n,o.w=c.w/n,o},M.negate=function(c,n){return e.Check.typeOf.object("cartesian",c),e.Check.typeOf.object("result",n),n.x=-c.x,n.y=-c.y,n.z=-c.z,n.w=-c.w,n},M.abs=function(c,n){return e.Check.typeOf.object("cartesian",c),e.Check.typeOf.object("result",n),n.x=Math.abs(c.x),n.y=Math.abs(c.y),n.z=Math.abs(c.z),n.w=Math.abs(c.w),n};const $c=new M;M.lerp=function(c,n,o,h){return e.Check.typeOf.object("start",c),e.Check.typeOf.object("end",n),e.Check.typeOf.number("t",o),e.Check.typeOf.object("result",h),M.multiplyByScalar(n,o,$c),h=M.multiplyByScalar(c,1-o,h),M.add($c,h,h)};const Cn=new M;M.mostOrthogonalAxis=function(c,n){e.Check.typeOf.object("cartesian",c),e.Check.typeOf.object("result",n);const o=M.normalize(c,Cn);return M.abs(o,o),o.x<=o.y?o.x<=o.z?o.x<=o.w?n=M.clone(M.UNIT_X,n):n=M.clone(M.UNIT_W,n):o.z<=o.w?n=M.clone(M.UNIT_Z,n):n=M.clone(M.UNIT_W,n):o.y<=o.z?o.y<=o.w?n=M.clone(M.UNIT_Y,n):n=M.clone(M.UNIT_W,n):o.z<=o.w?n=M.clone(M.UNIT_Z,n):n=M.clone(M.UNIT_W,n),n},M.equals=function(c,n){return c===n||O.defined(c)&&O.defined(n)&&c.x===n.x&&c.y===n.y&&c.z===n.z&&c.w===n.w},M.equalsArray=function(c,n,o){return c.x===n[o]&&c.y===n[o+1]&&c.z===n[o+2]&&c.w===n[o+3]},M.equalsEpsilon=function(c,n,o,h){return c===n||O.defined(c)&&O.defined(n)&&S.CesiumMath.equalsEpsilon(c.x,n.x,o,h)&&S.CesiumMath.equalsEpsilon(c.y,n.y,o,h)&&S.CesiumMath.equalsEpsilon(c.z,n.z,o,h)&&S.CesiumMath.equalsEpsilon(c.w,n.w,o,h)},M.ZERO=Object.freeze(new M(0,0,0,0)),M.ONE=Object.freeze(new M(1,1,1,1)),M.UNIT_X=Object.freeze(new M(1,0,0,0)),M.UNIT_Y=Object.freeze(new M(0,1,0,0)),M.UNIT_Z=Object.freeze(new M(0,0,1,0)),M.UNIT_W=Object.freeze(new M(0,0,0,1)),M.prototype.clone=function(c){return M.clone(this,c)},M.prototype.equals=function(c){return M.equals(this,c)},M.prototype.equalsEpsilon=function(c,n,o){return M.equalsEpsilon(this,c,n,o)},M.prototype.toString=function(){return`(${this.x}, ${this.y}, ${this.z}, ${this.w})`};const jc=new Float32Array(1),D=new Uint8Array(jc.buffer),bn=new Uint32Array([287454020]),Bc=new Uint8Array(bn.buffer)[0]===68;M.packFloat=function(c,n){return e.Check.typeOf.number("value",c),O.defined(n)||(n=new M),jc[0]=c,Bc?(n.x=D[0],n.y=D[1],n.z=D[2],n.w=D[3]):(n.x=D[3],n.y=D[2],n.z=D[1],n.w=D[0]),n},M.unpackFloat=function(c){return e.Check.typeOf.object("packedFloat",c),Bc?(D[0]=c.x,D[1]=c.y,D[2]=c.z,D[3]=c.w):(D[0]=c.w,D[1]=c.z,D[2]=c.y,D[3]=c.x),jc[0]};function j(c,n,o,h,f,y,C,p,k,w,z,q,_,A,U,i){this[0]=O.defaultValue(c,0),this[1]=O.defaultValue(f,0),this[2]=O.defaultValue(k,0),this[3]=O.defaultValue(_,0),this[4]=O.defaultValue(n,0),this[5]=O.defaultValue(y,0),this[6]=O.defaultValue(w,0),this[7]=O.defaultValue(A,0),this[8]=O.defaultValue(o,0),this[9]=O.defaultValue(C,0),this[10]=O.defaultValue(z,0),this[11]=O.defaultValue(U,0),this[12]=O.defaultValue(h,0),this[13]=O.defaultValue(p,0),this[14]=O.defaultValue(q,0),this[15]=O.defaultValue(i,0)}j.packedLength=16,j.pack=function(c,n,o){return e.Check.typeOf.object("value",c),e.Check.defined("array",n),o=O.defaultValue(o,0),n[o++]=c[0],n[o++]=c[1],n[o++]=c[2],n[o++]=c[3],n[o++]=c[4],n[o++]=c[5],n[o++]=c[6],n[o++]=c[7],n[o++]=c[8],n[o++]=c[9],n[o++]=c[10],n[o++]=c[11],n[o++]=c[12],n[o++]=c[13],n[o++]=c[14],n[o]=c[15],n},j.unpack=function(c,n,o){return e.Check.defined("array",c),n=O.defaultValue(n,0),O.defined(o)||(o=new j),o[0]=c[n++],o[1]=c[n++],o[2]=c[n++],o[3]=c[n++],o[4]=c[n++],o[5]=c[n++],o[6]=c[n++],o[7]=c[n++],o[8]=c[n++],o[9]=c[n++],o[10]=c[n++],o[11]=c[n++],o[12]=c[n++],o[13]=c[n++],o[14]=c[n++],o[15]=c[n],o},j.packArray=function(c,n){e.Check.defined("array",c);const o=c.length,h=o*16;if(!O.defined(n))n=new Array(h);else{if(!Array.isArray(n)&&n.length!==h)throw new e.DeveloperError("If result is a typed array, it must have exactly array.length * 16 elements");n.length!==h&&(n.length=h)}for(let f=0;f<o;++f)j.pack(c[f],n,f*16);return n},j.unpackArray=function(c,n){if(e.Check.defined("array",c),e.Check.typeOf.number.greaterThanOrEquals("array.length",c.length,16),c.length%16!==0)throw new e.DeveloperError("array length must be a multiple of 16.");const o=c.length;O.defined(n)?n.length=o/16:n=new Array(o/16);for(let h=0;h<o;h+=16){const f=h/16;n[f]=j.unpack(c,h,n[f])}return n},j.clone=function(c,n){if(!!O.defined(c))return O.defined(n)?(n[0]=c[0],n[1]=c[1],n[2]=c[2],n[3]=c[3],n[4]=c[4],n[5]=c[5],n[6]=c[6],n[7]=c[7],n[8]=c[8],n[9]=c[9],n[10]=c[10],n[11]=c[11],n[12]=c[12],n[13]=c[13],n[14]=c[14],n[15]=c[15],n):new j(c[0],c[4],c[8],c[12],c[1],c[5],c[9],c[13],c[2],c[6],c[10],c[14],c[3],c[7],c[11],c[15])},j.fromArray=j.unpack,j.fromColumnMajorArray=function(c,n){return e.Check.defined("values",c),j.clone(c,n)},j.fromRowMajorArray=function(c,n){return e.Check.defined("values",c),O.defined(n)?(n[0]=c[0],n[1]=c[4],n[2]=c[8],n[3]=c[12],n[4]=c[1],n[5]=c[5],n[6]=c[9],n[7]=c[13],n[8]=c[2],n[9]=c[6],n[10]=c[10],n[11]=c[14],n[12]=c[3],n[13]=c[7],n[14]=c[11],n[15]=c[15],n):new j(c[0],c[1],c[2],c[3],c[4],c[5],c[6],c[7],c[8],c[9],c[10],c[11],c[12],c[13],c[14],c[15])},j.fromRotationTranslation=function(c,n,o){return e.Check.typeOf.object("rotation",c),n=O.defaultValue(n,b.ZERO),O.defined(o)?(o[0]=c[0],o[1]=c[1],o[2]=c[2],o[3]=0,o[4]=c[3],o[5]=c[4],o[6]=c[5],o[7]=0,o[8]=c[6],o[9]=c[7],o[10]=c[8],o[11]=0,o[12]=n.x,o[13]=n.y,o[14]=n.z,o[15]=1,o):new j(c[0],c[3],c[6],n.x,c[1],c[4],c[7],n.y,c[2],c[5],c[8],n.z,0,0,0,1)},j.fromTranslationQuaternionRotationScale=function(c,n,o,h){e.Check.typeOf.object("translation",c),e.Check.typeOf.object("rotation",n),e.Check.typeOf.object("scale",o),O.defined(h)||(h=new j);const f=o.x,y=o.y,C=o.z,p=n.x*n.x,k=n.x*n.y,w=n.x*n.z,z=n.x*n.w,q=n.y*n.y,_=n.y*n.z,A=n.y*n.w,U=n.z*n.z,i=n.z*n.w,P=n.w*n.w,L=p-q-U+P,$=2*(k-i),B=2*(w+A),X=2*(k+i),I=-p+q-U+P,F=2*(_-z),G=2*(w-A),H=2*(_+z),Z=-p-q+U+P;return h[0]=L*f,h[1]=X*f,h[2]=G*f,h[3]=0,h[4]=$*y,h[5]=I*y,h[6]=H*y,h[7]=0,h[8]=B*C,h[9]=F*C,h[10]=Z*C,h[11]=0,h[12]=c.x,h[13]=c.y,h[14]=c.z,h[15]=1,h},j.fromTranslationRotationScale=function(c,n){return e.Check.typeOf.object("translationRotationScale",c),j.fromTranslationQuaternionRotationScale(c.translation,c.rotation,c.scale,n)},j.fromTranslation=function(c,n){return e.Check.typeOf.object("translation",c),j.fromRotationTranslation(d.IDENTITY,c,n)},j.fromScale=function(c,n){return e.Check.typeOf.object("scale",c),O.defined(n)?(n[0]=c.x,n[1]=0,n[2]=0,n[3]=0,n[4]=0,n[5]=c.y,n[6]=0,n[7]=0,n[8]=0,n[9]=0,n[10]=c.z,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,n):new j(c.x,0,0,0,0,c.y,0,0,0,0,c.z,0,0,0,0,1)},j.fromUniformScale=function(c,n){return e.Check.typeOf.number("scale",c),O.defined(n)?(n[0]=c,n[1]=0,n[2]=0,n[3]=0,n[4]=0,n[5]=c,n[6]=0,n[7]=0,n[8]=0,n[9]=0,n[10]=c,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,n):new j(c,0,0,0,0,c,0,0,0,0,c,0,0,0,0,1)},j.fromRotation=function(c,n){return e.Check.typeOf.object("rotation",c),O.defined(n)||(n=new j),n[0]=c[0],n[1]=c[1],n[2]=c[2],n[3]=0,n[4]=c[3],n[5]=c[4],n[6]=c[5],n[7]=0,n[8]=c[6],n[9]=c[7],n[10]=c[8],n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,n};const l=new b,r=new b,cc=new b;j.fromCamera=function(c,n){e.Check.typeOf.object("camera",c);const o=c.position,h=c.direction,f=c.up;e.Check.typeOf.object("camera.position",o),e.Check.typeOf.object("camera.direction",h),e.Check.typeOf.object("camera.up",f),b.normalize(h,l),b.normalize(b.cross(l,f,r),r),b.normalize(b.cross(r,l,cc),cc);const y=r.x,C=r.y,p=r.z,k=l.x,w=l.y,z=l.z,q=cc.x,_=cc.y,A=cc.z,U=o.x,i=o.y,P=o.z,L=y*-U+C*-i+p*-P,$=q*-U+_*-i+A*-P,B=k*U+w*i+z*P;return O.defined(n)?(n[0]=y,n[1]=q,n[2]=-k,n[3]=0,n[4]=C,n[5]=_,n[6]=-w,n[7]=0,n[8]=p,n[9]=A,n[10]=-z,n[11]=0,n[12]=L,n[13]=$,n[14]=B,n[15]=1,n):new j(y,C,p,L,q,_,A,$,-k,-w,-z,B,0,0,0,1)},j.computePerspectiveFieldOfView=function(c,n,o,h,f){e.Check.typeOf.number.greaterThan("fovY",c,0),e.Check.typeOf.number.lessThan("fovY",c,Math.PI),e.Check.typeOf.number.greaterThan("near",o,0),e.Check.typeOf.number.greaterThan("far",h,0),e.Check.typeOf.object("result",f);const y=Math.tan(c*.5),C=1/y,p=C/n,k=(h+o)/(o-h),w=2*h*o/(o-h);return f[0]=p,f[1]=0,f[2]=0,f[3]=0,f[4]=0,f[5]=C,f[6]=0,f[7]=0,f[8]=0,f[9]=0,f[10]=k,f[11]=-1,f[12]=0,f[13]=0,f[14]=w,f[15]=0,f},j.computeOrthographicOffCenter=function(c,n,o,h,f,y,C){e.Check.typeOf.number("left",c),e.Check.typeOf.number("right",n),e.Check.typeOf.number("bottom",o),e.Check.typeOf.number("top",h),e.Check.typeOf.number("near",f),e.Check.typeOf.number("far",y),e.Check.typeOf.object("result",C);let p=1/(n-c),k=1/(h-o),w=1/(y-f);const z=-(n+c)*p,q=-(h+o)*k,_=-(y+f)*w;return p*=2,k*=2,w*=-2,C[0]=p,C[1]=0,C[2]=0,C[3]=0,C[4]=0,C[5]=k,C[6]=0,C[7]=0,C[8]=0,C[9]=0,C[10]=w,C[11]=0,C[12]=z,C[13]=q,C[14]=_,C[15]=1,C},j.computePerspectiveOffCenter=function(c,n,o,h,f,y,C){e.Check.typeOf.number("left",c),e.Check.typeOf.number("right",n),e.Check.typeOf.number("bottom",o),e.Check.typeOf.number("top",h),e.Check.typeOf.number("near",f),e.Check.typeOf.number("far",y),e.Check.typeOf.object("result",C);const p=2*f/(n-c),k=2*f/(h-o),w=(n+c)/(n-c),z=(h+o)/(h-o),q=-(y+f)/(y-f),_=-1,A=-2*y*f/(y-f);return C[0]=p,C[1]=0,C[2]=0,C[3]=0,C[4]=0,C[5]=k,C[6]=0,C[7]=0,C[8]=w,C[9]=z,C[10]=q,C[11]=_,C[12]=0,C[13]=0,C[14]=A,C[15]=0,C},j.computeInfinitePerspectiveOffCenter=function(c,n,o,h,f,y){e.Check.typeOf.number("left",c),e.Check.typeOf.number("right",n),e.Check.typeOf.number("bottom",o),e.Check.typeOf.number("top",h),e.Check.typeOf.number("near",f),e.Check.typeOf.object("result",y);const C=2*f/(n-c),p=2*f/(h-o),k=(n+c)/(n-c),w=(h+o)/(h-o),z=-1,q=-1,_=-2*f;return y[0]=C,y[1]=0,y[2]=0,y[3]=0,y[4]=0,y[5]=p,y[6]=0,y[7]=0,y[8]=k,y[9]=w,y[10]=z,y[11]=q,y[12]=0,y[13]=0,y[14]=_,y[15]=0,y},j.computeViewportTransformation=function(c,n,o,h){O.defined(h)||(h=new j),c=O.defaultValue(c,O.defaultValue.EMPTY_OBJECT);const f=O.defaultValue(c.x,0),y=O.defaultValue(c.y,0),C=O.defaultValue(c.width,0),p=O.defaultValue(c.height,0);n=O.defaultValue(n,0),o=O.defaultValue(o,1);const k=C*.5,w=p*.5,z=(o-n)*.5,q=k,_=w,A=z,U=f+k,i=y+w,P=n+z,L=1;return h[0]=q,h[1]=0,h[2]=0,h[3]=0,h[4]=0,h[5]=_,h[6]=0,h[7]=0,h[8]=0,h[9]=0,h[10]=A,h[11]=0,h[12]=U,h[13]=i,h[14]=P,h[15]=L,h},j.computeView=function(c,n,o,h,f){return e.Check.typeOf.object("position",c),e.Check.typeOf.object("direction",n),e.Check.typeOf.object("up",o),e.Check.typeOf.object("right",h),e.Check.typeOf.object("result",f),f[0]=h.x,f[1]=o.x,f[2]=-n.x,f[3]=0,f[4]=h.y,f[5]=o.y,f[6]=-n.y,f[7]=0,f[8]=h.z,f[9]=o.z,f[10]=-n.z,f[11]=0,f[12]=-b.dot(h,c),f[13]=-b.dot(o,c),f[14]=b.dot(n,c),f[15]=1,f},j.toArray=function(c,n){return e.Check.typeOf.object("matrix",c),O.defined(n)?(n[0]=c[0],n[1]=c[1],n[2]=c[2],n[3]=c[3],n[4]=c[4],n[5]=c[5],n[6]=c[6],n[7]=c[7],n[8]=c[8],n[9]=c[9],n[10]=c[10],n[11]=c[11],n[12]=c[12],n[13]=c[13],n[14]=c[14],n[15]=c[15],n):[c[0],c[1],c[2],c[3],c[4],c[5],c[6],c[7],c[8],c[9],c[10],c[11],c[12],c[13],c[14],c[15]]},j.getElementIndex=function(c,n){return e.Check.typeOf.number.greaterThanOrEquals("row",n,0),e.Check.typeOf.number.lessThanOrEquals("row",n,3),e.Check.typeOf.number.greaterThanOrEquals("column",c,0),e.Check.typeOf.number.lessThanOrEquals("column",c,3),c*4+n},j.getColumn=function(c,n,o){e.Check.typeOf.object("matrix",c),e.Check.typeOf.number.greaterThanOrEquals("index",n,0),e.Check.typeOf.number.lessThanOrEquals("index",n,3),e.Check.typeOf.object("result",o);const h=n*4,f=c[h],y=c[h+1],C=c[h+2],p=c[h+3];return o.x=f,o.y=y,o.z=C,o.w=p,o},j.setColumn=function(c,n,o,h){e.Check.typeOf.object("matrix",c),e.Check.typeOf.number.greaterThanOrEquals("index",n,0),e.Check.typeOf.number.lessThanOrEquals("index",n,3),e.Check.typeOf.object("cartesian",o),e.Check.typeOf.object("result",h),h=j.clone(c,h);const f=n*4;return h[f]=o.x,h[f+1]=o.y,h[f+2]=o.z,h[f+3]=o.w,h},j.getRow=function(c,n,o){e.Check.typeOf.object("matrix",c),e.Check.typeOf.number.greaterThanOrEquals("index",n,0),e.Check.typeOf.number.lessThanOrEquals("index",n,3),e.Check.typeOf.object("result",o);const h=c[n],f=c[n+4],y=c[n+8],C=c[n+12];return o.x=h,o.y=f,o.z=y,o.w=C,o},j.setRow=function(c,n,o,h){return e.Check.typeOf.object("matrix",c),e.Check.typeOf.number.greaterThanOrEquals("index",n,0),e.Check.typeOf.number.lessThanOrEquals("index",n,3),e.Check.typeOf.object("cartesian",o),e.Check.typeOf.object("result",h),h=j.clone(c,h),h[n]=o.x,h[n+4]=o.y,h[n+8]=o.z,h[n+12]=o.w,h},j.setTranslation=function(c,n,o){return e.Check.typeOf.object("matrix",c),e.Check.typeOf.object("translation",n),e.Check.typeOf.object("result",o),o[0]=c[0],o[1]=c[1],o[2]=c[2],o[3]=c[3],o[4]=c[4],o[5]=c[5],o[6]=c[6],o[7]=c[7],o[8]=c[8],o[9]=c[9],o[10]=c[10],o[11]=c[11],o[12]=n.x,o[13]=n.y,o[14]=n.z,o[15]=c[15],o};const pn=new b;j.setScale=function(c,n,o){e.Check.typeOf.object("matrix",c),e.Check.typeOf.object("scale",n),e.Check.typeOf.object("result",o);const h=j.getScale(c,pn),f=n.x/h.x,y=n.y/h.y,C=n.z/h.z;return o[0]=c[0]*f,o[1]=c[1]*f,o[2]=c[2]*f,o[3]=c[3],o[4]=c[4]*y,o[5]=c[5]*y,o[6]=c[6]*y,o[7]=c[7],o[8]=c[8]*C,o[9]=c[9]*C,o[10]=c[10]*C,o[11]=c[11],o[12]=c[12],o[13]=c[13],o[14]=c[14],o[15]=c[15],o};const kn=new b;j.setUniformScale=function(c,n,o){e.Check.typeOf.object("matrix",c),e.Check.typeOf.number("scale",n),e.Check.typeOf.object("result",o);const h=j.getScale(c,kn),f=n/h.x,y=n/h.y,C=n/h.z;return o[0]=c[0]*f,o[1]=c[1]*f,o[2]=c[2]*f,o[3]=c[3],o[4]=c[4]*y,o[5]=c[5]*y,o[6]=c[6]*y,o[7]=c[7],o[8]=c[8]*C,o[9]=c[9]*C,o[10]=c[10]*C,o[11]=c[11],o[12]=c[12],o[13]=c[13],o[14]=c[14],o[15]=c[15],o};const Mc=new b;j.getScale=function(c,n){return e.Check.typeOf.object("matrix",c),e.Check.typeOf.object("result",n),n.x=b.magnitude(b.fromElements(c[0],c[1],c[2],Mc)),n.y=b.magnitude(b.fromElements(c[4],c[5],c[6],Mc)),n.z=b.magnitude(b.fromElements(c[8],c[9],c[10],Mc)),n};const Xc=new b;j.getMaximumScale=function(c){return j.getScale(c,Xc),b.maximumComponent(Xc)};const dn=new b;j.setRotation=function(c,n,o){e.Check.typeOf.object("matrix",c),e.Check.typeOf.object("result",o);const h=j.getScale(c,dn);return o[0]=n[0]*h.x,o[1]=n[1]*h.x,o[2]=n[2]*h.x,o[3]=c[3],o[4]=n[3]*h.y,o[5]=n[4]*h.y,o[6]=n[5]*h.y,o[7]=c[7],o[8]=n[6]*h.z,o[9]=n[7]*h.z,o[10]=n[8]*h.z,o[11]=c[11],o[12]=c[12],o[13]=c[13],o[14]=c[14],o[15]=c[15],o};const wn=new b;j.getRotation=function(c,n){e.Check.typeOf.object("matrix",c),e.Check.typeOf.object("result",n);const o=j.getScale(c,wn);return n[0]=c[0]/o.x,n[1]=c[1]/o.x,n[2]=c[2]/o.x,n[3]=c[4]/o.y,n[4]=c[5]/o.y,n[5]=c[6]/o.y,n[6]=c[8]/o.z,n[7]=c[9]/o.z,n[8]=c[10]/o.z,n},j.multiply=function(c,n,o){e.Check.typeOf.object("left",c),e.Check.typeOf.object("right",n),e.Check.typeOf.object("result",o);const h=c[0],f=c[1],y=c[2],C=c[3],p=c[4],k=c[5],w=c[6],z=c[7],q=c[8],_=c[9],A=c[10],U=c[11],i=c[12],P=c[13],L=c[14],$=c[15],B=n[0],X=n[1],I=n[2],F=n[3],G=n[4],H=n[5],Z=n[6],g=n[7],Q=n[8],K=n[9],J=n[10],s=n[11],x=n[12],a=n[13],R=n[14],m=n[15],nc=h*B+p*X+q*I+i*F,oc=f*B+k*X+_*I+P*F,hc=y*B+w*X+A*I+L*F,ec=C*B+z*X+U*I+$*F,zc=h*G+p*H+q*Z+i*g,Tc=f*G+k*H+_*Z+P*g,Sc=y*G+w*H+A*Z+L*g,qc=C*G+z*H+U*Z+$*g,tc=h*Q+p*K+q*J+i*s,_c=f*Q+k*K+_*J+P*s,Ac=y*Q+w*K+A*J+L*s,v=C*Q+z*K+U*J+$*s,Pn=h*x+p*a+q*R+i*m,Ln=f*x+k*a+_*R+P*m,Wn=y*x+w*a+A*R+L*m,$n=C*x+z*a+U*R+$*m;return o[0]=nc,o[1]=oc,o[2]=hc,o[3]=ec,o[4]=zc,o[5]=Tc,o[6]=Sc,o[7]=qc,o[8]=tc,o[9]=_c,o[10]=Ac,o[11]=v,o[12]=Pn,o[13]=Ln,o[14]=Wn,o[15]=$n,o},j.add=function(c,n,o){return e.Check.typeOf.object("left",c),e.Check.typeOf.object("right",n),e.Check.typeOf.object("result",o),o[0]=c[0]+n[0],o[1]=c[1]+n[1],o[2]=c[2]+n[2],o[3]=c[3]+n[3],o[4]=c[4]+n[4],o[5]=c[5]+n[5],o[6]=c[6]+n[6],o[7]=c[7]+n[7],o[8]=c[8]+n[8],o[9]=c[9]+n[9],o[10]=c[10]+n[10],o[11]=c[11]+n[11],o[12]=c[12]+n[12],o[13]=c[13]+n[13],o[14]=c[14]+n[14],o[15]=c[15]+n[15],o},j.subtract=function(c,n,o){return e.Check.typeOf.object("left",c),e.Check.typeOf.object("right",n),e.Check.typeOf.object("result",o),o[0]=c[0]-n[0],o[1]=c[1]-n[1],o[2]=c[2]-n[2],o[3]=c[3]-n[3],o[4]=c[4]-n[4],o[5]=c[5]-n[5],o[6]=c[6]-n[6],o[7]=c[7]-n[7],o[8]=c[8]-n[8],o[9]=c[9]-n[9],o[10]=c[10]-n[10],o[11]=c[11]-n[11],o[12]=c[12]-n[12],o[13]=c[13]-n[13],o[14]=c[14]-n[14],o[15]=c[15]-n[15],o},j.multiplyTransformation=function(c,n,o){e.Check.typeOf.object("left",c),e.Check.typeOf.object("right",n),e.Check.typeOf.object("result",o);const h=c[0],f=c[1],y=c[2],C=c[4],p=c[5],k=c[6],w=c[8],z=c[9],q=c[10],_=c[12],A=c[13],U=c[14],i=n[0],P=n[1],L=n[2],$=n[4],B=n[5],X=n[6],I=n[8],F=n[9],G=n[10],H=n[12],Z=n[13],g=n[14],Q=h*i+C*P+w*L,K=f*i+p*P+z*L,J=y*i+k*P+q*L,s=h*$+C*B+w*X,x=f*$+p*B+z*X,a=y*$+k*B+q*X,R=h*I+C*F+w*G,m=f*I+p*F+z*G,nc=y*I+k*F+q*G,oc=h*H+C*Z+w*g+_,hc=f*H+p*Z+z*g+A,ec=y*H+k*Z+q*g+U;return o[0]=Q,o[1]=K,o[2]=J,o[3]=0,o[4]=s,o[5]=x,o[6]=a,o[7]=0,o[8]=R,o[9]=m,o[10]=nc,o[11]=0,o[12]=oc,o[13]=hc,o[14]=ec,o[15]=1,o},j.multiplyByMatrix3=function(c,n,o){e.Check.typeOf.object("matrix",c),e.Check.typeOf.object("rotation",n),e.Check.typeOf.object("result",o);const h=c[0],f=c[1],y=c[2],C=c[4],p=c[5],k=c[6],w=c[8],z=c[9],q=c[10],_=n[0],A=n[1],U=n[2],i=n[3],P=n[4],L=n[5],$=n[6],B=n[7],X=n[8],I=h*_+C*A+w*U,F=f*_+p*A+z*U,G=y*_+k*A+q*U,H=h*i+C*P+w*L,Z=f*i+p*P+z*L,g=y*i+k*P+q*L,Q=h*$+C*B+w*X,K=f*$+p*B+z*X,J=y*$+k*B+q*X;return o[0]=I,o[1]=F,o[2]=G,o[3]=0,o[4]=H,o[5]=Z,o[6]=g,o[7]=0,o[8]=Q,o[9]=K,o[10]=J,o[11]=0,o[12]=c[12],o[13]=c[13],o[14]=c[14],o[15]=c[15],o},j.multiplyByTranslation=function(c,n,o){e.Check.typeOf.object("matrix",c),e.Check.typeOf.object("translation",n),e.Check.typeOf.object("result",o);const h=n.x,f=n.y,y=n.z,C=h*c[0]+f*c[4]+y*c[8]+c[12],p=h*c[1]+f*c[5]+y*c[9]+c[13],k=h*c[2]+f*c[6]+y*c[10]+c[14];return o[0]=c[0],o[1]=c[1],o[2]=c[2],o[3]=c[3],o[4]=c[4],o[5]=c[5],o[6]=c[6],o[7]=c[7],o[8]=c[8],o[9]=c[9],o[10]=c[10],o[11]=c[11],o[12]=C,o[13]=p,o[14]=k,o[15]=c[15],o},j.multiplyByScale=function(c,n,o){e.Check.typeOf.object("matrix",c),e.Check.typeOf.object("scale",n),e.Check.typeOf.object("result",o);const h=n.x,f=n.y,y=n.z;return h===1&&f===1&&y===1?j.clone(c,o):(o[0]=h*c[0],o[1]=h*c[1],o[2]=h*c[2],o[3]=c[3],o[4]=f*c[4],o[5]=f*c[5],o[6]=f*c[6],o[7]=c[7],o[8]=y*c[8],o[9]=y*c[9],o[10]=y*c[10],o[11]=c[11],o[12]=c[12],o[13]=c[13],o[14]=c[14],o[15]=c[15],o)},j.multiplyByUniformScale=function(c,n,o){return e.Check.typeOf.object("matrix",c),e.Check.typeOf.number("scale",n),e.Check.typeOf.object("result",o),o[0]=c[0]*n,o[1]=c[1]*n,o[2]=c[2]*n,o[3]=c[3],o[4]=c[4]*n,o[5]=c[5]*n,o[6]=c[6]*n,o[7]=c[7],o[8]=c[8]*n,o[9]=c[9]*n,o[10]=c[10]*n,o[11]=c[11],o[12]=c[12],o[13]=c[13],o[14]=c[14],o[15]=c[15],o},j.multiplyByVector=function(c,n,o){e.Check.typeOf.object("matrix",c),e.Check.typeOf.object("cartesian",n),e.Check.typeOf.object("result",o);const h=n.x,f=n.y,y=n.z,C=n.w,p=c[0]*h+c[4]*f+c[8]*y+c[12]*C,k=c[1]*h+c[5]*f+c[9]*y+c[13]*C,w=c[2]*h+c[6]*f+c[10]*y+c[14]*C,z=c[3]*h+c[7]*f+c[11]*y+c[15]*C;return o.x=p,o.y=k,o.z=w,o.w=z,o},j.multiplyByPointAsVector=function(c,n,o){e.Check.typeOf.object("matrix",c),e.Check.typeOf.object("cartesian",n),e.Check.typeOf.object("result",o);const h=n.x,f=n.y,y=n.z,C=c[0]*h+c[4]*f+c[8]*y,p=c[1]*h+c[5]*f+c[9]*y,k=c[2]*h+c[6]*f+c[10]*y;return o.x=C,o.y=p,o.z=k,o},j.multiplyByPoint=function(c,n,o){e.Check.typeOf.object("matrix",c),e.Check.typeOf.object("cartesian",n),e.Check.typeOf.object("result",o);const h=n.x,f=n.y,y=n.z,C=c[0]*h+c[4]*f+c[8]*y+c[12],p=c[1]*h+c[5]*f+c[9]*y+c[13],k=c[2]*h+c[6]*f+c[10]*y+c[14];return o.x=C,o.y=p,o.z=k,o},j.multiplyByScalar=function(c,n,o){return e.Check.typeOf.object("matrix",c),e.Check.typeOf.number("scalar",n),e.Check.typeOf.object("result",o),o[0]=c[0]*n,o[1]=c[1]*n,o[2]=c[2]*n,o[3]=c[3]*n,o[4]=c[4]*n,o[5]=c[5]*n,o[6]=c[6]*n,o[7]=c[7]*n,o[8]=c[8]*n,o[9]=c[9]*n,o[10]=c[10]*n,o[11]=c[11]*n,o[12]=c[12]*n,o[13]=c[13]*n,o[14]=c[14]*n,o[15]=c[15]*n,o},j.negate=function(c,n){return e.Check.typeOf.object("matrix",c),e.Check.typeOf.object("result",n),n[0]=-c[0],n[1]=-c[1],n[2]=-c[2],n[3]=-c[3],n[4]=-c[4],n[5]=-c[5],n[6]=-c[6],n[7]=-c[7],n[8]=-c[8],n[9]=-c[9],n[10]=-c[10],n[11]=-c[11],n[12]=-c[12],n[13]=-c[13],n[14]=-c[14],n[15]=-c[15],n},j.transpose=function(c,n){e.Check.typeOf.object("matrix",c),e.Check.typeOf.object("result",n);const o=c[1],h=c[2],f=c[3],y=c[6],C=c[7],p=c[11];return n[0]=c[0],n[1]=c[4],n[2]=c[8],n[3]=c[12],n[4]=o,n[5]=c[5],n[6]=c[9],n[7]=c[13],n[8]=h,n[9]=y,n[10]=c[10],n[11]=c[14],n[12]=f,n[13]=C,n[14]=p,n[15]=c[15],n},j.abs=function(c,n){return e.Check.typeOf.object("matrix",c),e.Check.typeOf.object("result",n),n[0]=Math.abs(c[0]),n[1]=Math.abs(c[1]),n[2]=Math.abs(c[2]),n[3]=Math.abs(c[3]),n[4]=Math.abs(c[4]),n[5]=Math.abs(c[5]),n[6]=Math.abs(c[6]),n[7]=Math.abs(c[7]),n[8]=Math.abs(c[8]),n[9]=Math.abs(c[9]),n[10]=Math.abs(c[10]),n[11]=Math.abs(c[11]),n[12]=Math.abs(c[12]),n[13]=Math.abs(c[13]),n[14]=Math.abs(c[14]),n[15]=Math.abs(c[15]),n},j.equals=function(c,n){return c===n||O.defined(c)&&O.defined(n)&&c[12]===n[12]&&c[13]===n[13]&&c[14]===n[14]&&c[0]===n[0]&&c[1]===n[1]&&c[2]===n[2]&&c[4]===n[4]&&c[5]===n[5]&&c[6]===n[6]&&c[8]===n[8]&&c[9]===n[9]&&c[10]===n[10]&&c[3]===n[3]&&c[7]===n[7]&&c[11]===n[11]&&c[15]===n[15]},j.equalsEpsilon=function(c,n,o){return o=O.defaultValue(o,0),c===n||O.defined(c)&&O.defined(n)&&Math.abs(c[0]-n[0])<=o&&Math.abs(c[1]-n[1])<=o&&Math.abs(c[2]-n[2])<=o&&Math.abs(c[3]-n[3])<=o&&Math.abs(c[4]-n[4])<=o&&Math.abs(c[5]-n[5])<=o&&Math.abs(c[6]-n[6])<=o&&Math.abs(c[7]-n[7])<=o&&Math.abs(c[8]-n[8])<=o&&Math.abs(c[9]-n[9])<=o&&Math.abs(c[10]-n[10])<=o&&Math.abs(c[11]-n[11])<=o&&Math.abs(c[12]-n[12])<=o&&Math.abs(c[13]-n[13])<=o&&Math.abs(c[14]-n[14])<=o&&Math.abs(c[15]-n[15])<=o},j.getTranslation=function(c,n){return e.Check.typeOf.object("matrix",c),e.Check.typeOf.object("result",n),n.x=c[12],n.y=c[13],n.z=c[14],n},j.getMatrix3=function(c,n){return e.Check.typeOf.object("matrix",c),e.Check.typeOf.object("result",n),n[0]=c[0],n[1]=c[1],n[2]=c[2],n[3]=c[4],n[4]=c[5],n[5]=c[6],n[6]=c[8],n[7]=c[9],n[8]=c[10],n};const jn=new d,Mn=new d,zn=new M,Tn=new M(0,0,0,1);j.inverse=function(c,n){e.Check.typeOf.object("matrix",c),e.Check.typeOf.object("result",n);const o=c[0],h=c[4],f=c[8],y=c[12],C=c[1],p=c[5],k=c[9],w=c[13],z=c[2],q=c[6],_=c[10],A=c[14],U=c[3],i=c[7],P=c[11],L=c[15];let $=_*L,B=A*P,X=q*L,I=A*i,F=q*P,G=_*i,H=z*L,Z=A*U,g=z*P,Q=_*U,K=z*i,J=q*U;const s=$*p+I*k+F*w-(B*p+X*k+G*w),x=B*C+H*k+Q*w-($*C+Z*k+g*w),a=X*C+Z*p+K*w-(I*C+H*p+J*w),R=G*C+g*p+J*k-(F*C+Q*p+K*k),m=B*h+X*f+G*y-($*h+I*f+F*y),nc=$*o+Z*f+g*y-(B*o+H*f+Q*y),oc=I*o+H*h+J*y-(X*o+Z*h+K*y),hc=F*o+Q*h+K*f-(G*o+g*h+J*f);$=f*w,B=y*k,X=h*w,I=y*p,F=h*k,G=f*p,H=o*w,Z=y*C,g=o*k,Q=f*C,K=o*p,J=h*C;const ec=$*i+I*P+F*L-(B*i+X*P+G*L),zc=B*U+H*P+Q*L-($*U+Z*P+g*L),Tc=X*U+Z*i+K*L-(I*U+H*i+J*L),Sc=G*U+g*i+J*P-(F*U+Q*i+K*P),qc=X*_+G*A+B*q-(F*A+$*q+I*_),tc=g*A+$*z+Z*_-(H*_+Q*A+B*z),_c=H*q+J*A+I*z-(K*A+X*z+Z*q),Ac=K*_+F*z+Q*q-(g*q+J*_+G*z);let v=o*s+h*x+f*a+y*R;if(Math.abs(v)<S.CesiumMath.EPSILON21){if(d.equalsEpsilon(j.getMatrix3(c,jn),Mn,S.CesiumMath.EPSILON7)&&M.equals(j.getRow(c,3,zn),Tn))return n[0]=0,n[1]=0,n[2]=0,n[3]=0,n[4]=0,n[5]=0,n[6]=0,n[7]=0,n[8]=0,n[9]=0,n[10]=0,n[11]=0,n[12]=-c[12],n[13]=-c[13],n[14]=-c[14],n[15]=1,n;throw new e.RuntimeError("matrix is not invertible because its determinate is zero.")}return v=1/v,n[0]=s*v,n[1]=x*v,n[2]=a*v,n[3]=R*v,n[4]=m*v,n[5]=nc*v,n[6]=oc*v,n[7]=hc*v,n[8]=ec*v,n[9]=zc*v,n[10]=Tc*v,n[11]=Sc*v,n[12]=qc*v,n[13]=tc*v,n[14]=_c*v,n[15]=Ac*v,n},j.inverseTransformation=function(c,n){e.Check.typeOf.object("matrix",c),e.Check.typeOf.object("result",n);const o=c[0],h=c[1],f=c[2],y=c[4],C=c[5],p=c[6],k=c[8],w=c[9],z=c[10],q=c[12],_=c[13],A=c[14],U=-o*q-h*_-f*A,i=-y*q-C*_-p*A,P=-k*q-w*_-z*A;return n[0]=o,n[1]=y,n[2]=k,n[3]=0,n[4]=h,n[5]=C,n[6]=w,n[7]=0,n[8]=f,n[9]=p,n[10]=z,n[11]=0,n[12]=U,n[13]=i,n[14]=P,n[15]=1,n};const Sn=new j;j.inverseTranspose=function(c,n){return e.Check.typeOf.object("matrix",c),e.Check.typeOf.object("result",n),j.inverse(j.transpose(c,Sn),n)},j.IDENTITY=Object.freeze(new j(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)),j.ZERO=Object.freeze(new j(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)),j.COLUMN0ROW0=0,j.COLUMN0ROW1=1,j.COLUMN0ROW2=2,j.COLUMN0ROW3=3,j.COLUMN1ROW0=4,j.COLUMN1ROW1=5,j.COLUMN1ROW2=6,j.COLUMN1ROW3=7,j.COLUMN2ROW0=8,j.COLUMN2ROW1=9,j.COLUMN2ROW2=10,j.COLUMN2ROW3=11,j.COLUMN3ROW0=12,j.COLUMN3ROW1=13,j.COLUMN3ROW2=14,j.COLUMN3ROW3=15,Object.defineProperties(j.prototype,{length:{get:function(){return j.packedLength}}}),j.prototype.clone=function(c){return j.clone(this,c)},j.prototype.equals=function(c){return j.equals(this,c)},j.equalsArray=function(c,n,o){return c[0]===n[o]&&c[1]===n[o+1]&&c[2]===n[o+2]&&c[3]===n[o+3]&&c[4]===n[o+4]&&c[5]===n[o+5]&&c[6]===n[o+6]&&c[7]===n[o+7]&&c[8]===n[o+8]&&c[9]===n[o+9]&&c[10]===n[o+10]&&c[11]===n[o+11]&&c[12]===n[o+12]&&c[13]===n[o+13]&&c[14]===n[o+14]&&c[15]===n[o+15]},j.prototype.equalsEpsilon=function(c,n){return j.equalsEpsilon(this,c,n)},j.prototype.toString=function(){return`(${this[0]}, ${this[4]}, ${this[8]}, ${this[12]})
(${this[1]}, ${this[5]}, ${this[9]}, ${this[13]})
(${this[2]}, ${this[6]}, ${this[10]}, ${this[14]})
(${this[3]}, ${this[7]}, ${this[11]}, ${this[15]})`};function N(c,n,o,h){this.west=O.defaultValue(c,0),this.south=O.defaultValue(n,0),this.east=O.defaultValue(o,0),this.north=O.defaultValue(h,0)}Object.defineProperties(N.prototype,{width:{get:function(){return N.computeWidth(this)}},height:{get:function(){return N.computeHeight(this)}}}),N.packedLength=4,N.pack=function(c,n,o){return e.Check.typeOf.object("value",c),e.Check.defined("array",n),o=O.defaultValue(o,0),n[o++]=c.west,n[o++]=c.south,n[o++]=c.east,n[o]=c.north,n},N.unpack=function(c,n,o){return e.Check.defined("array",c),n=O.defaultValue(n,0),O.defined(o)||(o=new N),o.west=c[n++],o.south=c[n++],o.east=c[n++],o.north=c[n],o},N.computeWidth=function(c){e.Check.typeOf.object("rectangle",c);let n=c.east;const o=c.west;return n<o&&(n+=S.CesiumMath.TWO_PI),n-o},N.computeHeight=function(c){return e.Check.typeOf.object("rectangle",c),c.north-c.south},N.fromDegrees=function(c,n,o,h,f){return c=S.CesiumMath.toRadians(O.defaultValue(c,0)),n=S.CesiumMath.toRadians(O.defaultValue(n,0)),o=S.CesiumMath.toRadians(O.defaultValue(o,0)),h=S.CesiumMath.toRadians(O.defaultValue(h,0)),O.defined(f)?(f.west=c,f.south=n,f.east=o,f.north=h,f):new N(c,n,o,h)},N.fromRadians=function(c,n,o,h,f){return O.defined(f)?(f.west=O.defaultValue(c,0),f.south=O.defaultValue(n,0),f.east=O.defaultValue(o,0),f.north=O.defaultValue(h,0),f):new N(c,n,o,h)},N.fromCartographicArray=function(c,n){e.Check.defined("cartographics",c);let o=Number.MAX_VALUE,h=-Number.MAX_VALUE,f=Number.MAX_VALUE,y=-Number.MAX_VALUE,C=Number.MAX_VALUE,p=-Number.MAX_VALUE;for(let k=0,w=c.length;k<w;k++){const z=c[k];o=Math.min(o,z.longitude),h=Math.max(h,z.longitude),C=Math.min(C,z.latitude),p=Math.max(p,z.latitude);const q=z.longitude>=0?z.longitude:z.longitude+S.CesiumMath.TWO_PI;f=Math.min(f,q),y=Math.max(y,q)}return h-o>y-f&&(o=f,h=y,h>S.CesiumMath.PI&&(h=h-S.CesiumMath.TWO_PI),o>S.CesiumMath.PI&&(o=o-S.CesiumMath.TWO_PI)),O.defined(n)?(n.west=o,n.south=C,n.east=h,n.north=p,n):new N(o,C,h,p)},N.fromCartesianArray=function(c,n,o){e.Check.defined("cartesians",c),n=O.defaultValue(n,W.WGS84);let h=Number.MAX_VALUE,f=-Number.MAX_VALUE,y=Number.MAX_VALUE,C=-Number.MAX_VALUE,p=Number.MAX_VALUE,k=-Number.MAX_VALUE;for(let w=0,z=c.length;w<z;w++){const q=n.cartesianToCartographic(c[w]);h=Math.min(h,q.longitude),f=Math.max(f,q.longitude),p=Math.min(p,q.latitude),k=Math.max(k,q.latitude);const _=q.longitude>=0?q.longitude:q.longitude+S.CesiumMath.TWO_PI;y=Math.min(y,_),C=Math.max(C,_)}return f-h>C-y&&(h=y,f=C,f>S.CesiumMath.PI&&(f=f-S.CesiumMath.TWO_PI),h>S.CesiumMath.PI&&(h=h-S.CesiumMath.TWO_PI)),O.defined(o)?(o.west=h,o.south=p,o.east=f,o.north=k,o):new N(h,p,f,k)},N.clone=function(c,n){if(!!O.defined(c))return O.defined(n)?(n.west=c.west,n.south=c.south,n.east=c.east,n.north=c.north,n):new N(c.west,c.south,c.east,c.north)},N.equalsEpsilon=function(c,n,o){return o=O.defaultValue(o,0),c===n||O.defined(c)&&O.defined(n)&&Math.abs(c.west-n.west)<=o&&Math.abs(c.south-n.south)<=o&&Math.abs(c.east-n.east)<=o&&Math.abs(c.north-n.north)<=o},N.prototype.clone=function(c){return N.clone(this,c)},N.prototype.equals=function(c){return N.equals(this,c)},N.equals=function(c,n){return c===n||O.defined(c)&&O.defined(n)&&c.west===n.west&&c.south===n.south&&c.east===n.east&&c.north===n.north},N.prototype.equalsEpsilon=function(c,n){return N.equalsEpsilon(this,c,n)},N.validate=function(c){e.Check.typeOf.object("rectangle",c);const n=c.north;e.Check.typeOf.number.greaterThanOrEquals("north",n,-S.CesiumMath.PI_OVER_TWO),e.Check.typeOf.number.lessThanOrEquals("north",n,S.CesiumMath.PI_OVER_TWO);const o=c.south;e.Check.typeOf.number.greaterThanOrEquals("south",o,-S.CesiumMath.PI_OVER_TWO),e.Check.typeOf.number.lessThanOrEquals("south",o,S.CesiumMath.PI_OVER_TWO);const h=c.west;e.Check.typeOf.number.greaterThanOrEquals("west",h,-Math.PI),e.Check.typeOf.number.lessThanOrEquals("west",h,Math.PI);const f=c.east;e.Check.typeOf.number.greaterThanOrEquals("east",f,-Math.PI),e.Check.typeOf.number.lessThanOrEquals("east",f,Math.PI)},N.southwest=function(c,n){return e.Check.typeOf.object("rectangle",c),O.defined(n)?(n.longitude=c.west,n.latitude=c.south,n.height=0,n):new Y(c.west,c.south)},N.northwest=function(c,n){return e.Check.typeOf.object("rectangle",c),O.defined(n)?(n.longitude=c.west,n.latitude=c.north,n.height=0,n):new Y(c.west,c.north)},N.northeast=function(c,n){return e.Check.typeOf.object("rectangle",c),O.defined(n)?(n.longitude=c.east,n.latitude=c.north,n.height=0,n):new Y(c.east,c.north)},N.southeast=function(c,n){return e.Check.typeOf.object("rectangle",c),O.defined(n)?(n.longitude=c.east,n.latitude=c.south,n.height=0,n):new Y(c.east,c.south)},N.center=function(c,n){e.Check.typeOf.object("rectangle",c);let o=c.east;const h=c.west;o<h&&(o+=S.CesiumMath.TWO_PI);const f=S.CesiumMath.negativePiToPi((h+o)*.5),y=(c.south+c.north)*.5;return O.defined(n)?(n.longitude=f,n.latitude=y,n.height=0,n):new Y(f,y)},N.intersection=function(c,n,o){e.Check.typeOf.object("rectangle",c),e.Check.typeOf.object("otherRectangle",n);let h=c.east,f=c.west,y=n.east,C=n.west;h<f&&y>0?h+=S.CesiumMath.TWO_PI:y<C&&h>0&&(y+=S.CesiumMath.TWO_PI),h<f&&C<0?C+=S.CesiumMath.TWO_PI:y<C&&f<0&&(f+=S.CesiumMath.TWO_PI);const p=S.CesiumMath.negativePiToPi(Math.max(f,C)),k=S.CesiumMath.negativePiToPi(Math.min(h,y));if((c.west<c.east||n.west<n.east)&&k<=p)return;const w=Math.max(c.south,n.south),z=Math.min(c.north,n.north);if(!(w>=z))return O.defined(o)?(o.west=p,o.south=w,o.east=k,o.north=z,o):new N(p,w,k,z)},N.simpleIntersection=function(c,n,o){e.Check.typeOf.object("rectangle",c),e.Check.typeOf.object("otherRectangle",n);const h=Math.max(c.west,n.west),f=Math.max(c.south,n.south),y=Math.min(c.east,n.east),C=Math.min(c.north,n.north);if(!(f>=C||h>=y))return O.defined(o)?(o.west=h,o.south=f,o.east=y,o.north=C,o):new N(h,f,y,C)},N.union=function(c,n,o){e.Check.typeOf.object("rectangle",c),e.Check.typeOf.object("otherRectangle",n),O.defined(o)||(o=new N);let h=c.east,f=c.west,y=n.east,C=n.west;h<f&&y>0?h+=S.CesiumMath.TWO_PI:y<C&&h>0&&(y+=S.CesiumMath.TWO_PI),h<f&&C<0?C+=S.CesiumMath.TWO_PI:y<C&&f<0&&(f+=S.CesiumMath.TWO_PI);const p=S.CesiumMath.negativePiToPi(Math.min(f,C)),k=S.CesiumMath.negativePiToPi(Math.max(h,y));return o.west=p,o.south=Math.min(c.south,n.south),o.east=k,o.north=Math.max(c.north,n.north),o},N.expand=function(c,n,o){return e.Check.typeOf.object("rectangle",c),e.Check.typeOf.object("cartographic",n),O.defined(o)||(o=new N),o.west=Math.min(c.west,n.longitude),o.south=Math.min(c.south,n.latitude),o.east=Math.max(c.east,n.longitude),o.north=Math.max(c.north,n.latitude),o},N.contains=function(c,n){e.Check.typeOf.object("rectangle",c),e.Check.typeOf.object("cartographic",n);let o=n.longitude;const h=n.latitude,f=c.west;let y=c.east;return y<f&&(y+=S.CesiumMath.TWO_PI,o<0&&(o+=S.CesiumMath.TWO_PI)),(o>f||S.CesiumMath.equalsEpsilon(o,f,S.CesiumMath.EPSILON14))&&(o<y||S.CesiumMath.equalsEpsilon(o,y,S.CesiumMath.EPSILON14))&&h>=c.south&&h<=c.north};const qn=new Y;N.subsample=function(c,n,o,h){e.Check.typeOf.object("rectangle",c),n=O.defaultValue(n,W.WGS84),o=O.defaultValue(o,0),O.defined(h)||(h=[]);let f=0;const y=c.north,C=c.south,p=c.east,k=c.west,w=qn;w.height=o,w.longitude=k,w.latitude=y,h[f]=n.cartographicToCartesian(w,h[f]),f++,w.longitude=p,h[f]=n.cartographicToCartesian(w,h[f]),f++,w.latitude=C,h[f]=n.cartographicToCartesian(w,h[f]),f++,w.longitude=k,h[f]=n.cartographicToCartesian(w,h[f]),f++,y<0?w.latitude=y:C>0?w.latitude=C:w.latitude=0;for(let z=1;z<8;++z)w.longitude=-Math.PI+z*S.CesiumMath.PI_OVER_TWO,N.contains(c,w)&&(h[f]=n.cartographicToCartesian(w,h[f]),f++);return w.latitude===0&&(w.longitude=k,h[f]=n.cartographicToCartesian(w,h[f]),f++,w.longitude=p,h[f]=n.cartographicToCartesian(w,h[f]),f++),h.length=f,h},N.subsection=function(c,n,o,h,f,y){if(e.Check.typeOf.object("rectangle",c),e.Check.typeOf.number.greaterThanOrEquals("westLerp",n,0),e.Check.typeOf.number.lessThanOrEquals("westLerp",n,1),e.Check.typeOf.number.greaterThanOrEquals("southLerp",o,0),e.Check.typeOf.number.lessThanOrEquals("southLerp",o,1),e.Check.typeOf.number.greaterThanOrEquals("eastLerp",h,0),e.Check.typeOf.number.lessThanOrEquals("eastLerp",h,1),e.Check.typeOf.number.greaterThanOrEquals("northLerp",f,0),e.Check.typeOf.number.lessThanOrEquals("northLerp",f,1),e.Check.typeOf.number.lessThanOrEquals("westLerp",n,h),e.Check.typeOf.number.lessThanOrEquals("southLerp",o,f),O.defined(y)||(y=new N),c.west<=c.east){const p=c.east-c.west;y.west=c.west+n*p,y.east=c.west+h*p}else{const p=S.CesiumMath.TWO_PI+c.east-c.west;y.west=S.CesiumMath.negativePiToPi(c.west+n*p),y.east=S.CesiumMath.negativePiToPi(c.west+h*p)}const C=c.north-c.south;return y.south=c.south+o*C,y.north=c.south+f*C,n===1&&(y.west=c.east),h===1&&(y.east=c.east),o===1&&(y.south=c.north),f===1&&(y.north=c.north),y},N.MAX_VALUE=Object.freeze(new N(-Math.PI,-S.CesiumMath.PI_OVER_TWO,Math.PI,S.CesiumMath.PI_OVER_TWO));function T(c,n){this.x=O.defaultValue(c,0),this.y=O.defaultValue(n,0)}T.fromElements=function(c,n,o){return O.defined(o)?(o.x=c,o.y=n,o):new T(c,n)},T.clone=function(c,n){if(!!O.defined(c))return O.defined(n)?(n.x=c.x,n.y=c.y,n):new T(c.x,c.y)},T.fromCartesian3=T.clone,T.fromCartesian4=T.clone,T.packedLength=2,T.pack=function(c,n,o){return e.Check.typeOf.object("value",c),e.Check.defined("array",n),o=O.defaultValue(o,0),n[o++]=c.x,n[o]=c.y,n},T.unpack=function(c,n,o){return e.Check.defined("array",c),n=O.defaultValue(n,0),O.defined(o)||(o=new T),o.x=c[n++],o.y=c[n],o},T.packArray=function(c,n){e.Check.defined("array",c);const o=c.length,h=o*2;if(!O.defined(n))n=new Array(h);else{if(!Array.isArray(n)&&n.length!==h)throw new e.DeveloperError("If result is a typed array, it must have exactly array.length * 2 elements");n.length!==h&&(n.length=h)}for(let f=0;f<o;++f)T.pack(c[f],n,f*2);return n},T.unpackArray=function(c,n){if(e.Check.defined("array",c),e.Check.typeOf.number.greaterThanOrEquals("array.length",c.length,2),c.length%2!==0)throw new e.DeveloperError("array length must be a multiple of 2.");const o=c.length;O.defined(n)?n.length=o/2:n=new Array(o/2);for(let h=0;h<o;h+=2){const f=h/2;n[f]=T.unpack(c,h,n[f])}return n},T.fromArray=T.unpack,T.maximumComponent=function(c){return e.Check.typeOf.object("cartesian",c),Math.max(c.x,c.y)},T.minimumComponent=function(c){return e.Check.typeOf.object("cartesian",c),Math.min(c.x,c.y)},T.minimumByComponent=function(c,n,o){return e.Check.typeOf.object("first",c),e.Check.typeOf.object("second",n),e.Check.typeOf.object("result",o),o.x=Math.min(c.x,n.x),o.y=Math.min(c.y,n.y),o},T.maximumByComponent=function(c,n,o){return e.Check.typeOf.object("first",c),e.Check.typeOf.object("second",n),e.Check.typeOf.object("result",o),o.x=Math.max(c.x,n.x),o.y=Math.max(c.y,n.y),o},T.clamp=function(c,n,o,h){e.Check.typeOf.object("value",c),e.Check.typeOf.object("min",n),e.Check.typeOf.object("max",o),e.Check.typeOf.object("result",h);const f=S.CesiumMath.clamp(c.x,n.x,o.x),y=S.CesiumMath.clamp(c.y,n.y,o.y);return h.x=f,h.y=y,h},T.magnitudeSquared=function(c){return e.Check.typeOf.object("cartesian",c),c.x*c.x+c.y*c.y},T.magnitude=function(c){return Math.sqrt(T.magnitudeSquared(c))};const bc=new T;T.distance=function(c,n){return e.Check.typeOf.object("left",c),e.Check.typeOf.object("right",n),T.subtract(c,n,bc),T.magnitude(bc)},T.distanceSquared=function(c,n){return e.Check.typeOf.object("left",c),e.Check.typeOf.object("right",n),T.subtract(c,n,bc),T.magnitudeSquared(bc)},T.normalize=function(c,n){e.Check.typeOf.object("cartesian",c),e.Check.typeOf.object("result",n);const o=T.magnitude(c);if(n.x=c.x/o,n.y=c.y/o,isNaN(n.x)||isNaN(n.y))throw new e.DeveloperError("normalized result is not a number");return n},T.dot=function(c,n){return e.Check.typeOf.object("left",c),e.Check.typeOf.object("right",n),c.x*n.x+c.y*n.y},T.cross=function(c,n){return e.Check.typeOf.object("left",c),e.Check.typeOf.object("right",n),c.x*n.y-c.y*n.x},T.multiplyComponents=function(c,n,o){return e.Check.typeOf.object("left",c),e.Check.typeOf.object("right",n),e.Check.typeOf.object("result",o),o.x=c.x*n.x,o.y=c.y*n.y,o},T.divideComponents=function(c,n,o){return e.Check.typeOf.object("left",c),e.Check.typeOf.object("right",n),e.Check.typeOf.object("result",o),o.x=c.x/n.x,o.y=c.y/n.y,o},T.add=function(c,n,o){return e.Check.typeOf.object("left",c),e.Check.typeOf.object("right",n),e.Check.typeOf.object("result",o),o.x=c.x+n.x,o.y=c.y+n.y,o},T.subtract=function(c,n,o){return e.Check.typeOf.object("left",c),e.Check.typeOf.object("right",n),e.Check.typeOf.object("result",o),o.x=c.x-n.x,o.y=c.y-n.y,o},T.multiplyByScalar=function(c,n,o){return e.Check.typeOf.object("cartesian",c),e.Check.typeOf.number("scalar",n),e.Check.typeOf.object("result",o),o.x=c.x*n,o.y=c.y*n,o},T.divideByScalar=function(c,n,o){return e.Check.typeOf.object("cartesian",c),e.Check.typeOf.number("scalar",n),e.Check.typeOf.object("result",o),o.x=c.x/n,o.y=c.y/n,o},T.negate=function(c,n){return e.Check.typeOf.object("cartesian",c),e.Check.typeOf.object("result",n),n.x=-c.x,n.y=-c.y,n},T.abs=function(c,n){return e.Check.typeOf.object("cartesian",c),e.Check.typeOf.object("result",n),n.x=Math.abs(c.x),n.y=Math.abs(c.y),n};const Zc=new T;T.lerp=function(c,n,o,h){return e.Check.typeOf.object("start",c),e.Check.typeOf.object("end",n),e.Check.typeOf.number("t",o),e.Check.typeOf.object("result",h),T.multiplyByScalar(n,o,Zc),h=T.multiplyByScalar(c,1-o,h),T.add(Zc,h,h)};const Yc=new T,Ic=new T;T.angleBetween=function(c,n){return e.Check.typeOf.object("left",c),e.Check.typeOf.object("right",n),T.normalize(c,Yc),T.normalize(n,Ic),S.CesiumMath.acosClamped(T.dot(Yc,Ic))};const tn=new T;T.mostOrthogonalAxis=function(c,n){e.Check.typeOf.object("cartesian",c),e.Check.typeOf.object("result",n);const o=T.normalize(c,tn);return T.abs(o,o),o.x<=o.y?n=T.clone(T.UNIT_X,n):n=T.clone(T.UNIT_Y,n),n},T.equals=function(c,n){return c===n||O.defined(c)&&O.defined(n)&&c.x===n.x&&c.y===n.y},T.equalsArray=function(c,n,o){return c.x===n[o]&&c.y===n[o+1]},T.equalsEpsilon=function(c,n,o,h){return c===n||O.defined(c)&&O.defined(n)&&S.CesiumMath.equalsEpsilon(c.x,n.x,o,h)&&S.CesiumMath.equalsEpsilon(c.y,n.y,o,h)},T.ZERO=Object.freeze(new T(0,0)),T.ONE=Object.freeze(new T(1,1)),T.UNIT_X=Object.freeze(new T(1,0)),T.UNIT_Y=Object.freeze(new T(0,1)),T.prototype.clone=function(c){return T.clone(this,c)},T.prototype.equals=function(c){return T.equals(this,c)},T.prototype.equalsEpsilon=function(c,n,o){return T.equalsEpsilon(this,c,n,o)},T.prototype.toString=function(){return`(${this.x}, ${this.y})`};function t(c,n,o,h){this[0]=O.defaultValue(c,0),this[1]=O.defaultValue(o,0),this[2]=O.defaultValue(n,0),this[3]=O.defaultValue(h,0)}t.packedLength=4,t.pack=function(c,n,o){return e.Check.typeOf.object("value",c),e.Check.defined("array",n),o=O.defaultValue(o,0),n[o++]=c[0],n[o++]=c[1],n[o++]=c[2],n[o++]=c[3],n},t.unpack=function(c,n,o){return e.Check.defined("array",c),n=O.defaultValue(n,0),O.defined(o)||(o=new t),o[0]=c[n++],o[1]=c[n++],o[2]=c[n++],o[3]=c[n++],o},t.packArray=function(c,n){e.Check.defined("array",c);const o=c.length,h=o*4;if(!O.defined(n))n=new Array(h);else{if(!Array.isArray(n)&&n.length!==h)throw new e.DeveloperError("If result is a typed array, it must have exactly array.length * 4 elements");n.length!==h&&(n.length=h)}for(let f=0;f<o;++f)t.pack(c[f],n,f*4);return n},t.unpackArray=function(c,n){if(e.Check.defined("array",c),e.Check.typeOf.number.greaterThanOrEquals("array.length",c.length,4),c.length%4!==0)throw new e.DeveloperError("array length must be a multiple of 4.");const o=c.length;O.defined(n)?n.length=o/4:n=new Array(o/4);for(let h=0;h<o;h+=4){const f=h/4;n[f]=t.unpack(c,h,n[f])}return n},t.clone=function(c,n){if(!!O.defined(c))return O.defined(n)?(n[0]=c[0],n[1]=c[1],n[2]=c[2],n[3]=c[3],n):new t(c[0],c[2],c[1],c[3])},t.fromArray=t.unpack,t.fromColumnMajorArray=function(c,n){return e.Check.defined("values",c),t.clone(c,n)},t.fromRowMajorArray=function(c,n){return e.Check.defined("values",c),O.defined(n)?(n[0]=c[0],n[1]=c[2],n[2]=c[1],n[3]=c[3],n):new t(c[0],c[1],c[2],c[3])},t.fromScale=function(c,n){return e.Check.typeOf.object("scale",c),O.defined(n)?(n[0]=c.x,n[1]=0,n[2]=0,n[3]=c.y,n):new t(c.x,0,0,c.y)},t.fromUniformScale=function(c,n){return e.Check.typeOf.number("scale",c),O.defined(n)?(n[0]=c,n[1]=0,n[2]=0,n[3]=c,n):new t(c,0,0,c)},t.fromRotation=function(c,n){e.Check.typeOf.number("angle",c);const o=Math.cos(c),h=Math.sin(c);return O.defined(n)?(n[0]=o,n[1]=h,n[2]=-h,n[3]=o,n):new t(o,-h,h,o)},t.toArray=function(c,n){return e.Check.typeOf.object("matrix",c),O.defined(n)?(n[0]=c[0],n[1]=c[1],n[2]=c[2],n[3]=c[3],n):[c[0],c[1],c[2],c[3]]},t.getElementIndex=function(c,n){return e.Check.typeOf.number.greaterThanOrEquals("row",n,0),e.Check.typeOf.number.lessThanOrEquals("row",n,1),e.Check.typeOf.number.greaterThanOrEquals("column",c,0),e.Check.typeOf.number.lessThanOrEquals("column",c,1),c*2+n},t.getColumn=function(c,n,o){e.Check.typeOf.object("matrix",c),e.Check.typeOf.number.greaterThanOrEquals("index",n,0),e.Check.typeOf.number.lessThanOrEquals("index",n,1),e.Check.typeOf.object("result",o);const h=n*2,f=c[h],y=c[h+1];return o.x=f,o.y=y,o},t.setColumn=function(c,n,o,h){e.Check.typeOf.object("matrix",c),e.Check.typeOf.number.greaterThanOrEquals("index",n,0),e.Check.typeOf.number.lessThanOrEquals("index",n,1),e.Check.typeOf.object("cartesian",o),e.Check.typeOf.object("result",h),h=t.clone(c,h);const f=n*2;return h[f]=o.x,h[f+1]=o.y,h},t.getRow=function(c,n,o){e.Check.typeOf.object("matrix",c),e.Check.typeOf.number.greaterThanOrEquals("index",n,0),e.Check.typeOf.number.lessThanOrEquals("index",n,1),e.Check.typeOf.object("result",o);const h=c[n],f=c[n+2];return o.x=h,o.y=f,o},t.setRow=function(c,n,o,h){return e.Check.typeOf.object("matrix",c),e.Check.typeOf.number.greaterThanOrEquals("index",n,0),e.Check.typeOf.number.lessThanOrEquals("index",n,1),e.Check.typeOf.object("cartesian",o),e.Check.typeOf.object("result",h),h=t.clone(c,h),h[n]=o.x,h[n+2]=o.y,h};const _n=new T;t.setScale=function(c,n,o){e.Check.typeOf.object("matrix",c),e.Check.typeOf.object("scale",n),e.Check.typeOf.object("result",o);const h=t.getScale(c,_n),f=n.x/h.x,y=n.y/h.y;return o[0]=c[0]*f,o[1]=c[1]*f,o[2]=c[2]*y,o[3]=c[3]*y,o};const An=new T;t.setUniformScale=function(c,n,o){e.Check.typeOf.object("matrix",c),e.Check.typeOf.number("scale",n),e.Check.typeOf.object("result",o);const h=t.getScale(c,An),f=n/h.x,y=n/h.y;return o[0]=c[0]*f,o[1]=c[1]*f,o[2]=c[2]*y,o[3]=c[3]*y,o};const gc=new T;t.getScale=function(c,n){return e.Check.typeOf.object("matrix",c),e.Check.typeOf.object("result",n),n.x=T.magnitude(T.fromElements(c[0],c[1],gc)),n.y=T.magnitude(T.fromElements(c[2],c[3],gc)),n};const Gc=new T;t.getMaximumScale=function(c){return t.getScale(c,Gc),T.maximumComponent(Gc)};const Nn=new T;t.setRotation=function(c,n,o){e.Check.typeOf.object("matrix",c),e.Check.typeOf.object("result",o);const h=t.getScale(c,Nn);return o[0]=n[0]*h.x,o[1]=n[1]*h.x,o[2]=n[2]*h.y,o[3]=n[3]*h.y,o};const Un=new T;t.getRotation=function(c,n){e.Check.typeOf.object("matrix",c),e.Check.typeOf.object("result",n);const o=t.getScale(c,Un);return n[0]=c[0]/o.x,n[1]=c[1]/o.x,n[2]=c[2]/o.y,n[3]=c[3]/o.y,n},t.multiply=function(c,n,o){e.Check.typeOf.object("left",c),e.Check.typeOf.object("right",n),e.Check.typeOf.object("result",o);const h=c[0]*n[0]+c[2]*n[1],f=c[0]*n[2]+c[2]*n[3],y=c[1]*n[0]+c[3]*n[1],C=c[1]*n[2]+c[3]*n[3];return o[0]=h,o[1]=y,o[2]=f,o[3]=C,o},t.add=function(c,n,o){return e.Check.typeOf.object("left",c),e.Check.typeOf.object("right",n),e.Check.typeOf.object("result",o),o[0]=c[0]+n[0],o[1]=c[1]+n[1],o[2]=c[2]+n[2],o[3]=c[3]+n[3],o},t.subtract=function(c,n,o){return e.Check.typeOf.object("left",c),e.Check.typeOf.object("right",n),e.Check.typeOf.object("result",o),o[0]=c[0]-n[0],o[1]=c[1]-n[1],o[2]=c[2]-n[2],o[3]=c[3]-n[3],o},t.multiplyByVector=function(c,n,o){e.Check.typeOf.object("matrix",c),e.Check.typeOf.object("cartesian",n),e.Check.typeOf.object("result",o);const h=c[0]*n.x+c[2]*n.y,f=c[1]*n.x+c[3]*n.y;return o.x=h,o.y=f,o},t.multiplyByScalar=function(c,n,o){return e.Check.typeOf.object("matrix",c),e.Check.typeOf.number("scalar",n),e.Check.typeOf.object("result",o),o[0]=c[0]*n,o[1]=c[1]*n,o[2]=c[2]*n,o[3]=c[3]*n,o},t.multiplyByScale=function(c,n,o){return e.Check.typeOf.object("matrix",c),e.Check.typeOf.object("scale",n),e.Check.typeOf.object("result",o),o[0]=c[0]*n.x,o[1]=c[1]*n.x,o[2]=c[2]*n.y,o[3]=c[3]*n.y,o},t.multiplyByUniformScale=function(c,n,o){return e.Check.typeOf.object("matrix",c),e.Check.typeOf.number("scale",n),e.Check.typeOf.object("result",o),o[0]=c[0]*n,o[1]=c[1]*n,o[2]=c[2]*n,o[3]=c[3]*n,o},t.negate=function(c,n){return e.Check.typeOf.object("matrix",c),e.Check.typeOf.object("result",n),n[0]=-c[0],n[1]=-c[1],n[2]=-c[2],n[3]=-c[3],n},t.transpose=function(c,n){e.Check.typeOf.object("matrix",c),e.Check.typeOf.object("result",n);const o=c[0],h=c[2],f=c[1],y=c[3];return n[0]=o,n[1]=h,n[2]=f,n[3]=y,n},t.abs=function(c,n){return e.Check.typeOf.object("matrix",c),e.Check.typeOf.object("result",n),n[0]=Math.abs(c[0]),n[1]=Math.abs(c[1]),n[2]=Math.abs(c[2]),n[3]=Math.abs(c[3]),n},t.equals=function(c,n){return c===n||O.defined(c)&&O.defined(n)&&c[0]===n[0]&&c[1]===n[1]&&c[2]===n[2]&&c[3]===n[3]},t.equalsArray=function(c,n,o){return c[0]===n[o]&&c[1]===n[o+1]&&c[2]===n[o+2]&&c[3]===n[o+3]},t.equalsEpsilon=function(c,n,o){return o=O.defaultValue(o,0),c===n||O.defined(c)&&O.defined(n)&&Math.abs(c[0]-n[0])<=o&&Math.abs(c[1]-n[1])<=o&&Math.abs(c[2]-n[2])<=o&&Math.abs(c[3]-n[3])<=o},t.IDENTITY=Object.freeze(new t(1,0,0,1)),t.ZERO=Object.freeze(new t(0,0,0,0)),t.COLUMN0ROW0=0,t.COLUMN0ROW1=1,t.COLUMN1ROW0=2,t.COLUMN1ROW1=3,Object.defineProperties(t.prototype,{length:{get:function(){return t.packedLength}}}),t.prototype.clone=function(c){return t.clone(this,c)},t.prototype.equals=function(c){return t.equals(this,c)},t.prototype.equalsEpsilon=function(c,n){return t.equalsEpsilon(this,c,n)},t.prototype.toString=function(){return`(${this[0]}, ${this[2]})
(${this[1]}, ${this[3]})`},E.Cartesian2=T,E.Cartesian3=b,E.Cartesian4=M,E.Cartographic=Y,E.Ellipsoid=W,E.Matrix2=t,E.Matrix3=d,E.Matrix4=j,E.Rectangle=N});
