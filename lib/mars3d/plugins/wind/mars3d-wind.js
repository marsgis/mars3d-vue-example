function a0_0x1ed6(_0xf74c27,_0x25fd8f){var _0x11580a=a0_0x1158();return a0_0x1ed6=function(_0x1ed65b,_0x223244){_0x1ed65b=_0x1ed65b-0x1a2;var _0x51d6b5=_0x11580a[_0x1ed65b];return _0x51d6b5;},a0_0x1ed6(_0xf74c27,_0x25fd8f);}function a0_0x1158(){var _0x2dd726=['_mountedHook','resize','screen','positionWC','log','layer','EllipsoidalOccluder','lev','LayerUtil','__esModule','removeEventListener','shaderProgram','default','clampToLatitudeRange','particlesComputing','canvasContext','globalAlpha','particlesRendering','segmentsDepth','DrawCommand','outputTexture','refreshParticles','keys','rawRenderState','Draw','getUserInput','isInExtent','segments','BaseLayer','LUMINANCE','ClearCommand','attributeLocations','STATIC_DRAW','NEAREST','setOptions','_onMouseDownEvent','clear','nextParticlesPosition','round','fromGeometry','197636CfXBmi','windTextures','off','particlesWind','max','mars3dWind','framebuffer','ceil','pointerEvents','324LYKoMu','sqrt','canvasWidth','frameTime','currentTrailsDepth','mars3d','GeometryAttribute','updateViewerParameters','_speedRate','RenderState','Super\x20expression\x20must\x20either\x20be\x20null\x20or\x20a\x20function','update','drawWind','currentParticlesSpeed','strokeStyle','drawingBufferHeight','currentParticlesPosition','mod','nextTrailsColor','WMS_URL','vdata','createTexture','getRandomLatLng','depthTest','construct','PrimitiveType','framebuffers','createCommand','left','updateDate','arrayBufferView','Pass','createRenderingTextures','createElement','random','class','nextParticlesSpeed','_calcUV','style','lon','visible','IDENTITY','string','beginPath','maxAge','particlesTextures','dropRate','getExtent','WindLayer','autoClear','uniform\x20sampler2D\x20colorTable;\x0a\x0avarying\x20float\x20speedNormalization;\x0a\x0avoid\x20main()\x20{\x0a\x20\x20\x20\x20gl_FragColor\x20=\x20texture2D(colorTable,\x20vec2(speedNormalization,\x200.0));\x0a}','Compute','PixelDatatype','getColorTexture','createParticlesTextures','3171bcaKad','colorNum','mode','create','sham','min','320JaXCOU','fromDegrees','DEPTH_COMPONENT','lineTo','4904xEiBWG','xmin','SCENE3D','unbindEvent','applyViewerParameters','bind','particleHeight','lng','context','calc_speedRate','_onMouseUpEvent','options','data','randomBetween','isPointVisible','64611MsHsyo','moveTo','clientHeight','ymin','getUVByXY','color','postProcessingPosition','enumerable','defaultValue','mars3d-cesium','attribute\x20vec3\x20position;\x0d\x0aattribute\x20vec2\x20st;\x0d\x0a\x0d\x0avarying\x20vec2\x20textureCoordinate;\x0d\x0a\x0d\x0avoid\x20main()\x20{\x0d\x0a\x20\x20\x20\x20textureCoordinate\x20=\x20st;\x0d\x0a\x20\x20\x20\x20gl_Position\x20=\x20vec4(position,\x201.0);\x0d\x0a}','scene','ellipsoid','amd','windData','getFullscreenQuad','cols','canvas','width','RGB','viewerParameters','_maxAge','TextureMinificationFilter','uniformMap','floor','382KtTFvX','refreshTimer','SceneMode','TWO_PI','PI_OVER_THREE','getU','getDirection','#ffffff','depthTexture','DISABLE_LOG_DEPTH_FRAGMENT_WRITE','Sampler','all','getPixelSize','THREE_PI_OVER_TWO','getWind','_removedHook','_pointerEvents','getUVByPoint','preExecute','now','uniform\x20sampler2D\x20trailsColorTexture;\x0d\x0auniform\x20sampler2D\x20trailsDepthTexture;\x0d\x0a\x0d\x0avarying\x20vec2\x20textureCoordinate;\x0d\x0a\x0d\x0avoid\x20main()\x20{\x0d\x0a\x20\x20\x20\x20vec4\x20trailsColor\x20=\x20texture2D(trailsColorTexture,\x20textureCoordinate);\x0d\x0a\x20\x20\x20\x20float\x20trailsDepth\x20=\x20texture2D(trailsDepthTexture,\x20textureCoordinate).r;\x0d\x0a\x20\x20\x20\x20float\x20globeDepth\x20=\x20czm_unpackDepth(texture2D(czm_globeDepthTexture,\x20textureCoordinate));\x0d\x0a\x0d\x0a\x20\x20\x20\x20if\x20(trailsDepth\x20<\x20globeDepth)\x20{\x0d\x0a\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20trailsColor;\x0d\x0a\x20\x20\x20\x20}\x20else\x20{\x0d\x0a\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(0.0);\x0d\x0a\x20\x20\x20\x20}\x0d\x0a}','addPrimitives','Color','latRange','mouseDown','stroke','WindUtil','canrefresh','bindEvent','length','lighter','ALWAYS','tlng','805221UUsUwG','particlesNumber','pixelSize','particlesTextureSize','BufferUsage','__proto__','getSpeed','drawingBufferWidth','cancelAnimationFrame','south','mouseUp','toDegrees','writable','PixelFormat','destroyParticlesTextures','show','textures','viewRectangleToLonLatRange','object','grid','redraw','fixedHeight','value','windField','getPrototypeOf','_tomap','ShaderSource','_onMouseMoveEvent','register','reverseY','Cartesian3','postProcessingSpeed','RGBA','apply','getV','destroy','797690LgAXTt','_calcStep','forEach','updateSpeed','fill','createFramebuffer','camera','Texture','DepthFunction','lonRange','defined','speedFactor','key','colorTable','createRenderingPrimitives','attribute\x20vec2\x20st;\x0a//\x20it\x20is\x20not\x20normal\x20itself,\x20but\x20used\x20to\x20control\x20normal\x0aattribute\x20vec3\x20normal;\x20//\x20(point\x20to\x20use,\x20offset\x20sign,\x20not\x20used\x20component)\x0a\x0auniform\x20sampler2D\x20currentParticlesPosition;\x0auniform\x20sampler2D\x20postProcessingPosition;\x0auniform\x20sampler2D\x20postProcessingSpeed;\x0a\x0auniform\x20float\x20particleHeight;\x0a\x0auniform\x20float\x20aspect;\x0auniform\x20float\x20pixelSize;\x0auniform\x20float\x20lineWidth;\x0a\x0avarying\x20float\x20speedNormalization;\x0a\x0avec3\x20convertCoordinate(vec3\x20lonLatLev)\x20{\x0a\x20\x20\x20\x20//\x20WGS84\x20(lon,\x20lat,\x20lev)\x20->\x20ECEF\x20(x,\x20y,\x20z)\x0a\x20\x20\x20\x20//\x20see\x20https://en.wikipedia.org/wiki/Geographic_coordinate_conversion#From_geodetic_to_ECEF_coordinates\x20for\x20detail\x0a\x0a\x20\x20\x20\x20//\x20WGS\x2084\x20geometric\x20constants\x20\x0a\x20\x20\x20\x20float\x20a\x20=\x206378137.0;\x20//\x20Semi-major\x20axis\x20\x0a\x20\x20\x20\x20float\x20b\x20=\x206356752.3142;\x20//\x20Semi-minor\x20axis\x20\x0a\x20\x20\x20\x20float\x20e2\x20=\x206.69437999014e-3;\x20//\x20First\x20eccentricity\x20squared\x0a\x0a\x20\x20\x20\x20float\x20latitude\x20=\x20radians(lonLatLev.y);\x0a\x20\x20\x20\x20float\x20longitude\x20=\x20radians(lonLatLev.x);\x0a\x0a\x20\x20\x20\x20float\x20cosLat\x20=\x20cos(latitude);\x0a\x20\x20\x20\x20float\x20sinLat\x20=\x20sin(latitude);\x0a\x20\x20\x20\x20float\x20cosLon\x20=\x20cos(longitude);\x0a\x20\x20\x20\x20float\x20sinLon\x20=\x20sin(longitude);\x0a\x0a\x20\x20\x20\x20float\x20N_Phi\x20=\x20a\x20/\x20sqrt(1.0\x20-\x20e2\x20*\x20sinLat\x20*\x20sinLat);\x0a\x20\x20\x20\x20float\x20h\x20=\x20particleHeight;\x20//\x20it\x20should\x20be\x20high\x20enough\x20otherwise\x20the\x20particle\x20may\x20not\x20pass\x20the\x20terrain\x20depth\x20test\x0a\x0a\x20\x20\x20\x20vec3\x20cartesian\x20=\x20vec3(0.0);\x0a\x20\x20\x20\x20cartesian.x\x20=\x20(N_Phi\x20+\x20h)\x20*\x20cosLat\x20*\x20cosLon;\x0a\x20\x20\x20\x20cartesian.y\x20=\x20(N_Phi\x20+\x20h)\x20*\x20cosLat\x20*\x20sinLon;\x0a\x20\x20\x20\x20cartesian.z\x20=\x20((b\x20*\x20b)\x20/\x20(a\x20*\x20a)\x20*\x20N_Phi\x20+\x20h)\x20*\x20sinLat;\x0a\x20\x20\x20\x20return\x20cartesian;\x0a}\x0a\x0avec4\x20calcProjectedCoordinate(vec3\x20lonLatLev)\x20{\x0a\x20\x20\x20\x20//\x20the\x20range\x20of\x20longitude\x20in\x20Cesium\x20is\x20[-180,\x20180]\x20but\x20the\x20range\x20of\x20longitude\x20in\x20the\x20NetCDF\x20file\x20is\x20[0,\x20360]\x0a\x20\x20\x20\x20//\x20[0,\x20180]\x20is\x20corresponding\x20to\x20[0,\x20180]\x20and\x20[180,\x20360]\x20is\x20corresponding\x20to\x20[-180,\x200]\x0a\x20\x20\x20\x20lonLatLev.x\x20=\x20mod(lonLatLev.x\x20+\x20180.0,\x20360.0)\x20-\x20180.0;\x0a\x20\x20\x20\x20vec3\x20particlePosition\x20=\x20convertCoordinate(lonLatLev);\x0a\x20\x20\x20\x20vec4\x20projectedCoordinate\x20=\x20czm_modelViewProjection\x20*\x20vec4(particlePosition,\x201.0);\x0a\x20\x20\x20\x20return\x20projectedCoordinate;\x0a}\x0a\x0avec4\x20calcOffset(vec4\x20currentProjectedCoordinate,\x20vec4\x20nextProjectedCoordinate,\x20float\x20offsetSign)\x20{\x0a\x20\x20\x20\x20vec2\x20aspectVec2\x20=\x20vec2(aspect,\x201.0);\x0a\x20\x20\x20\x20vec2\x20currentXY\x20=\x20(currentProjectedCoordinate.xy\x20/\x20currentProjectedCoordinate.w)\x20*\x20aspectVec2;\x0a\x20\x20\x20\x20vec2\x20nextXY\x20=\x20(nextProjectedCoordinate.xy\x20/\x20nextProjectedCoordinate.w)\x20*\x20aspectVec2;\x0a\x0a\x20\x20\x20\x20float\x20offsetLength\x20=\x20lineWidth\x20/\x202.0;\x0a\x20\x20\x20\x20vec2\x20direction\x20=\x20normalize(nextXY\x20-\x20currentXY);\x0a\x20\x20\x20\x20vec2\x20normalVector\x20=\x20vec2(-direction.y,\x20direction.x);\x0a\x20\x20\x20\x20normalVector.x\x20=\x20normalVector.x\x20/\x20aspect;\x0a\x20\x20\x20\x20normalVector\x20=\x20offsetLength\x20*\x20normalVector;\x0a\x0a\x20\x20\x20\x20vec4\x20offset\x20=\x20vec4(offsetSign\x20*\x20normalVector,\x200.0,\x200.0);\x0a\x20\x20\x20\x20return\x20offset;\x0a}\x0a\x0avoid\x20main()\x20{\x0a\x20\x20\x20\x20vec2\x20particleIndex\x20=\x20st;\x0a\x0a\x20\x20\x20\x20vec3\x20currentPosition\x20=\x20texture2D(currentParticlesPosition,\x20particleIndex).rgb;\x0a\x20\x20\x20\x20vec4\x20nextPosition\x20=\x20texture2D(postProcessingPosition,\x20particleIndex);\x0a\x0a\x20\x20\x20\x20vec4\x20currentProjectedCoordinate\x20=\x20vec4(0.0);\x0a\x20\x20\x20\x20vec4\x20nextProjectedCoordinate\x20=\x20vec4(0.0);\x0a\x20\x20\x20\x20if\x20(nextPosition.w\x20>\x200.0)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20currentProjectedCoordinate\x20=\x20calcProjectedCoordinate(currentPosition);\x0a\x20\x20\x20\x20\x20\x20\x20\x20nextProjectedCoordinate\x20=\x20calcProjectedCoordinate(currentPosition);\x0a\x20\x20\x20\x20}\x20else\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20currentProjectedCoordinate\x20=\x20calcProjectedCoordinate(currentPosition);\x0a\x20\x20\x20\x20\x20\x20\x20\x20nextProjectedCoordinate\x20=\x20calcProjectedCoordinate(nextPosition.xyz);\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20float\x20pointToUse\x20=\x20normal.x;\x20//\x20-1\x20is\x20currentProjectedCoordinate\x20and\x20+1\x20is\x20nextProjectedCoordinate\x0a\x20\x20\x20\x20float\x20offsetSign\x20=\x20normal.y;\x0a\x0a\x20\x20\x20\x20vec4\x20offset\x20=\x20pixelSize\x20*\x20calcOffset(currentProjectedCoordinate,\x20nextProjectedCoordinate,\x20offsetSign);\x0a\x20\x20\x20\x20if\x20(pointToUse\x20<\x200.0)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20gl_Position\x20=\x20currentProjectedCoordinate\x20+\x20offset;\x0a\x20\x20\x20\x20}\x20else\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20gl_Position\x20=\x20nextProjectedCoordinate\x20+\x20offset;\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20speedNormalization\x20=\x20texture2D(postProcessingSpeed,\x20particleIndex).a;\x0a}','ComputeCommand','EventType','prototype','commandType','addEventListener','lat','constructor','clientWidth','uniform\x20sampler2D\x20segmentsColorTexture;\x0d\x0auniform\x20sampler2D\x20segmentsDepthTexture;\x0d\x0a\x0d\x0auniform\x20sampler2D\x20currentTrailsColor;\x0d\x0auniform\x20sampler2D\x20trailsDepthTexture;\x0d\x0a\x0d\x0auniform\x20float\x20fadeOpacity;\x0d\x0a\x0d\x0avarying\x20vec2\x20textureCoordinate;\x0d\x0a\x0d\x0avoid\x20main()\x20{\x0d\x0a\x20\x20\x20\x20vec4\x20pointsColor\x20=\x20texture2D(segmentsColorTexture,\x20textureCoordinate);\x0d\x0a\x20\x20\x20\x20vec4\x20trailsColor\x20=\x20texture2D(currentTrailsColor,\x20textureCoordinate);\x0d\x0a\x0d\x0a\x20\x20\x20\x20trailsColor\x20=\x20floor(fadeOpacity\x20*\x20255.0\x20*\x20trailsColor)\x20/\x20255.0;\x20//\x20make\x20sure\x20the\x20trailsColor\x20will\x20be\x20strictly\x20decreased\x0d\x0a\x0d\x0a\x20\x20\x20\x20float\x20pointsDepth\x20=\x20texture2D(segmentsDepthTexture,\x20textureCoordinate).r;\x0d\x0a\x20\x20\x20\x20float\x20trailsDepth\x20=\x20texture2D(trailsDepthTexture,\x20textureCoordinate).r;\x0d\x0a\x20\x20\x20\x20float\x20globeDepth\x20=\x20czm_unpackDepth(texture2D(czm_globeDepthTexture,\x20textureCoordinate));\x0d\x0a\x0d\x0a\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(0.0);\x0d\x0a\x20\x20\x20\x20if\x20(pointsDepth\x20<\x20globeDepth)\x20{\x0d\x0a\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20gl_FragColor\x20+\x20pointsColor;\x0d\x0a\x20\x20\x20\x20}\x0d\x0a\x20\x20\x20\x20if\x20(trailsDepth\x20<\x20globeDepth)\x20{\x0d\x0a\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20gl_FragColor\x20+\x20trailsColor;\x0d\x0a\x20\x20\x20\x20}\x0d\x0a\x20\x20\x20\x20gl_FragDepthEXT\x20=\x20min(pointsDepth,\x20trailsDepth);\x0d\x0a}','commandList','_bilinearInterpolation','FLOAT','symbol','toGridXY','nextTrails','Appearance','visibility','clearCommand','fromCache','pow','geometry','lineWidth','uniform\x20sampler2D\x20currentParticlesSpeed;\x20//\x20(u,\x20v,\x20w,\x20normalization)\x0auniform\x20sampler2D\x20particlesWind;\x0a\x0a//\x20used\x20to\x20calculate\x20the\x20wind\x20norm\x0auniform\x20vec2\x20uSpeedRange;\x20//\x20(min,\x20max);\x0auniform\x20vec2\x20vSpeedRange;\x0auniform\x20float\x20pixelSize;\x0auniform\x20float\x20speedFactor;\x0a\x0avarying\x20vec2\x20v_textureCoordinates;\x0a\x0afloat\x20calculateWindNorm(vec3\x20speed)\x20{\x0a\x20\x20\x20\x20vec3\x20percent\x20=\x20vec3(0.0);\x0a\x20\x20\x20\x20percent.x\x20=\x20(speed.x\x20-\x20uSpeedRange.x)\x20/\x20(uSpeedRange.y\x20-\x20uSpeedRange.x);\x0a\x20\x20\x20\x20percent.y\x20=\x20(speed.y\x20-\x20vSpeedRange.x)\x20/\x20(vSpeedRange.y\x20-\x20vSpeedRange.x);\x0a\x20\x20\x20\x20float\x20normalization\x20=\x20length(percent);\x0a\x0a\x20\x20\x20\x20return\x20normalization;\x0a}\x0a\x0avoid\x20main()\x20{\x0a\x20\x20\x20\x20//\x20texture\x20coordinate\x20must\x20be\x20normalized\x0a\x20\x20\x20\x20vec3\x20currentSpeed\x20=\x20texture2D(currentParticlesSpeed,\x20v_textureCoordinates).rgb;\x0a\x20\x20\x20\x20vec3\x20windVector\x20=\x20texture2D(particlesWind,\x20v_textureCoordinates).rgb;\x0a\x0a\x20\x20\x20\x20vec4\x20nextSpeed\x20=\x20vec4(speedFactor\x20*\x20pixelSize\x20*\x20windVector,\x20calculateWindNorm(windVector));\x0a\x20\x20\x20\x20gl_FragColor\x20=\x20nextSpeed;\x0a}','Geometry','currentTrailsColor','_drawLines','udata','primitives','abs','clearFramebuffers','depthMask','_onMapWhellEvent','TextureMagnificationFilter','container','globeLayer','position','createComputingPrimitives','_addedHook','toRadians','none','undefined','createSegmentsGeometry','Rectangle','mouse_move','Math','Cartesian2','preRender','dimensions','createRenderingFramebuffers','_map','100%','updatePosition','speedRate','execute','particles','isDestroyed','computeViewRectangle','Matrix4','primitiveType','_particlesNumber','TRIANGLES','dropRateBump','Cesium','globalCompositeOperation','randomizeParticles','configurable','DISABLE_GL_POSITION_LOG_DEPTH','Module','exports','ShaderProgram','Cannot\x20call\x20a\x20class\x20as\x20a\x20function','xmax','uniform\x20sampler2D\x20postProcessingPosition;\x0auniform\x20sampler2D\x20nextParticlesSpeed;\x0a\x0avarying\x20vec2\x20v_textureCoordinates;\x0a\x0avoid\x20main()\x20{\x0a\x20\x20\x20\x20vec4\x20randomParticle\x20=\x20texture2D(postProcessingPosition,\x20v_textureCoordinates);\x0a\x20\x20\x20\x20vec4\x20particleSpeed\x20=\x20texture2D(nextParticlesSpeed,\x20v_textureCoordinates);\x0a\x0a\x20\x20\x20\x20if\x20(randomParticle.a\x20>\x200.0)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(0.0);\x0a\x20\x20\x20\x20}\x20else\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20particleSpeed;\x0a\x20\x20\x20\x20}\x0a}','ComponentDatatype','function','particleSystem','applyUserInput','vertexArray','tlat','wheel','Framebuffer','animateFrame','canvasHeight','fadeOpacity','age','getContext','wgs84ToWindowCoordinates','createRawRenderState','PI_OVER_TWO','_onMap_preRenderEvent','UNSIGNED_BYTE','call','height','add','vertexShaderSource','west','PrimitiveCollection','globe','defineProperty','setData','randomParticle','trails','//\x20the\x20size\x20of\x20UV\x20textures:\x20width\x20=\x20lon,\x20height\x20=\x20lat*lev\x0auniform\x20sampler2D\x20U;\x20//\x20eastward\x20wind\x20\x0auniform\x20sampler2D\x20V;\x20//\x20northward\x20wind\x0a\x0auniform\x20sampler2D\x20currentParticlesPosition;\x20//\x20(lon,\x20lat,\x20lev)\x0a\x0auniform\x20vec3\x20dimension;\x20//\x20(lon,\x20lat,\x20lev)\x0auniform\x20vec3\x20minimum;\x20//\x20minimum\x20of\x20each\x20dimension\x0auniform\x20vec3\x20maximum;\x20//\x20maximum\x20of\x20each\x20dimension\x0auniform\x20vec3\x20interval;\x20//\x20interval\x20of\x20each\x20dimension\x0a\x0avarying\x20vec2\x20v_textureCoordinates;\x0a\x0avec2\x20mapPositionToNormalizedIndex2D(vec3\x20lonLatLev)\x20{\x0a\x20\x20\x20\x20//\x20ensure\x20the\x20range\x20of\x20longitude\x20and\x20latitude\x0a\x20\x20\x20\x20lonLatLev.x\x20=\x20mod(lonLatLev.x,\x20360.0);\x0a\x20\x20\x20\x20lonLatLev.y\x20=\x20clamp(lonLatLev.y,\x20-90.0,\x2090.0);\x0a\x0a\x20\x20\x20\x20vec3\x20index3D\x20=\x20vec3(0.0);\x0a\x20\x20\x20\x20index3D.x\x20=\x20(lonLatLev.x\x20-\x20minimum.x)\x20/\x20interval.x;\x0a\x20\x20\x20\x20index3D.y\x20=\x20(lonLatLev.y\x20-\x20minimum.y)\x20/\x20interval.y;\x0a\x20\x20\x20\x20index3D.z\x20=\x20(lonLatLev.z\x20-\x20minimum.z)\x20/\x20interval.z;\x0a\x0a\x20\x20\x20\x20//\x20the\x20st\x20texture\x20coordinate\x20corresponding\x20to\x20(col,\x20row)\x20index\x0a\x20\x20\x20\x20//\x20example\x0a\x20\x20\x20\x20//\x20data\x20array\x20is\x20[0,\x201,\x202,\x203,\x204,\x205],\x20width\x20=\x203,\x20height\x20=\x202\x0a\x20\x20\x20\x20//\x20the\x20content\x20of\x20texture\x20will\x20be\x0a\x20\x20\x20\x20//\x20t\x201.0\x0a\x20\x20\x20\x20//\x20\x20\x20\x20|\x20\x203\x204\x205\x0a\x20\x20\x20\x20//\x20\x20\x20\x20|\x0a\x20\x20\x20\x20//\x20\x20\x20\x20|\x20\x200\x201\x202\x0a\x20\x20\x20\x20//\x20\x20\x200.0------1.0\x20s\x0a\x0a\x20\x20\x20\x20vec2\x20index2D\x20=\x20vec2(index3D.x,\x20index3D.z\x20*\x20dimension.y\x20+\x20index3D.y);\x0a\x20\x20\x20\x20vec2\x20normalizedIndex2D\x20=\x20vec2(index2D.x\x20/\x20dimension.x,\x20index2D.y\x20/\x20(dimension.y\x20*\x20dimension.z));\x0a\x20\x20\x20\x20return\x20normalizedIndex2D;\x0a}\x0a\x0afloat\x20getWind(sampler2D\x20windTexture,\x20vec3\x20lonLatLev)\x20{\x0a\x20\x20\x20\x20vec2\x20normalizedIndex2D\x20=\x20mapPositionToNormalizedIndex2D(lonLatLev);\x0a\x20\x20\x20\x20float\x20result\x20=\x20texture2D(windTexture,\x20normalizedIndex2D).r;\x0a\x20\x20\x20\x20return\x20result;\x0a}\x0a\x0aconst\x20mat4\x20kernelMatrix\x20=\x20mat4(\x0a\x20\x20\x20\x200.0,\x20-1.0,\x202.0,\x20-1.0,\x20//\x20first\x20column\x0a\x20\x20\x20\x202.0,\x200.0,\x20-5.0,\x203.0,\x20//\x20second\x20column\x0a\x20\x20\x20\x200.0,\x201.0,\x204.0,\x20-3.0,\x20//\x20third\x20column\x0a\x20\x20\x20\x200.0,\x200.0,\x20-1.0,\x201.0\x20//\x20fourth\x20column\x0a);\x0afloat\x20oneDimensionInterpolation(float\x20t,\x20float\x20p0,\x20float\x20p1,\x20float\x20p2,\x20float\x20p3)\x20{\x0a\x20\x20\x20\x20vec4\x20tVec4\x20=\x20vec4(1.0,\x20t,\x20t\x20*\x20t,\x20t\x20*\x20t\x20*\x20t);\x0a\x20\x20\x20\x20tVec4\x20=\x20tVec4\x20/\x202.0;\x0a\x20\x20\x20\x20vec4\x20pVec4\x20=\x20vec4(p0,\x20p1,\x20p2,\x20p3);\x0a\x20\x20\x20\x20return\x20dot((tVec4\x20*\x20kernelMatrix),\x20pVec4);\x0a}\x0a\x0afloat\x20calculateB(sampler2D\x20windTexture,\x20float\x20t,\x20float\x20lon,\x20float\x20lat,\x20float\x20lev)\x20{\x0a\x20\x20\x20\x20float\x20lon0\x20=\x20floor(lon)\x20-\x201.0\x20*\x20interval.x;\x0a\x20\x20\x20\x20float\x20lon1\x20=\x20floor(lon);\x0a\x20\x20\x20\x20float\x20lon2\x20=\x20floor(lon)\x20+\x201.0\x20*\x20interval.x;\x0a\x20\x20\x20\x20float\x20lon3\x20=\x20floor(lon)\x20+\x202.0\x20*\x20interval.x;\x0a\x0a\x20\x20\x20\x20float\x20p0\x20=\x20getWind(windTexture,\x20vec3(lon0,\x20lat,\x20lev));\x0a\x20\x20\x20\x20float\x20p1\x20=\x20getWind(windTexture,\x20vec3(lon1,\x20lat,\x20lev));\x0a\x20\x20\x20\x20float\x20p2\x20=\x20getWind(windTexture,\x20vec3(lon2,\x20lat,\x20lev));\x0a\x20\x20\x20\x20float\x20p3\x20=\x20getWind(windTexture,\x20vec3(lon3,\x20lat,\x20lev));\x0a\x0a\x20\x20\x20\x20return\x20oneDimensionInterpolation(t,\x20p0,\x20p1,\x20p2,\x20p3);\x0a}\x0a\x0afloat\x20interpolateOneTexture(sampler2D\x20windTexture,\x20vec3\x20lonLatLev)\x20{\x0a\x20\x20\x20\x20float\x20lon\x20=\x20lonLatLev.x;\x0a\x20\x20\x20\x20float\x20lat\x20=\x20lonLatLev.y;\x0a\x20\x20\x20\x20float\x20lev\x20=\x20lonLatLev.z;\x0a\x0a\x20\x20\x20\x20float\x20lat0\x20=\x20floor(lat)\x20-\x201.0\x20*\x20interval.y;\x0a\x20\x20\x20\x20float\x20lat1\x20=\x20floor(lat);\x0a\x20\x20\x20\x20float\x20lat2\x20=\x20floor(lat)\x20+\x201.0\x20*\x20interval.y;\x0a\x20\x20\x20\x20float\x20lat3\x20=\x20floor(lat)\x20+\x202.0\x20*\x20interval.y;\x0a\x0a\x20\x20\x20\x20vec2\x20coefficient\x20=\x20lonLatLev.xy\x20-\x20floor(lonLatLev.xy);\x0a\x20\x20\x20\x20float\x20b0\x20=\x20calculateB(windTexture,\x20coefficient.x,\x20lon,\x20lat0,\x20lev);\x0a\x20\x20\x20\x20float\x20b1\x20=\x20calculateB(windTexture,\x20coefficient.x,\x20lon,\x20lat1,\x20lev);\x0a\x20\x20\x20\x20float\x20b2\x20=\x20calculateB(windTexture,\x20coefficient.x,\x20lon,\x20lat2,\x20lev);\x0a\x20\x20\x20\x20float\x20b3\x20=\x20calculateB(windTexture,\x20coefficient.x,\x20lon,\x20lat3,\x20lev);\x0a\x0a\x20\x20\x20\x20return\x20oneDimensionInterpolation(coefficient.y,\x20b0,\x20b1,\x20b2,\x20b3);\x0a}\x0a\x0avec3\x20bicubic(vec3\x20lonLatLev)\x20{\x0a\x20\x20\x20\x20//\x20https://en.wikipedia.org/wiki/Bicubic_interpolation#Bicubic_convolution_algorithm\x0a\x20\x20\x20\x20float\x20u\x20=\x20interpolateOneTexture(U,\x20lonLatLev);\x0a\x20\x20\x20\x20float\x20v\x20=\x20interpolateOneTexture(V,\x20lonLatLev);\x0a\x20\x20\x20\x20float\x20w\x20=\x200.0;\x0a\x20\x20\x20\x20return\x20vec3(u,\x20v,\x20w);\x0a}\x0a\x0avoid\x20main()\x20{\x0a\x20\x20\x20\x20//\x20texture\x20coordinate\x20must\x20be\x20normalized\x0a\x20\x20\x20\x20vec3\x20lonLatLev\x20=\x20texture2D(currentParticlesPosition,\x20v_textureCoordinates).rgb;\x0a\x20\x20\x20\x20vec3\x20windVector\x20=\x20bicubic(lonLatLev);\x0a\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(windVector,\x200.0);\x0a}','getDefaultRenderState','fragmentShaderSource','destroyObject','pointer-events','blending','ymax','commandToExecute','hidden','VertexArray','mouse_down','iterator','canvasWindy','hasOwnProperty','push','once','rows','0px','ZERO','toStringTag','cos','nextTrailsDepth','setGeometry','maxParticles','Derived\x20constructors\x20may\x20only\x20return\x20object\x20or\x20undefined','destination-in','BoundingSphere','removeAll','appendChild','this\x20hasn\x27t\x20been\x20initialised\x20-\x20super()\x20hasn\x27t\x20been\x20called','array','userInput','728940zAsKfa','CanvasWindLayer','mouseMove','currentTrails','_createCanvas'];a0_0x1158=function(){return _0x2dd726;};return a0_0x1158();}(function(_0x3f6c2c,_0x56e10f){var _0x285389=a0_0x1ed6,_0x5db5e4=_0x3f6c2c();while(!![]){try{var _0x5c6558=parseInt(_0x285389(0x30b))/0x1*(parseInt(_0x285389(0x1fa))/0x2)+parseInt(_0x285389(0x21b))/0x3+parseInt(_0x285389(0x302))/0x4+-parseInt(_0x285389(0x23f))/0x5+-parseInt(_0x285389(0x2d5))/0x6+-parseInt(_0x285389(0x1c8))/0x7*(-parseInt(_0x285389(0x1d2))/0x8)+parseInt(_0x285389(0x1e1))/0x9*(-parseInt(_0x285389(0x1ce))/0xa);if(_0x5c6558===_0x56e10f)break;else _0x5db5e4['push'](_0x5db5e4['shift']());}catch(_0x201e13){_0x5db5e4['push'](_0x5db5e4['shift']());}}}(a0_0x1158,0x23cc9),!function(_0x6f63ca,_0x48f3b8){var _0x54d3b5=a0_0x1ed6;_0x54d3b5(0x22d)==typeof exports&&_0x54d3b5(0x22d)==typeof module?module[_0x54d3b5(0x293)]=_0x48f3b8(require(_0x54d3b5(0x1ea)),require('mars3d')):_0x54d3b5(0x299)==typeof define&&define[_0x54d3b5(0x1ee)]?define(_0x54d3b5(0x307),[_0x54d3b5(0x1ea),_0x54d3b5(0x310)],_0x48f3b8):_0x54d3b5(0x22d)==typeof exports?exports[_0x54d3b5(0x307)]=_0x48f3b8(require(_0x54d3b5(0x1ea)),require(_0x54d3b5(0x310))):_0x6f63ca['mars3dWind']=_0x48f3b8(_0x6f63ca[_0x54d3b5(0x28d)],_0x6f63ca['mars3d']);}(window,function(_0x403feb,_0x4d73ff){return function(_0x103597){var _0x398eeb={};function _0xaea297(_0x166c68){var _0x322018=a0_0x1ed6;if(_0x398eeb[_0x166c68])return _0x398eeb[_0x166c68][_0x322018(0x293)];var _0x3c594e=_0x398eeb[_0x166c68]={'i':_0x166c68,'l':!0x1,'exports':{}};return _0x103597[_0x166c68][_0x322018(0x2aa)](_0x3c594e[_0x322018(0x293)],_0x3c594e,_0x3c594e[_0x322018(0x293)],_0xaea297),_0x3c594e['l']=!0x0,_0x3c594e[_0x322018(0x293)];}return _0xaea297['m']=_0x103597,_0xaea297['c']=_0x398eeb,_0xaea297['d']=function(_0x3a5fb1,_0x36f001,_0x35d06d){var _0x269f4f=a0_0x1ed6;_0xaea297['o'](_0x3a5fb1,_0x36f001)||Object[_0x269f4f(0x2b1)](_0x3a5fb1,_0x36f001,{'enumerable':!0x0,'get':_0x35d06d});},_0xaea297['r']=function(_0x40d6a9){var _0x469b79=a0_0x1ed6;_0x469b79(0x277)!=typeof Symbol&&Symbol[_0x469b79(0x2c8)]&&Object[_0x469b79(0x2b1)](_0x40d6a9,Symbol[_0x469b79(0x2c8)],{'value':_0x469b79(0x292)}),Object[_0x469b79(0x2b1)](_0x40d6a9,_0x469b79(0x2e3),{'value':!0x0});},_0xaea297['t']=function(_0x53a0bf,_0x3b266a){var _0x4b5083=a0_0x1ed6;if(0x1&_0x3b266a&&(_0x53a0bf=_0xaea297(_0x53a0bf)),0x8&_0x3b266a)return _0x53a0bf;if(0x4&_0x3b266a&&'object'==typeof _0x53a0bf&&_0x53a0bf&&_0x53a0bf[_0x4b5083(0x2e3)])return _0x53a0bf;var _0xe1856e=Object['create'](null);if(_0xaea297['r'](_0xe1856e),Object['defineProperty'](_0xe1856e,_0x4b5083(0x2e6),{'enumerable':!0x0,'value':_0x53a0bf}),0x2&_0x3b266a&&_0x4b5083(0x1bb)!=typeof _0x53a0bf){for(var _0x2fb2f9 in _0x53a0bf)_0xaea297['d'](_0xe1856e,_0x2fb2f9,function(_0x1be7fc){return _0x53a0bf[_0x1be7fc];}[_0x4b5083(0x1d7)](null,_0x2fb2f9));}return _0xe1856e;},_0xaea297['n']=function(_0xcfdf4a){var _0x1bc6a6=a0_0x1ed6,_0xaadb8c=_0xcfdf4a&&_0xcfdf4a[_0x1bc6a6(0x2e3)]?function(){var _0x51c0aa=_0x1bc6a6;return _0xcfdf4a[_0x51c0aa(0x2e6)];}:function(){return _0xcfdf4a;};return _0xaea297['d'](_0xaadb8c,'a',_0xaadb8c),_0xaadb8c;},_0xaea297['o']=function(_0x51cbcd,_0x3ae5d0){var _0x34cb70=a0_0x1ed6;return Object[_0x34cb70(0x251)][_0x34cb70(0x2c2)][_0x34cb70(0x2aa)](_0x51cbcd,_0x3ae5d0);},_0xaea297['p']='',_0xaea297(_0xaea297['s']=0x14);}([function(_0x58e14b,_0x11e96b){var _0x4d453a=a0_0x1ed6;_0x58e14b[_0x4d453a(0x293)]=_0x403feb;},function(_0x38dacd,_0x3ae3f9){var _0x38b656=a0_0x1ed6;_0x38dacd[_0x38b656(0x293)]=_0x4d73ff;},function(_0xa25f2d,_0x4b4cab){var _0x543ec=a0_0x1ed6;_0xa25f2d[_0x543ec(0x293)]=function(_0x5d4726,_0x4e8b08){var _0x2f92cb=_0x543ec;if(!(_0x5d4726 instanceof _0x4e8b08))throw new TypeError(_0x2f92cb(0x295));},_0xa25f2d[_0x543ec(0x293)][_0x543ec(0x2e6)]=_0xa25f2d[_0x543ec(0x293)],_0xa25f2d[_0x543ec(0x293)][_0x543ec(0x2e3)]=!0x0;},function(_0x40e136,_0x195fc3){var _0x246187=a0_0x1ed6;function _0x20755b(_0x3d353f,_0x4227ad){var _0x1ca33b=a0_0x1ed6;for(var _0x3d94db=0x0;_0x3d94db<_0x4227ad[_0x1ca33b(0x217)];_0x3d94db++){var _0x3b49cf=_0x4227ad[_0x3d94db];_0x3b49cf[_0x1ca33b(0x1e8)]=_0x3b49cf[_0x1ca33b(0x1e8)]||!0x1,_0x3b49cf[_0x1ca33b(0x290)]=!0x0,_0x1ca33b(0x231)in _0x3b49cf&&(_0x3b49cf[_0x1ca33b(0x227)]=!0x0),Object[_0x1ca33b(0x2b1)](_0x3d353f,_0x3b49cf[_0x1ca33b(0x24b)],_0x3b49cf);}}_0x40e136[_0x246187(0x293)]=function(_0x5576bb,_0x23634b,_0x22c189){var _0x3d9e74=_0x246187;return _0x23634b&&_0x20755b(_0x5576bb[_0x3d9e74(0x251)],_0x23634b),_0x22c189&&_0x20755b(_0x5576bb,_0x22c189),_0x5576bb;},_0x40e136['exports'][_0x246187(0x2e6)]=_0x40e136[_0x246187(0x293)],_0x40e136[_0x246187(0x293)][_0x246187(0x2e3)]=!0x0;},function(_0x36dde3,_0x4a313b){var _0x4ef69a=a0_0x1ed6;function _0x5e2828(_0x1f1df8){var _0x31cf22=a0_0x1ed6;return _0x36dde3['exports']=_0x5e2828=Object['setPrototypeOf']?Object[_0x31cf22(0x233)]:function(_0x228079){var _0x33a18b=_0x31cf22;return _0x228079[_0x33a18b(0x220)]||Object['getPrototypeOf'](_0x228079);},_0x36dde3['exports'][_0x31cf22(0x2e6)]=_0x36dde3[_0x31cf22(0x293)],_0x36dde3[_0x31cf22(0x293)]['__esModule']=!0x0,_0x5e2828(_0x1f1df8);}_0x36dde3['exports']=_0x5e2828,_0x36dde3[_0x4ef69a(0x293)]['default']=_0x36dde3[_0x4ef69a(0x293)],_0x36dde3[_0x4ef69a(0x293)][_0x4ef69a(0x2e3)]=!0x0;},function(_0x56365e,_0x59eced,_0x541ba2){var _0x341c20=a0_0x1ed6,_0x21ef34=_0x541ba2(0x11);_0x56365e[_0x341c20(0x293)]=function(_0xc6b432,_0x1375d7){var _0x36e345=_0x341c20;if(_0x36e345(0x299)!=typeof _0x1375d7&&null!==_0x1375d7)throw new TypeError(_0x36e345(0x315));_0xc6b432['prototype']=Object[_0x36e345(0x1cb)](_0x1375d7&&_0x1375d7[_0x36e345(0x251)],{'constructor':{'value':_0xc6b432,'writable':!0x0,'configurable':!0x0}}),_0x1375d7&&_0x21ef34(_0xc6b432,_0x1375d7);},_0x56365e[_0x341c20(0x293)][_0x341c20(0x2e6)]=_0x56365e[_0x341c20(0x293)],_0x56365e['exports']['__esModule']=!0x0;},function(_0x32aa85,_0x333fcf,_0x39f430){var _0x3bd42a=a0_0x1ed6,_0x26f691=_0x39f430(0x12)['default'],_0x8fd0a8=_0x39f430(0x13);_0x32aa85[_0x3bd42a(0x293)]=function(_0x1f4ee4,_0x43de93){var _0x300e26=_0x3bd42a;if(_0x43de93&&(_0x300e26(0x22d)===_0x26f691(_0x43de93)||_0x300e26(0x299)==typeof _0x43de93))return _0x43de93;if(void 0x0!==_0x43de93)throw new TypeError(_0x300e26(0x2cd));return _0x8fd0a8(_0x1f4ee4);},_0x32aa85['exports'][_0x3bd42a(0x2e6)]=_0x32aa85[_0x3bd42a(0x293)],_0x32aa85[_0x3bd42a(0x293)]['__esModule']=!0x0;},function(_0x300f64,_0x10ce31){var _0xa7fb1b=a0_0x1ed6;_0x300f64[_0xa7fb1b(0x293)]=_0xa7fb1b(0x1eb);},function(_0x198d32,_0x1e9c0f){var _0xf5e98f=a0_0x1ed6;_0x198d32[_0xf5e98f(0x293)]=_0xf5e98f(0x24e);},function(_0x1f13b4,_0x5eaf9e){var _0x34e9bf=a0_0x1ed6;_0x1f13b4['exports']=_0x34e9bf(0x1c3);},function(_0x38b60c,_0x444d5c){var _0x586497=a0_0x1ed6;_0x38b60c[_0x586497(0x293)]=_0x586497(0x257);},function(_0xd65ac3,_0x1937f2){var _0x336227=a0_0x1ed6;_0xd65ac3[_0x336227(0x293)]=_0x336227(0x20e);},function(_0x1c7324,_0x363241){var _0x52e4f2=a0_0x1ed6;_0x1c7324[_0x52e4f2(0x293)]=_0x52e4f2(0x2b5);},function(_0x2f9bfb,_0x539f9d){var _0x4d6db3=a0_0x1ed6;_0x2f9bfb[_0x4d6db3(0x293)]=_0x4d6db3(0x265);},function(_0x2c6b14,_0x574d20){var _0x2e83b0=a0_0x1ed6;_0x2c6b14[_0x2e83b0(0x293)]='uniform\x20sampler2D\x20currentParticlesPosition;\x20//\x20(lon,\x20lat,\x20lev)\x0auniform\x20sampler2D\x20currentParticlesSpeed;\x20//\x20(u,\x20v,\x20w,\x20normalization)\x0a\x0avarying\x20vec2\x20v_textureCoordinates;\x0a\x0avec2\x20lengthOfLonLat(vec3\x20lonLatLev)\x20{\x0a\x20\x20\x20\x20//\x20unit\x20conversion:\x20meters\x20->\x20longitude\x20latitude\x20degrees\x0a\x20\x20\x20\x20//\x20see\x20https://en.wikipedia.org/wiki/Geographic_coordinate_system#Length_of_a_degree\x20for\x20detail\x0a\x0a\x20\x20\x20\x20//\x20Calculate\x20the\x20length\x20of\x20a\x20degree\x20of\x20latitude\x20and\x20longitude\x20in\x20meters\x0a\x20\x20\x20\x20float\x20latitude\x20=\x20radians(lonLatLev.y);\x0a\x0a\x20\x20\x20\x20float\x20term1\x20=\x20111132.92;\x0a\x20\x20\x20\x20float\x20term2\x20=\x20559.82\x20*\x20cos(2.0\x20*\x20latitude);\x0a\x20\x20\x20\x20float\x20term3\x20=\x201.175\x20*\x20cos(4.0\x20*\x20latitude);\x0a\x20\x20\x20\x20float\x20term4\x20=\x200.0023\x20*\x20cos(6.0\x20*\x20latitude);\x0a\x20\x20\x20\x20float\x20latLength\x20=\x20term1\x20-\x20term2\x20+\x20term3\x20-\x20term4;\x0a\x0a\x20\x20\x20\x20float\x20term5\x20=\x20111412.84\x20*\x20cos(latitude);\x0a\x20\x20\x20\x20float\x20term6\x20=\x2093.5\x20*\x20cos(3.0\x20*\x20latitude);\x0a\x20\x20\x20\x20float\x20term7\x20=\x200.118\x20*\x20cos(5.0\x20*\x20latitude);\x0a\x20\x20\x20\x20float\x20longLength\x20=\x20term5\x20-\x20term6\x20+\x20term7;\x0a\x0a\x20\x20\x20\x20return\x20vec2(longLength,\x20latLength);\x0a}\x0a\x0avoid\x20updatePosition(vec3\x20lonLatLev,\x20vec3\x20speed)\x20{\x0a\x20\x20\x20\x20vec2\x20lonLatLength\x20=\x20lengthOfLonLat(lonLatLev);\x0a\x20\x20\x20\x20float\x20u\x20=\x20speed.x\x20/\x20lonLatLength.x;\x0a\x20\x20\x20\x20float\x20v\x20=\x20speed.y\x20/\x20lonLatLength.y;\x0a\x20\x20\x20\x20float\x20w\x20=\x200.0;\x0a\x20\x20\x20\x20vec3\x20windVectorInLonLatLev\x20=\x20vec3(u,\x20v,\x20w);\x0a\x0a\x20\x20\x20\x20vec3\x20nextParticle\x20=\x20lonLatLev\x20+\x20windVectorInLonLatLev;\x0a\x0a\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(nextParticle,\x200.0);\x0a}\x0a\x0avoid\x20main()\x20{\x0a\x20\x20\x20\x20//\x20texture\x20coordinate\x20must\x20be\x20normalized\x0a\x20\x20\x20\x20vec3\x20lonLatLev\x20=\x20texture2D(currentParticlesPosition,\x20v_textureCoordinates).rgb;\x0a\x20\x20\x20\x20vec3\x20speed\x20=\x20texture2D(currentParticlesSpeed,\x20v_textureCoordinates).rgb;\x0a\x0a\x20\x20\x20\x20updatePosition(lonLatLev,\x20speed);\x0a}';},function(_0x5348dc,_0x51af28){_0x5348dc['exports']='uniform\x20sampler2D\x20nextParticlesPosition;\x0auniform\x20sampler2D\x20nextParticlesSpeed;\x20//\x20(u,\x20v,\x20w,\x20normalization)\x0a\x0a//\x20range\x20(min,\x20max)\x0auniform\x20vec2\x20lonRange;\x0auniform\x20vec2\x20latRange;\x0a\x0auniform\x20float\x20randomCoefficient;\x20//\x20use\x20to\x20improve\x20the\x20pseudo-random\x20generator\x0auniform\x20float\x20dropRate;\x20//\x20drop\x20rate\x20is\x20a\x20chance\x20a\x20particle\x20will\x20restart\x20at\x20random\x20position\x20to\x20avoid\x20degeneration\x0auniform\x20float\x20dropRateBump;\x0a\x0avarying\x20vec2\x20v_textureCoordinates;\x0a\x0a//\x20pseudo-random\x20generator\x0aconst\x20vec3\x20randomConstants\x20=\x20vec3(12.9898,\x2078.233,\x204375.85453);\x0aconst\x20vec2\x20normalRange\x20=\x20vec2(0.0,\x201.0);\x0afloat\x20rand(vec2\x20seed,\x20vec2\x20range)\x20{\x0a\x20\x20\x20\x20vec2\x20randomSeed\x20=\x20randomCoefficient\x20*\x20seed;\x0a\x20\x20\x20\x20float\x20temp\x20=\x20dot(randomConstants.xy,\x20randomSeed);\x0a\x20\x20\x20\x20temp\x20=\x20fract(sin(temp)\x20*\x20(randomConstants.z\x20+\x20temp));\x0a\x20\x20\x20\x20return\x20temp\x20*\x20(range.y\x20-\x20range.x)\x20+\x20range.x;\x0a}\x0a\x0avec3\x20generateRandomParticle(vec2\x20seed,\x20float\x20lev)\x20{\x0a\x20\x20\x20\x20//\x20ensure\x20the\x20longitude\x20is\x20in\x20[0,\x20360]\x0a\x20\x20\x20\x20float\x20randomLon\x20=\x20mod(rand(seed,\x20lonRange),\x20360.0);\x0a\x20\x20\x20\x20float\x20randomLat\x20=\x20rand(-seed,\x20latRange);\x0a\x0a\x20\x20\x20\x20return\x20vec3(randomLon,\x20randomLat,\x20lev);\x0a}\x0a\x0abool\x20particleOutbound(vec3\x20particle)\x20{\x0a\x20\x20\x20\x20return\x20particle.y\x20<\x20-90.0\x20||\x20particle.y\x20>\x2090.0;\x0a}\x0a\x0avoid\x20main()\x20{\x0a\x20\x20\x20\x20vec3\x20nextParticle\x20=\x20texture2D(nextParticlesPosition,\x20v_textureCoordinates).rgb;\x0a\x20\x20\x20\x20vec4\x20nextSpeed\x20=\x20texture2D(nextParticlesSpeed,\x20v_textureCoordinates);\x0a\x20\x20\x20\x20float\x20particleDropRate\x20=\x20dropRate\x20+\x20dropRateBump\x20*\x20nextSpeed.a;\x0a\x0a\x20\x20\x20\x20vec2\x20seed1\x20=\x20nextParticle.xy\x20+\x20v_textureCoordinates;\x0a\x20\x20\x20\x20vec2\x20seed2\x20=\x20nextSpeed.xy\x20+\x20v_textureCoordinates;\x0a\x20\x20\x20\x20vec3\x20randomParticle\x20=\x20generateRandomParticle(seed1,\x20nextParticle.z);\x0a\x20\x20\x20\x20float\x20randomNumber\x20=\x20rand(seed2,\x20normalRange);\x0a\x0a\x20\x20\x20\x20if\x20(randomNumber\x20<\x20particleDropRate\x20||\x20particleOutbound(nextParticle))\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(randomParticle,\x201.0);\x20//\x201.0\x20means\x20this\x20is\x20a\x20random\x20particle\x0a\x20\x20\x20\x20}\x20else\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(nextParticle,\x200.0);\x0a\x20\x20\x20\x20}\x0a}';},function(_0x1e4b7b,_0x30233f){var _0x371ac1=a0_0x1ed6;_0x1e4b7b[_0x371ac1(0x293)]=_0x371ac1(0x297);},function(_0x3f74b5,_0x2368e3){var _0x30488e=a0_0x1ed6;function _0x3143c2(_0x553509,_0x217cad){var _0x5937f3=a0_0x1ed6;return _0x3f74b5['exports']=_0x3143c2=Object['setPrototypeOf']||function(_0x41bd96,_0x26d90a){var _0x3d8346=a0_0x1ed6;return _0x41bd96[_0x3d8346(0x220)]=_0x26d90a,_0x41bd96;},_0x3f74b5[_0x5937f3(0x293)][_0x5937f3(0x2e6)]=_0x3f74b5['exports'],_0x3f74b5[_0x5937f3(0x293)][_0x5937f3(0x2e3)]=!0x0,_0x3143c2(_0x553509,_0x217cad);}_0x3f74b5['exports']=_0x3143c2,_0x3f74b5['exports']['default']=_0x3f74b5[_0x30488e(0x293)],_0x3f74b5['exports'][_0x30488e(0x2e3)]=!0x0;},function(_0x405b61,_0x275aa6){var _0x1cee46=a0_0x1ed6;function _0x517ae8(_0x94497e){var _0x12a694=a0_0x1ed6;return _0x12a694(0x299)==typeof Symbol&&_0x12a694(0x25b)==typeof Symbol[_0x12a694(0x2c0)]?(_0x405b61[_0x12a694(0x293)]=_0x517ae8=function(_0x58f712){return typeof _0x58f712;},_0x405b61[_0x12a694(0x293)][_0x12a694(0x2e6)]=_0x405b61[_0x12a694(0x293)],_0x405b61[_0x12a694(0x293)][_0x12a694(0x2e3)]=!0x0):(_0x405b61['exports']=_0x517ae8=function(_0x1f1eaf){var _0x5d73b4=_0x12a694;return _0x1f1eaf&&'function'==typeof Symbol&&_0x1f1eaf['constructor']===Symbol&&_0x1f1eaf!==Symbol[_0x5d73b4(0x251)]?_0x5d73b4(0x25b):typeof _0x1f1eaf;},_0x405b61['exports'][_0x12a694(0x2e6)]=_0x405b61[_0x12a694(0x293)],_0x405b61[_0x12a694(0x293)][_0x12a694(0x2e3)]=!0x0),_0x517ae8(_0x94497e);}_0x405b61[_0x1cee46(0x293)]=_0x517ae8,_0x405b61[_0x1cee46(0x293)][_0x1cee46(0x2e6)]=_0x405b61[_0x1cee46(0x293)],_0x405b61[_0x1cee46(0x293)][_0x1cee46(0x2e3)]=!0x0;},function(_0xce9f4c,_0xb1d816){var _0x34fbe6=a0_0x1ed6;_0xce9f4c[_0x34fbe6(0x293)]=function(_0x1b6c86){var _0x392798=_0x34fbe6;if(void 0x0===_0x1b6c86)throw new ReferenceError(_0x392798(0x2d2));return _0x1b6c86;},_0xce9f4c[_0x34fbe6(0x293)][_0x34fbe6(0x2e6)]=_0xce9f4c[_0x34fbe6(0x293)],_0xce9f4c[_0x34fbe6(0x293)][_0x34fbe6(0x2e3)]=!0x0;},function(_0x2e212a,_0x43b801,_0x13fef2){'use strict';var _0x464308=a0_0x1ed6;_0x13fef2['r'](_0x43b801),_0x13fef2['d'](_0x43b801,_0x464308(0x1c1),function(){return _0x1186ea;}),_0x13fef2['d'](_0x43b801,_0x464308(0x2d6),function(){return _0x3d7e35;}),_0x13fef2['d'](_0x43b801,_0x464308(0x214),function(){return _0x3e44da;});var _0x3e44da={};_0x13fef2['r'](_0x3e44da),_0x13fef2['d'](_0x3e44da,_0x464308(0x1ff),function(){return _0x5a7f92;}),_0x13fef2['d'](_0x3e44da,_0x464308(0x23d),function(){return _0x5644c9;}),_0x13fef2['d'](_0x3e44da,_0x464308(0x221),function(){return _0x13e303;}),_0x13fef2['d'](_0x3e44da,_0x464308(0x200),function(){return _0x39a5fa;});var _0x4a698e=_0x13fef2(0x1),_0x247201=_0x13fef2(0x2),_0x54513f=_0x13fef2['n'](_0x247201),_0x1a1e4c=_0x13fef2(0x3),_0x1e6228=_0x13fef2['n'](_0x1a1e4c),_0x32f081=_0x13fef2(0x5),_0x2b703a=_0x13fef2['n'](_0x32f081),_0x5229dc=_0x13fef2(0x6),_0x5962bc=_0x13fef2['n'](_0x5229dc),_0x5b01b1=_0x13fef2(0x4),_0x2b680e=_0x13fef2['n'](_0x5b01b1),_0x5530a9=_0x13fef2(0x0),_0xf2b14e=function(){var _0x2c58fe=_0x464308;function _0x39132a(_0x4cbff5){var _0x514e3c=a0_0x1ed6;_0x54513f()(this,_0x39132a),this[_0x514e3c(0x252)]=_0x4cbff5[_0x514e3c(0x252)],this['geometry']=_0x4cbff5[_0x514e3c(0x263)],this['attributeLocations']=_0x4cbff5['attributeLocations'],this[_0x514e3c(0x289)]=_0x4cbff5[_0x514e3c(0x289)],this[_0x514e3c(0x1f8)]=_0x4cbff5[_0x514e3c(0x1f8)],this['vertexShaderSource']=_0x4cbff5[_0x514e3c(0x2ad)],this['fragmentShaderSource']=_0x4cbff5[_0x514e3c(0x2b7)],this[_0x514e3c(0x2f1)]=_0x4cbff5[_0x514e3c(0x2f1)],this[_0x514e3c(0x308)]=_0x4cbff5[_0x514e3c(0x308)],this[_0x514e3c(0x2ee)]=_0x4cbff5[_0x514e3c(0x2ee)],this[_0x514e3c(0x1c2)]=_0x5530a9['defaultValue'](_0x4cbff5[_0x514e3c(0x1c2)],!0x1),this[_0x514e3c(0x20c)]=_0x4cbff5[_0x514e3c(0x20c)],this[_0x514e3c(0x22a)]=!0x0,this[_0x514e3c(0x2bc)]=void 0x0,this[_0x514e3c(0x260)]=void 0x0,this['autoClear']&&(this[_0x514e3c(0x260)]=new _0x5530a9[(_0x514e3c(0x2f8))]({'color':new _0x5530a9[(_0x514e3c(0x210))](0x0,0x0,0x0,0x0),'depth':0x1,'framebuffer':this[_0x514e3c(0x308)],'pass':_0x5530a9[_0x514e3c(0x1b0)]['OPAQUE']}));}return _0x1e6228()(_0x39132a,[{'key':_0x2c58fe(0x1ac),'value':function(_0x542a1b){var _0x3e700a=_0x2c58fe;switch(this[_0x3e700a(0x252)]){case _0x3e700a(0x2f2):var _0x57418b=_0x5530a9[_0x3e700a(0x2be)]['fromGeometry']({'context':_0x542a1b,'geometry':this['geometry'],'attributeLocations':this[_0x3e700a(0x2f9)],'bufferUsage':_0x5530a9[_0x3e700a(0x21f)]['STATIC_DRAW']}),_0x2a0a65=_0x5530a9[_0x3e700a(0x294)]['fromCache']({'context':_0x542a1b,'attributeLocations':this[_0x3e700a(0x2f9)],'vertexShaderSource':this['vertexShaderSource'],'fragmentShaderSource':this['fragmentShaderSource']}),_0x439c79=_0x5530a9[_0x3e700a(0x314)][_0x3e700a(0x261)](this[_0x3e700a(0x2f1)]);return new _0x5530a9[(_0x3e700a(0x2ed))]({'owner':this,'vertexArray':_0x57418b,'primitiveType':this[_0x3e700a(0x289)],'uniformMap':this[_0x3e700a(0x1f8)],'modelMatrix':_0x5530a9[_0x3e700a(0x288)][_0x3e700a(0x1ba)],'shaderProgram':_0x2a0a65,'framebuffer':this[_0x3e700a(0x308)],'renderState':_0x439c79,'pass':_0x5530a9[_0x3e700a(0x1b0)]['OPAQUE']});case _0x3e700a(0x1c4):return new _0x5530a9[(_0x3e700a(0x24f))]({'owner':this,'fragmentShaderSource':this[_0x3e700a(0x2b7)],'uniformMap':this[_0x3e700a(0x1f8)],'outputTexture':this[_0x3e700a(0x2ee)],'persists':!0x0});}}},{'key':_0x2c58fe(0x2cb),'value':function(_0x198ce1,_0x432465){var _0x2647fe=_0x2c58fe;this['geometry']=_0x432465;var _0x29e502=_0x5530a9[_0x2647fe(0x2be)][_0x2647fe(0x301)]({'context':_0x198ce1,'geometry':this[_0x2647fe(0x263)],'attributeLocations':this[_0x2647fe(0x2f9)],'bufferUsage':_0x5530a9['BufferUsage'][_0x2647fe(0x2fa)]});this['commandToExecute'][_0x2647fe(0x29c)]=_0x29e502;}},{'key':'update','value':function(_0x42ac67){var _0x363b2d=_0x2c58fe;this[_0x363b2d(0x22a)]&&_0x42ac67[_0x363b2d(0x1ca)]==_0x5530a9[_0x363b2d(0x1fc)][_0x363b2d(0x1d4)]&&(_0x5530a9['defined'](this['commandToExecute'])||(this['commandToExecute']=this[_0x363b2d(0x1ac)](_0x42ac67[_0x363b2d(0x1da)])),_0x5530a9['defined'](this['preExecute'])&&this[_0x363b2d(0x20c)](),_0x5530a9[_0x363b2d(0x249)](this[_0x363b2d(0x260)])&&_0x42ac67[_0x363b2d(0x258)][_0x363b2d(0x2c3)](this[_0x363b2d(0x260)]),_0x42ac67[_0x363b2d(0x258)][_0x363b2d(0x2c3)](this['commandToExecute']));}},{'key':_0x2c58fe(0x286),'value':function(){return!0x1;}},{'key':_0x2c58fe(0x23e),'value':function(){var _0x426888=_0x2c58fe;return _0x5530a9['defined'](this[_0x426888(0x2bc)])&&(this['commandToExecute'][_0x426888(0x2e5)]=this[_0x426888(0x2bc)][_0x426888(0x2e5)]&&this[_0x426888(0x2bc)][_0x426888(0x2e5)][_0x426888(0x23e)]()),_0x5530a9[_0x426888(0x2b8)](this);}}]),_0x39132a;}(),_0x4df8e2={'getFullscreenQuad':function(){var _0x442fcf=_0x464308;return new _0x5530a9[(_0x442fcf(0x266))]({'attributes':new _0x5530a9['GeometryAttributes']({'position':new _0x5530a9[(_0x442fcf(0x311))]({'componentDatatype':_0x5530a9[_0x442fcf(0x298)][_0x442fcf(0x25a)],'componentsPerAttribute':0x3,'values':new Float32Array([-0x1,-0x1,0x0,0x1,-0x1,0x0,0x1,0x1,0x0,-0x1,0x1,0x0])}),'st':new _0x5530a9[(_0x442fcf(0x311))]({'componentDatatype':_0x5530a9[_0x442fcf(0x298)]['FLOAT'],'componentsPerAttribute':0x2,'values':new Float32Array([0x0,0x0,0x1,0x0,0x1,0x1,0x0,0x1])})}),'indices':new Uint32Array([0x3,0x2,0x0,0x0,0x2,0x1])});},'createTexture':function(_0x57adcb,_0x308504){var _0x5468ee=_0x464308;if(_0x5530a9['defined'](_0x308504)){var _0x589a89={};_0x589a89[_0x5468ee(0x1af)]=_0x308504,_0x57adcb['source']=_0x589a89;}return new _0x5530a9[(_0x5468ee(0x246))](_0x57adcb);},'createFramebuffer':function(_0x23f910,_0x28be5e,_0xb4be9d){var _0x445550=_0x464308;return new _0x5530a9[(_0x445550(0x29f))]({'context':_0x23f910,'colorTextures':[_0x28be5e],'depthTexture':_0xb4be9d});},'createRawRenderState':function(_0x502da1){var _0x5b9425=_0x464308,_0x47e91f={'viewport':_0x502da1['viewport'],'depthTest':_0x502da1[_0x5b9425(0x1a8)],'depthMask':_0x502da1[_0x5b9425(0x26d)],'blending':_0x502da1[_0x5b9425(0x2ba)]};return _0x5530a9[_0x5b9425(0x25e)][_0x5b9425(0x2b6)](!0x0,!0x1,_0x47e91f);},'viewRectangleToLonLatRange':function(_0x3a4c4c){var _0x21c6ec=_0x464308,_0x4c4d31,_0x4aafff,_0x33e281={},_0x14f834=_0x5530a9[_0x21c6ec(0x27b)][_0x21c6ec(0x1a2)](_0x3a4c4c[_0x21c6ec(0x2ae)],_0x5530a9['Math'][_0x21c6ec(0x1fd)]),_0xa85d72=_0x5530a9[_0x21c6ec(0x27b)][_0x21c6ec(0x1a2)](_0x3a4c4c['east'],_0x5530a9['Math']['TWO_PI']),_0x1d7a12=_0x3a4c4c[_0x21c6ec(0x1f3)];_0x1d7a12>_0x5530a9[_0x21c6ec(0x27b)][_0x21c6ec(0x207)]?(_0x4c4d31=0x0,_0x4aafff=_0x5530a9['Math'][_0x21c6ec(0x1fd)]):_0xa85d72-_0x14f834<_0x1d7a12?(_0x4c4d31=_0x14f834,_0x4aafff=_0x14f834+_0x1d7a12):(_0x4c4d31=_0x14f834,_0x4aafff=_0xa85d72),_0x33e281[_0x21c6ec(0x1b8)]={'min':_0x5530a9['Math'][_0x21c6ec(0x226)](_0x4c4d31),'max':_0x5530a9[_0x21c6ec(0x27b)]['toDegrees'](_0x4aafff)};var _0x5dbec8=_0x3a4c4c[_0x21c6ec(0x224)],_0x58ce9f=_0x3a4c4c['north'],_0x5ff503=_0x3a4c4c[_0x21c6ec(0x2ab)],_0x55bb03=_0x5ff503>_0x5530a9['Math']['PI']/0xc?_0x5ff503/0x2:0x0,_0x3aa3e7=_0x5530a9[_0x21c6ec(0x27b)][_0x21c6ec(0x2e7)](_0x5dbec8-_0x55bb03),_0x190705=_0x5530a9[_0x21c6ec(0x27b)][_0x21c6ec(0x2e7)](_0x58ce9f+_0x55bb03);return _0x3aa3e7<-_0x5530a9[_0x21c6ec(0x27b)][_0x21c6ec(0x1fe)]&&(_0x3aa3e7=-_0x5530a9[_0x21c6ec(0x27b)][_0x21c6ec(0x2a7)]),_0x190705>_0x5530a9[_0x21c6ec(0x27b)][_0x21c6ec(0x1fe)]&&(_0x190705=_0x5530a9['Math'][_0x21c6ec(0x2a7)]),_0x33e281[_0x21c6ec(0x254)]={'min':_0x5530a9[_0x21c6ec(0x27b)][_0x21c6ec(0x226)](_0x3aa3e7),'max':_0x5530a9[_0x21c6ec(0x27b)][_0x21c6ec(0x226)](_0x190705)},_0x33e281;}},_0x56669e=_0x13fef2(0x8),_0x10b038=_0x13fef2['n'](_0x56669e),_0x3638f6=_0x13fef2(0x9),_0x2c338e=_0x13fef2['n'](_0x3638f6),_0x3fb2f6=_0x13fef2(0x7),_0x3c6990=_0x13fef2['n'](_0x3fb2f6),_0x216838=_0x13fef2(0xa),_0x2a9f88=_0x13fef2['n'](_0x216838),_0x21bce9=_0x13fef2(0xb),_0x147353=_0x13fef2['n'](_0x21bce9),_0x77eb22=function(){var _0x48a7dd=_0x464308;function _0x53db77(_0x53c577,_0x235b67,_0x442f1f,_0x510662,_0x435fa3){var _0x3f9ef5=a0_0x1ed6;_0x54513f()(this,_0x53db77),this['createRenderingTextures'](_0x53c577,_0x235b67),this[_0x3f9ef5(0x27f)](_0x53c577),this[_0x3f9ef5(0x24d)](_0x53c577,_0x442f1f,_0x510662,_0x435fa3);}return _0x1e6228()(_0x53db77,[{'key':_0x48a7dd(0x1b1),'value':function(_0x36e7a0,_0xa5d6bd){var _0x404ebb=_0x48a7dd,_0x1bbac7={'context':_0x36e7a0,'width':_0x36e7a0[_0x404ebb(0x222)],'height':_0x36e7a0[_0x404ebb(0x31a)],'pixelFormat':_0x5530a9['PixelFormat'][_0x404ebb(0x23b)],'pixelDatatype':_0x5530a9[_0x404ebb(0x1c5)][_0x404ebb(0x2a9)]},_0x45ca56={'context':_0x36e7a0,'width':_0x36e7a0[_0x404ebb(0x222)],'height':_0x36e7a0[_0x404ebb(0x31a)],'pixelFormat':_0x5530a9[_0x404ebb(0x228)][_0x404ebb(0x1d0)],'pixelDatatype':_0x5530a9[_0x404ebb(0x1c5)]['UNSIGNED_INT']},_0x5e5932={'context':_0x36e7a0,'width':_0xa5d6bd[_0x404ebb(0x24c)][_0x404ebb(0x1c9)],'height':0x1,'pixelFormat':_0x5530a9[_0x404ebb(0x228)][_0x404ebb(0x1f4)],'pixelDatatype':_0x5530a9[_0x404ebb(0x1c5)][_0x404ebb(0x25a)],'sampler':new _0x5530a9[(_0x404ebb(0x204))]({'minificationFilter':_0x5530a9[_0x404ebb(0x1f7)]['LINEAR'],'magnificationFilter':_0x5530a9[_0x404ebb(0x26f)]['LINEAR']})};this[_0x404ebb(0x22b)]={'segmentsColor':_0x4df8e2[_0x404ebb(0x1a6)](_0x1bbac7),'segmentsDepth':_0x4df8e2[_0x404ebb(0x1a6)](_0x45ca56),'currentTrailsColor':_0x4df8e2[_0x404ebb(0x1a6)](_0x1bbac7),'currentTrailsDepth':_0x4df8e2[_0x404ebb(0x1a6)](_0x45ca56),'nextTrailsColor':_0x4df8e2['createTexture'](_0x1bbac7),'nextTrailsDepth':_0x4df8e2['createTexture'](_0x45ca56),'colorTable':_0x4df8e2[_0x404ebb(0x1a6)](_0x5e5932,_0xa5d6bd[_0x404ebb(0x24c)][_0x404ebb(0x2d3)])};}},{'key':_0x48a7dd(0x27f),'value':function(_0x327320){var _0x35994c=_0x48a7dd;this[_0x35994c(0x1ab)]={'segments':_0x4df8e2[_0x35994c(0x244)](_0x327320,this['textures']['segmentsColor'],this[_0x35994c(0x22b)][_0x35994c(0x2ec)]),'currentTrails':_0x4df8e2[_0x35994c(0x244)](_0x327320,this[_0x35994c(0x22b)][_0x35994c(0x267)],this[_0x35994c(0x22b)][_0x35994c(0x30f)]),'nextTrails':_0x4df8e2[_0x35994c(0x244)](_0x327320,this[_0x35994c(0x22b)][_0x35994c(0x1a3)],this[_0x35994c(0x22b)][_0x35994c(0x2ca)])};}},{'key':_0x48a7dd(0x278),'value':function(_0x2d35c7){var _0xc8d0aa=_0x48a7dd;for(var _0x599eaa=[],_0x261fca=0x0;_0x261fca<_0x2d35c7[_0xc8d0aa(0x21e)];_0x261fca++)for(var _0x1586fb=0x0;_0x1586fb<_0x2d35c7[_0xc8d0aa(0x21e)];_0x1586fb++)for(var _0x1301a4=0x0;_0x1301a4<0x4;_0x1301a4++)_0x599eaa[_0xc8d0aa(0x2c3)](_0x261fca/_0x2d35c7[_0xc8d0aa(0x21e)]),_0x599eaa['push'](_0x1586fb/_0x2d35c7[_0xc8d0aa(0x21e)]);_0x599eaa=new Float32Array(_0x599eaa);for(var _0x5610b2=[],_0x1b4415=[-0x1,0x1],_0x5e1c8a=[-0x1,0x1],_0x589483=0x0;_0x589483<_0x2d35c7[_0xc8d0aa(0x2cc)];_0x589483++)for(var _0x3550f4=0x0;_0x3550f4<0x2;_0x3550f4++)for(var _0x29e960=0x0;_0x29e960<0x2;_0x29e960++)_0x5610b2[_0xc8d0aa(0x2c3)](_0x1b4415[_0x3550f4]),_0x5610b2[_0xc8d0aa(0x2c3)](_0x5e1c8a[_0x29e960]),_0x5610b2['push'](0x0);_0x5610b2=new Float32Array(_0x5610b2);for(var _0x5768f4=0x6*_0x2d35c7[_0xc8d0aa(0x2cc)],_0x1f85c9=new Uint32Array(_0x5768f4),_0x20b05a=0x0,_0x43d301=0x0,_0x59eed5=0x0;_0x20b05a<_0x2d35c7[_0xc8d0aa(0x2cc)];_0x20b05a++)_0x1f85c9[_0x43d301++]=_0x59eed5+0x0,_0x1f85c9[_0x43d301++]=_0x59eed5+0x1,_0x1f85c9[_0x43d301++]=_0x59eed5+0x2,_0x1f85c9[_0x43d301++]=_0x59eed5+0x2,_0x1f85c9[_0x43d301++]=_0x59eed5+0x1,_0x1f85c9[_0x43d301++]=_0x59eed5+0x3,_0x59eed5+=0x4;return new _0x5530a9[(_0xc8d0aa(0x266))]({'attributes':new _0x5530a9['GeometryAttributes']({'st':new _0x5530a9['GeometryAttribute']({'componentDatatype':_0x5530a9[_0xc8d0aa(0x298)][_0xc8d0aa(0x25a)],'componentsPerAttribute':0x2,'values':_0x599eaa}),'normal':new _0x5530a9['GeometryAttribute']({'componentDatatype':_0x5530a9[_0xc8d0aa(0x298)]['FLOAT'],'componentsPerAttribute':0x3,'values':_0x5610b2})}),'indices':_0x1f85c9});}},{'key':_0x48a7dd(0x24d),'value':function(_0x1eaff9,_0x16565e,_0xabf935,_0x1925f4){var _0x2525c4=_0x48a7dd,_0x815e46=this;this[_0x2525c4(0x26a)]={'segments':new _0xf2b14e({'commandType':_0x2525c4(0x2f2),'attributeLocations':{'st':0x0,'normal':0x1},'geometry':this['createSegmentsGeometry'](_0x16565e),'primitiveType':_0x5530a9[_0x2525c4(0x1aa)][_0x2525c4(0x28b)],'uniformMap':{'currentParticlesPosition':function(){var _0x209313=_0x2525c4;return _0x1925f4[_0x209313(0x1be)][_0x209313(0x31b)];},'postProcessingPosition':function(){var _0x5928e0=_0x2525c4;return _0x1925f4['particlesTextures'][_0x5928e0(0x1e7)];},'postProcessingSpeed':function(){var _0x1a95b4=_0x2525c4;return _0x1925f4[_0x1a95b4(0x1be)][_0x1a95b4(0x23a)];},'colorTable':function(){var _0xcbe0ab=_0x2525c4;return _0x815e46['textures'][_0xcbe0ab(0x24c)];},'aspect':function(){var _0x58eeb0=_0x2525c4;return _0x1eaff9[_0x58eeb0(0x222)]/_0x1eaff9[_0x58eeb0(0x31a)];},'pixelSize':function(){return _0xabf935['pixelSize'];},'lineWidth':function(){var _0x2e9a68=_0x2525c4;return _0x16565e[_0x2e9a68(0x264)];},'particleHeight':function(){var _0x292237=_0x2525c4;return _0x16565e[_0x292237(0x1d8)];}},'vertexShaderSource':new _0x5530a9['ShaderSource']({'sources':[_0x10b038['a']]}),'fragmentShaderSource':new _0x5530a9[(_0x2525c4(0x235))]({'sources':[_0x2c338e['a']]}),'rawRenderState':_0x4df8e2[_0x2525c4(0x2a6)]({'viewport':void 0x0,'depthTest':{'enabled':!0x0},'depthMask':!0x0}),'framebuffer':this[_0x2525c4(0x1ab)]['segments'],'autoClear':!0x0}),'trails':new _0xf2b14e({'commandType':'Draw','attributeLocations':{'position':0x0,'st':0x1},'geometry':_0x4df8e2['getFullscreenQuad'](),'primitiveType':_0x5530a9[_0x2525c4(0x1aa)]['TRIANGLES'],'uniformMap':{'segmentsColorTexture':function(){return _0x815e46['textures']['segmentsColor'];},'segmentsDepthTexture':function(){return _0x815e46['textures']['segmentsDepth'];},'currentTrailsColor':function(){var _0x28cf48=_0x2525c4;return _0x815e46[_0x28cf48(0x1ab)][_0x28cf48(0x2d8)]['getColorTexture'](0x0);},'trailsDepthTexture':function(){var _0x209fa3=_0x2525c4;return _0x815e46[_0x209fa3(0x1ab)]['currentTrails'][_0x209fa3(0x202)];},'fadeOpacity':function(){var _0x4c05ee=_0x2525c4;return _0x16565e[_0x4c05ee(0x2a2)];}},'vertexShaderSource':new _0x5530a9[(_0x2525c4(0x235))]({'defines':[_0x2525c4(0x291)],'sources':[_0x3c6990['a']]}),'fragmentShaderSource':new _0x5530a9[(_0x2525c4(0x235))]({'defines':['DISABLE_LOG_DEPTH_FRAGMENT_WRITE'],'sources':[_0x2a9f88['a']]}),'rawRenderState':_0x4df8e2[_0x2525c4(0x2a6)]({'viewport':void 0x0,'depthTest':{'enabled':!0x0,'func':_0x5530a9[_0x2525c4(0x247)][_0x2525c4(0x219)]},'depthMask':!0x0}),'framebuffer':this[_0x2525c4(0x1ab)][_0x2525c4(0x25d)],'autoClear':!0x0,'preExecute':function(){var _0x4cd4a9=_0x2525c4,_0x51df94;_0x51df94=_0x815e46[_0x4cd4a9(0x1ab)][_0x4cd4a9(0x2d8)],_0x815e46['framebuffers'][_0x4cd4a9(0x2d8)]=_0x815e46[_0x4cd4a9(0x1ab)][_0x4cd4a9(0x25d)],_0x815e46[_0x4cd4a9(0x1ab)]['nextTrails']=_0x51df94,_0x815e46[_0x4cd4a9(0x26a)][_0x4cd4a9(0x2b4)][_0x4cd4a9(0x2bc)][_0x4cd4a9(0x308)]=_0x815e46[_0x4cd4a9(0x1ab)][_0x4cd4a9(0x25d)],_0x815e46[_0x4cd4a9(0x26a)]['trails'][_0x4cd4a9(0x260)][_0x4cd4a9(0x308)]=_0x815e46['framebuffers'][_0x4cd4a9(0x25d)];}}),'screen':new _0xf2b14e({'commandType':_0x2525c4(0x2f2),'attributeLocations':{'position':0x0,'st':0x1},'geometry':_0x4df8e2[_0x2525c4(0x1f0)](),'primitiveType':_0x5530a9[_0x2525c4(0x1aa)][_0x2525c4(0x28b)],'uniformMap':{'trailsColorTexture':function(){var _0x4b0841=_0x2525c4;return _0x815e46[_0x4b0841(0x1ab)][_0x4b0841(0x25d)][_0x4b0841(0x1c6)](0x0);},'trailsDepthTexture':function(){var _0x36577c=_0x2525c4;return _0x815e46['framebuffers'][_0x36577c(0x25d)][_0x36577c(0x202)];}},'vertexShaderSource':new _0x5530a9[(_0x2525c4(0x235))]({'defines':['DISABLE_GL_POSITION_LOG_DEPTH'],'sources':[_0x3c6990['a']]}),'fragmentShaderSource':new _0x5530a9[(_0x2525c4(0x235))]({'defines':[_0x2525c4(0x203)],'sources':[_0x147353['a']]}),'rawRenderState':_0x4df8e2['createRawRenderState']({'viewport':void 0x0,'depthTest':{'enabled':!0x1},'depthMask':!0x0,'blending':{'enabled':!0x0}}),'framebuffer':void 0x0})};}}]),_0x53db77;}(),_0x38c29f=_0x13fef2(0xc),_0x51404a=_0x13fef2['n'](_0x38c29f),_0x5d87af=_0x13fef2(0xd),_0x2316e5=_0x13fef2['n'](_0x5d87af),_0x1bfabb=_0x13fef2(0xe),_0x599769=_0x13fef2['n'](_0x1bfabb),_0x256927=_0x13fef2(0xf),_0x2c321f=_0x13fef2['n'](_0x256927),_0x1684ca=_0x13fef2(0x10),_0x5317ac=_0x13fef2['n'](_0x1684ca),_0x38d6df=function(){var _0x157c89=_0x464308;function _0x3c3fce(_0x4f160a,_0x50aa4e,_0x2f6c2f,_0x1485d6){var _0xf88776=a0_0x1ed6;_0x54513f()(this,_0x3c3fce),this[_0xf88776(0x1de)]=_0x50aa4e,this['createWindTextures'](_0x4f160a,_0x50aa4e),this[_0xf88776(0x1c7)](_0x4f160a,_0x2f6c2f,_0x1485d6),this[_0xf88776(0x273)](_0x50aa4e,_0x2f6c2f,_0x1485d6);}return _0x1e6228()(_0x3c3fce,[{'key':'createWindTextures','value':function(_0x3732fe,_0x313363){var _0x3a1d3e=a0_0x1ed6,_0x5d8f0a={'context':_0x3732fe,'width':_0x313363[_0x3a1d3e(0x27e)][_0x3a1d3e(0x1b8)],'height':_0x313363[_0x3a1d3e(0x27e)][_0x3a1d3e(0x254)]*_0x313363[_0x3a1d3e(0x27e)][_0x3a1d3e(0x2e1)],'pixelFormat':_0x5530a9['PixelFormat'][_0x3a1d3e(0x2f7)],'pixelDatatype':_0x5530a9[_0x3a1d3e(0x1c5)][_0x3a1d3e(0x25a)],'flipY':!0x1,'sampler':new _0x5530a9[(_0x3a1d3e(0x204))]({'minificationFilter':_0x5530a9[_0x3a1d3e(0x1f7)][_0x3a1d3e(0x2fb)],'magnificationFilter':_0x5530a9[_0x3a1d3e(0x26f)][_0x3a1d3e(0x2fb)]})};this[_0x3a1d3e(0x303)]={'U':_0x4df8e2[_0x3a1d3e(0x1a6)](_0x5d8f0a,_0x313363['U'][_0x3a1d3e(0x2d3)]),'V':_0x4df8e2[_0x3a1d3e(0x1a6)](_0x5d8f0a,_0x313363['V'][_0x3a1d3e(0x2d3)])};}},{'key':'createParticlesTextures','value':function(_0x470bcf,_0x56d94b,_0x1a80fc){var _0x1cbf1a=a0_0x1ed6,_0x615b58={'context':_0x470bcf,'width':_0x56d94b[_0x1cbf1a(0x21e)],'height':_0x56d94b[_0x1cbf1a(0x21e)],'pixelFormat':_0x5530a9[_0x1cbf1a(0x228)]['RGBA'],'pixelDatatype':_0x5530a9[_0x1cbf1a(0x1c5)]['FLOAT'],'flipY':!0x1,'sampler':new _0x5530a9['Sampler']({'minificationFilter':_0x5530a9[_0x1cbf1a(0x1f7)]['NEAREST'],'magnificationFilter':_0x5530a9[_0x1cbf1a(0x26f)]['NEAREST']})},_0x83656b=this[_0x1cbf1a(0x28f)](_0x56d94b[_0x1cbf1a(0x2cc)],_0x1a80fc),_0x2d3d87=new Float32Array(0x4*_0x56d94b[_0x1cbf1a(0x2cc)])[_0x1cbf1a(0x243)](0x0);this[_0x1cbf1a(0x1be)]={'particlesWind':_0x4df8e2['createTexture'](_0x615b58),'currentParticlesPosition':_0x4df8e2[_0x1cbf1a(0x1a6)](_0x615b58,_0x83656b),'nextParticlesPosition':_0x4df8e2['createTexture'](_0x615b58,_0x83656b),'currentParticlesSpeed':_0x4df8e2[_0x1cbf1a(0x1a6)](_0x615b58,_0x2d3d87),'nextParticlesSpeed':_0x4df8e2[_0x1cbf1a(0x1a6)](_0x615b58,_0x2d3d87),'postProcessingPosition':_0x4df8e2[_0x1cbf1a(0x1a6)](_0x615b58,_0x83656b),'postProcessingSpeed':_0x4df8e2[_0x1cbf1a(0x1a6)](_0x615b58,_0x2d3d87)};}},{'key':'randomizeParticles','value':function(_0x3f4b72,_0x3d6477){var _0x20208e=a0_0x1ed6;for(var _0x280e0b=new Float32Array(0x4*_0x3f4b72),_0x571f46=0x0;_0x571f46<_0x3f4b72;_0x571f46++)_0x280e0b[0x4*_0x571f46]=_0x5530a9[_0x20208e(0x27b)][_0x20208e(0x1df)](_0x3d6477[_0x20208e(0x248)]['x'],_0x3d6477[_0x20208e(0x248)]['y']),_0x280e0b[0x4*_0x571f46+0x1]=_0x5530a9['Math']['randomBetween'](_0x3d6477[_0x20208e(0x211)]['x'],_0x3d6477[_0x20208e(0x211)]['y']),_0x280e0b[0x4*_0x571f46+0x2]=_0x5530a9[_0x20208e(0x27b)][_0x20208e(0x1df)](this[_0x20208e(0x1de)]['lev'][_0x20208e(0x1cd)],this[_0x20208e(0x1de)]['lev'][_0x20208e(0x306)]),_0x280e0b[0x4*_0x571f46+0x3]=0x0;return _0x280e0b;}},{'key':_0x157c89(0x229),'value':function(){var _0x51ff37=_0x157c89,_0xb4d1d8=this;Object[_0x51ff37(0x2f0)](this[_0x51ff37(0x1be)])['forEach'](function(_0xd180b1){var _0x493aa0=_0x51ff37;_0xb4d1d8[_0x493aa0(0x1be)][_0xd180b1][_0x493aa0(0x23e)]();});}},{'key':_0x157c89(0x273),'value':function(_0x1f1d3a,_0x311d3c,_0x1ce2ea){var _0x4a8362=_0x157c89,_0x10d8e6=new _0x5530a9['Cartesian3'](_0x1f1d3a[_0x4a8362(0x27e)][_0x4a8362(0x1b8)],_0x1f1d3a[_0x4a8362(0x27e)][_0x4a8362(0x254)],_0x1f1d3a['dimensions'][_0x4a8362(0x2e1)]),_0x4ba276=new _0x5530a9[(_0x4a8362(0x239))](_0x1f1d3a['lon'][_0x4a8362(0x1cd)],_0x1f1d3a['lat']['min'],_0x1f1d3a[_0x4a8362(0x2e1)][_0x4a8362(0x1cd)]),_0x1a6c42=new _0x5530a9[(_0x4a8362(0x239))](_0x1f1d3a[_0x4a8362(0x1b8)][_0x4a8362(0x306)],_0x1f1d3a['lat'][_0x4a8362(0x306)],_0x1f1d3a[_0x4a8362(0x2e1)][_0x4a8362(0x306)]),_0x2ebdb6=new _0x5530a9[(_0x4a8362(0x239))]((_0x1a6c42['x']-_0x4ba276['x'])/(_0x10d8e6['x']-0x1),(_0x1a6c42['y']-_0x4ba276['y'])/(_0x10d8e6['y']-0x1),_0x10d8e6['z']>0x1?(_0x1a6c42['z']-_0x4ba276['z'])/(_0x10d8e6['z']-0x1):0x1),_0x213fe9=new _0x5530a9[(_0x4a8362(0x27c))](_0x1f1d3a['U']['min'],_0x1f1d3a['U']['max']),_0x388195=new _0x5530a9[(_0x4a8362(0x27c))](_0x1f1d3a['V'][_0x4a8362(0x1cd)],_0x1f1d3a['V']['max']),_0x22fff2=this;this[_0x4a8362(0x26a)]={'getWind':new _0xf2b14e({'commandType':_0x4a8362(0x1c4),'uniformMap':{'U':function(){var _0x356401=_0x4a8362;return _0x22fff2[_0x356401(0x303)]['U'];},'V':function(){var _0xa0c16a=_0x4a8362;return _0x22fff2[_0xa0c16a(0x303)]['V'];},'currentParticlesPosition':function(){var _0x5a624c=_0x4a8362;return _0x22fff2[_0x5a624c(0x1be)][_0x5a624c(0x31b)];},'dimension':function(){return _0x10d8e6;},'minimum':function(){return _0x4ba276;},'maximum':function(){return _0x1a6c42;},'interval':function(){return _0x2ebdb6;}},'fragmentShaderSource':new _0x5530a9[(_0x4a8362(0x235))]({'sources':[_0x51404a['a']]}),'outputTexture':this[_0x4a8362(0x1be)][_0x4a8362(0x305)],'preExecute':function(){var _0xbc0235=_0x4a8362;_0x22fff2[_0xbc0235(0x26a)][_0xbc0235(0x208)][_0xbc0235(0x2bc)][_0xbc0235(0x2ee)]=_0x22fff2[_0xbc0235(0x1be)]['particlesWind'];}}),'updateSpeed':new _0xf2b14e({'commandType':_0x4a8362(0x1c4),'uniformMap':{'currentParticlesSpeed':function(){var _0xd21934=_0x4a8362;return _0x22fff2[_0xd21934(0x1be)][_0xd21934(0x318)];},'particlesWind':function(){var _0x35127d=_0x4a8362;return _0x22fff2[_0x35127d(0x1be)][_0x35127d(0x305)];},'uSpeedRange':function(){return _0x213fe9;},'vSpeedRange':function(){return _0x388195;},'pixelSize':function(){var _0xa39af8=_0x4a8362;return _0x1ce2ea[_0xa39af8(0x21d)];},'speedFactor':function(){var _0x5c266f=_0x4a8362;return _0x311d3c[_0x5c266f(0x24a)];}},'fragmentShaderSource':new _0x5530a9[(_0x4a8362(0x235))]({'sources':[_0x2316e5['a']]}),'outputTexture':this[_0x4a8362(0x1be)]['nextParticlesSpeed'],'preExecute':function(){var _0x13ddab=_0x4a8362,_0x5f1d92;_0x5f1d92=_0x22fff2[_0x13ddab(0x1be)][_0x13ddab(0x318)],_0x22fff2[_0x13ddab(0x1be)][_0x13ddab(0x318)]=_0x22fff2[_0x13ddab(0x1be)]['postProcessingSpeed'],_0x22fff2[_0x13ddab(0x1be)]['postProcessingSpeed']=_0x5f1d92,_0x22fff2[_0x13ddab(0x26a)][_0x13ddab(0x242)]['commandToExecute'][_0x13ddab(0x2ee)]=_0x22fff2[_0x13ddab(0x1be)][_0x13ddab(0x1b5)];}}),'updatePosition':new _0xf2b14e({'commandType':_0x4a8362(0x1c4),'uniformMap':{'currentParticlesPosition':function(){var _0x472bf5=_0x4a8362;return _0x22fff2[_0x472bf5(0x1be)][_0x472bf5(0x31b)];},'currentParticlesSpeed':function(){var _0x51941e=_0x4a8362;return _0x22fff2[_0x51941e(0x1be)][_0x51941e(0x318)];}},'fragmentShaderSource':new _0x5530a9[(_0x4a8362(0x235))]({'sources':[_0x599769['a']]}),'outputTexture':this[_0x4a8362(0x1be)]['nextParticlesPosition'],'preExecute':function(){var _0x15f725=_0x4a8362,_0x1d2c3f;_0x1d2c3f=_0x22fff2[_0x15f725(0x1be)][_0x15f725(0x31b)],_0x22fff2[_0x15f725(0x1be)][_0x15f725(0x31b)]=_0x22fff2[_0x15f725(0x1be)]['postProcessingPosition'],_0x22fff2[_0x15f725(0x1be)][_0x15f725(0x1e7)]=_0x1d2c3f,_0x22fff2[_0x15f725(0x26a)][_0x15f725(0x282)][_0x15f725(0x2bc)][_0x15f725(0x2ee)]=_0x22fff2[_0x15f725(0x1be)][_0x15f725(0x2ff)];}}),'postProcessingPosition':new _0xf2b14e({'commandType':_0x4a8362(0x1c4),'uniformMap':{'nextParticlesPosition':function(){var _0x39a344=_0x4a8362;return _0x22fff2[_0x39a344(0x1be)][_0x39a344(0x2ff)];},'nextParticlesSpeed':function(){var _0xffcd4d=_0x4a8362;return _0x22fff2[_0xffcd4d(0x1be)][_0xffcd4d(0x1b5)];},'lonRange':function(){var _0x74b8cb=_0x4a8362;return _0x1ce2ea[_0x74b8cb(0x248)];},'latRange':function(){var _0x100587=_0x4a8362;return _0x1ce2ea[_0x100587(0x211)];},'randomCoefficient':function(){var _0x38d8e8=Math['random']();return _0x38d8e8;},'dropRate':function(){return _0x311d3c['dropRate'];},'dropRateBump':function(){var _0x19ff82=_0x4a8362;return _0x311d3c[_0x19ff82(0x28c)];}},'fragmentShaderSource':new _0x5530a9[(_0x4a8362(0x235))]({'sources':[_0x2c321f['a']]}),'outputTexture':this['particlesTextures'][_0x4a8362(0x1e7)],'preExecute':function(){var _0x1e9a68=_0x4a8362;_0x22fff2[_0x1e9a68(0x26a)][_0x1e9a68(0x1e7)][_0x1e9a68(0x2bc)][_0x1e9a68(0x2ee)]=_0x22fff2[_0x1e9a68(0x1be)][_0x1e9a68(0x1e7)];}}),'postProcessingSpeed':new _0xf2b14e({'commandType':_0x4a8362(0x1c4),'uniformMap':{'postProcessingPosition':function(){var _0x3e5db1=_0x4a8362;return _0x22fff2[_0x3e5db1(0x1be)]['postProcessingPosition'];},'nextParticlesSpeed':function(){var _0x42dc3b=_0x4a8362;return _0x22fff2[_0x42dc3b(0x1be)][_0x42dc3b(0x1b5)];}},'fragmentShaderSource':new _0x5530a9[(_0x4a8362(0x235))]({'sources':[_0x5317ac['a']]}),'outputTexture':this[_0x4a8362(0x1be)][_0x4a8362(0x23a)],'preExecute':function(){var _0x2e794d=_0x4a8362;_0x22fff2[_0x2e794d(0x26a)][_0x2e794d(0x23a)][_0x2e794d(0x2bc)][_0x2e794d(0x2ee)]=_0x22fff2['particlesTextures']['postProcessingSpeed'];}})};}}]),_0x3c3fce;}(),_0x181fd9=function(){var _0x1b6719=_0x464308;function _0x18f2f5(_0x114750,_0x24ddde,_0x453d22,_0x48b009){var _0x15031c=a0_0x1ed6;_0x54513f()(this,_0x18f2f5),this[_0x15031c(0x1da)]=_0x114750,this[_0x15031c(0x1de)]=_0x24ddde,this['userInput']=_0x453d22,this[_0x15031c(0x1f5)]=_0x48b009,this[_0x15031c(0x2e8)]=new _0x38d6df(this[_0x15031c(0x1da)],this[_0x15031c(0x1de)],this[_0x15031c(0x2d4)],this[_0x15031c(0x1f5)]),this[_0x15031c(0x2eb)]=new _0x77eb22(this[_0x15031c(0x1da)],this[_0x15031c(0x1de)],this['userInput'],this[_0x15031c(0x1f5)],this['particlesComputing']);}return _0x1e6228()(_0x18f2f5,[{'key':'canvasResize','value':function(_0x3191fb){var _0x13952e=a0_0x1ed6,_0x2d4a7a=this;this['particlesComputing'][_0x13952e(0x229)](),Object['keys'](this['particlesComputing']['windTextures'])[_0x13952e(0x241)](function(_0x4c00b3){var _0x40bf2b=_0x13952e;_0x2d4a7a[_0x40bf2b(0x2e8)]['windTextures'][_0x4c00b3][_0x40bf2b(0x23e)]();}),this['particlesRendering'][_0x13952e(0x22b)]['colorTable'][_0x13952e(0x23e)](),Object[_0x13952e(0x2f0)](this['particlesRendering']['framebuffers'])[_0x13952e(0x241)](function(_0xbb6425){var _0x396b92=_0x13952e;_0x2d4a7a[_0x396b92(0x2eb)][_0x396b92(0x1ab)][_0xbb6425][_0x396b92(0x23e)]();}),this[_0x13952e(0x1da)]=_0x3191fb,this[_0x13952e(0x2e8)]=new _0x38d6df(this[_0x13952e(0x1da)],this[_0x13952e(0x1de)],this[_0x13952e(0x2d4)],this[_0x13952e(0x1f5)]),this['particlesRendering']=new _0x77eb22(this[_0x13952e(0x1da)],this[_0x13952e(0x1de)],this[_0x13952e(0x2d4)],this[_0x13952e(0x1f5)],this[_0x13952e(0x2e8)]);}},{'key':_0x1b6719(0x26c),'value':function(){var _0x1d9774=_0x1b6719,_0x50f452=this,_0x3c4081=new _0x5530a9['ClearCommand']({'color':new _0x5530a9[(_0x1d9774(0x210))](0x0,0x0,0x0,0x0),'depth':0x1,'framebuffer':void 0x0,'pass':_0x5530a9[_0x1d9774(0x1b0)]['OPAQUE']});Object[_0x1d9774(0x2f0)](this[_0x1d9774(0x2eb)][_0x1d9774(0x1ab)])['forEach'](function(_0x4dbac7){var _0x4ce1c2=_0x1d9774;_0x3c4081['framebuffer']=_0x50f452[_0x4ce1c2(0x2eb)][_0x4ce1c2(0x1ab)][_0x4dbac7],_0x3c4081[_0x4ce1c2(0x284)](_0x50f452['context']);});}},{'key':_0x1b6719(0x2ef),'value':function(_0x27abb3){var _0x3c70ee=_0x1b6719;if(this[_0x3c70ee(0x26c)](),this[_0x3c70ee(0x2e8)]['destroyParticlesTextures'](),this[_0x3c70ee(0x2e8)]['createParticlesTextures'](this[_0x3c70ee(0x1da)],this['userInput'],this[_0x3c70ee(0x1f5)]),_0x27abb3){var _0x363ea5=this[_0x3c70ee(0x2eb)][_0x3c70ee(0x278)](this[_0x3c70ee(0x2d4)]);this[_0x3c70ee(0x2eb)][_0x3c70ee(0x26a)][_0x3c70ee(0x2f5)][_0x3c70ee(0x263)]=_0x363ea5;var _0x5da014=_0x5530a9[_0x3c70ee(0x2be)][_0x3c70ee(0x301)]({'context':this[_0x3c70ee(0x1da)],'geometry':_0x363ea5,'attributeLocations':this[_0x3c70ee(0x2eb)][_0x3c70ee(0x26a)][_0x3c70ee(0x2f5)][_0x3c70ee(0x2f9)],'bufferUsage':_0x5530a9[_0x3c70ee(0x21f)][_0x3c70ee(0x2fa)]});this[_0x3c70ee(0x2eb)][_0x3c70ee(0x26a)][_0x3c70ee(0x2f5)]['commandToExecute'][_0x3c70ee(0x29c)]=_0x5da014;}}},{'key':_0x1b6719(0x29b),'value':function(_0x7cf3bc){var _0x28c0bf=_0x1b6719,_0x3f0670=this,_0x2fa77a=!0x1;this['userInput'][_0x28c0bf(0x2cc)]!=_0x7cf3bc[_0x28c0bf(0x2cc)]&&(_0x2fa77a=!0x0),Object[_0x28c0bf(0x2f0)](_0x7cf3bc)[_0x28c0bf(0x241)](function(_0x3df3d7){_0x3f0670['userInput'][_0x3df3d7]=_0x7cf3bc[_0x3df3d7];}),this['refreshParticles'](_0x2fa77a);}},{'key':_0x1b6719(0x1d6),'value':function(_0x5415b7){var _0x4635e7=_0x1b6719,_0x535a84=this;Object[_0x4635e7(0x2f0)](_0x5415b7)[_0x4635e7(0x241)](function(_0x24cceb){var _0x1b1857=_0x4635e7;_0x535a84[_0x1b1857(0x1f5)][_0x24cceb]=_0x5415b7[_0x24cceb];}),this[_0x4635e7(0x2ef)](!0x1);}}]),_0x18f2f5;}();function _0x1b6d54(_0x4b2cc9){var _0x92af28=function(){var _0x5b4f18=a0_0x1ed6;if('undefined'==typeof Reflect||!Reflect[_0x5b4f18(0x1a9)])return!0x1;if(Reflect['construct']['sham'])return!0x1;if(_0x5b4f18(0x299)==typeof Proxy)return!0x0;try{return Boolean[_0x5b4f18(0x251)]['valueOf'][_0x5b4f18(0x2aa)](Reflect['construct'](Boolean,[],function(){})),!0x0;}catch(_0x54acab){return!0x1;}}();return function(){var _0x4a06b8=a0_0x1ed6,_0x5e2cbc,_0x5a2fbd=_0x2b680e()(_0x4b2cc9);if(_0x92af28){var _0x18d4a2=_0x2b680e()(this)[_0x4a06b8(0x255)];_0x5e2cbc=Reflect['construct'](_0x5a2fbd,arguments,_0x18d4a2);}else _0x5e2cbc=_0x5a2fbd[_0x4a06b8(0x23c)](this,arguments);return _0x5962bc()(this,_0x5e2cbc);};}var _0x5034d1=_0x4a698e['layer'][_0x464308(0x2f6)],_0xd92d14=0x1000,_0xe3d8d0=0x64,_0x25348d=0.996,_0x5a449d=0.003,_0x3c676c=0.01,_0x4a009f=0.5,_0x32094b=0x2,_0x1186ea=function(_0x2ff329){var _0x174d79=_0x464308;_0x2b703a()(_0x1d0d19,_0x2ff329);var _0x45c593=_0x1b6d54(_0x1d0d19);function _0x1d0d19(){var _0x173e73=a0_0x1ed6,_0x364431,_0x3765f9=arguments['length']>0x0&&void 0x0!==arguments[0x0]?arguments[0x0]:{};if(_0x54513f()(this,_0x1d0d19),(_0x364431=_0x45c593[_0x173e73(0x2aa)](this,_0x3765f9))[_0x173e73(0x2cc)]=_0xd92d14,_0x364431[_0x173e73(0x1d8)]=_0xe3d8d0,_0x364431['fadeOpacity']=_0x25348d,_0x364431[_0x173e73(0x1bf)]=_0x5a449d,_0x364431[_0x173e73(0x28c)]=_0x3c676c,_0x364431[_0x173e73(0x24a)]=_0x4a009f,_0x364431[_0x173e73(0x264)]=_0x32094b,_0x3765f9){for(var _0x803d9e in _0x3765f9)_0x364431[_0x803d9e]=_0x3765f9[_0x803d9e];}return _0x364431;}return _0x1e6228()(_0x1d0d19,[{'key':_0x174d79(0x2df),'get':function(){var _0x355558=_0x174d79;return this[_0x355558(0x26a)];}},{'key':_0x174d79(0x2da),'value':function(){}},{'key':_0x174d79(0x274),'value':function(){var _0x210437=_0x174d79;this[_0x210437(0x1ec)]=this[_0x210437(0x280)][_0x210437(0x1ec)],this['camera']=this['_map'][_0x210437(0x245)],this['primitives']=new _0x5530a9[(_0x210437(0x2af))](),this['_map'][_0x210437(0x1ec)][_0x210437(0x26a)][_0x210437(0x2ac)](this[_0x210437(0x26a)]),this[_0x210437(0x1f5)]={'lonRange':new _0x5530a9[(_0x210437(0x27c))](),'latRange':new _0x5530a9[(_0x210437(0x27c))](),'pixelSize':0x0},this['globeBoundingSphere']=new _0x5530a9[(_0x210437(0x2cf))](_0x5530a9[_0x210437(0x239)][_0x210437(0x2c7)],6314355.63),this[_0x210437(0x312)](),window[_0x210437(0x253)](_0x210437(0x2db),this[_0x210437(0x2db)][_0x210437(0x1d7)](this),!0x1),this['mouse_down']=!0x1,this[_0x210437(0x27a)]=!0x1,this[_0x210437(0x280)]['on'](_0x4a698e[_0x210437(0x250)][_0x210437(0x29e)],this[_0x210437(0x26e)],this),this[_0x210437(0x280)]['on'](_0x4a698e[_0x210437(0x250)][_0x210437(0x212)],this[_0x210437(0x2fd)],this),this[_0x210437(0x280)]['on'](_0x4a698e[_0x210437(0x250)][_0x210437(0x225)],this[_0x210437(0x1dc)],this),this[_0x210437(0x280)]['on'](_0x4a698e[_0x210437(0x250)][_0x210437(0x2d7)],this[_0x210437(0x236)],this);}},{'key':_0x174d79(0x209),'value':function(){var _0x23b4be=_0x174d79;window[_0x23b4be(0x2e4)](_0x23b4be(0x2db),this['resize']),this[_0x23b4be(0x280)][_0x23b4be(0x304)](_0x4a698e[_0x23b4be(0x250)][_0x23b4be(0x27d)],this[_0x23b4be(0x2a8)],this),this[_0x23b4be(0x280)][_0x23b4be(0x304)](_0x4a698e[_0x23b4be(0x250)][_0x23b4be(0x29e)],this[_0x23b4be(0x26e)],this),this['_map'][_0x23b4be(0x304)](_0x4a698e[_0x23b4be(0x250)][_0x23b4be(0x212)],this[_0x23b4be(0x2fd)],this),this[_0x23b4be(0x280)]['off'](_0x4a698e[_0x23b4be(0x250)][_0x23b4be(0x225)],this['_onMouseUpEvent'],this),this[_0x23b4be(0x280)][_0x23b4be(0x304)](_0x4a698e[_0x23b4be(0x250)]['mouseMove'],this['_onMouseMoveEvent'],this),this[_0x23b4be(0x26a)][_0x23b4be(0x2d0)](),this[_0x23b4be(0x280)]['scene'][_0x23b4be(0x26a)]['remove'](this[_0x23b4be(0x26a)]);}},{'key':'resize','value':function(){var _0x48e232=_0x174d79;this['show']&&this[_0x48e232(0x29a)]&&(this[_0x48e232(0x26a)][_0x48e232(0x22a)]=!0x1,this[_0x48e232(0x26a)][_0x48e232(0x2d0)](),this['_map'][_0x48e232(0x2c4)](_0x4a698e[_0x48e232(0x250)][_0x48e232(0x27d)],this[_0x48e232(0x2a8)],this));}},{'key':_0x174d79(0x2a8),'value':function(_0x11ab88){var _0x497713=_0x174d79;this['particleSystem']['canvasResize'](this[_0x497713(0x1ec)][_0x497713(0x1da)]),this[_0x497713(0x20f)](),this[_0x497713(0x26a)][_0x497713(0x22a)]=!0x0;}},{'key':_0x174d79(0x26e),'value':function(_0x3626ff){var _0x14f8ee=_0x174d79,_0x4edc17=this;clearTimeout(this[_0x14f8ee(0x1fb)]),this[_0x14f8ee(0x22a)]&&this['particleSystem']&&(this[_0x14f8ee(0x26a)][_0x14f8ee(0x22a)]=!0x1,this['refreshTimer']=setTimeout(function(){var _0x1672d7=_0x14f8ee;_0x4edc17[_0x1672d7(0x22a)]&&_0x4edc17[_0x1672d7(0x22f)]();},0xc8));}},{'key':_0x174d79(0x2fd),'value':function(_0x3f255f){var _0x2c6426=_0x174d79;this[_0x2c6426(0x2bf)]=!0x0;}},{'key':'_onMouseMoveEvent','value':function(_0x49d671){var _0x2a4705=_0x174d79;this[_0x2a4705(0x22a)]&&this[_0x2a4705(0x29a)]&&this['mouse_down']&&(this[_0x2a4705(0x26a)][_0x2a4705(0x22a)]=!0x1,this[_0x2a4705(0x27a)]=!0x0);}},{'key':_0x174d79(0x1dc),'value':function(_0x1467f2){var _0x873555=_0x174d79;this[_0x873555(0x22a)]&&this['particleSystem']&&(this['mouse_down']&&this[_0x873555(0x27a)]&&this['redraw'](),this[_0x873555(0x26a)][_0x873555(0x22a)]=!0x0,this[_0x873555(0x2bf)]=!0x1,this['mouse_move']=!0x1);}},{'key':'redraw','value':function(){var _0x262a59=_0x174d79;this[_0x262a59(0x280)]&&this[_0x262a59(0x22a)]&&(this[_0x262a59(0x312)](),this[_0x262a59(0x29a)][_0x262a59(0x1d6)](this['viewerParameters']),this['primitives'][_0x262a59(0x22a)]=!0x0);}},{'key':_0x174d79(0x2b2),'value':function(_0x4e3a1e){var _0x4af538=_0x174d79;this[_0x4af538(0x29a)]=new _0x181fd9(this['scene'][_0x4af538(0x1da)],_0x4e3a1e,this[_0x4af538(0x2f3)](),this[_0x4af538(0x1f5)]),this[_0x4af538(0x20f)]();}},{'key':_0x174d79(0x2fc),'value':function(_0x59420b){var _0x52cc36=_0x174d79;if(_0x59420b){for(var _0x42f61d in _0x59420b)this[_0x42f61d]=_0x59420b[_0x42f61d];}return this[_0x52cc36(0x29a)]&&this[_0x52cc36(0x29a)][_0x52cc36(0x29b)](this[_0x52cc36(0x2f3)]()),this;}},{'key':_0x174d79(0x2f3),'value':function(){var _0x2acb4c=_0x174d79,_0x4cbc1a=Math[_0x2acb4c(0x309)](Math[_0x2acb4c(0x30c)](this['maxParticles']));return this['maxParticles']=_0x4cbc1a*_0x4cbc1a,{'particlesTextureSize':_0x4cbc1a,'maxParticles':this[_0x2acb4c(0x2cc)],'particleHeight':this[_0x2acb4c(0x1d8)],'fadeOpacity':this[_0x2acb4c(0x2a2)],'dropRate':this[_0x2acb4c(0x1bf)],'dropRateBump':this[_0x2acb4c(0x28c)],'speedFactor':this[_0x2acb4c(0x24a)],'lineWidth':this['lineWidth'],'globeLayer':this[_0x2acb4c(0x271)],'WMS_URL':this[_0x2acb4c(0x1a4)]};}},{'key':_0x174d79(0x20f),'value':function(){var _0x2e4c01=_0x174d79;this[_0x2e4c01(0x26a)][_0x2e4c01(0x2ac)](this[_0x2e4c01(0x29a)][_0x2e4c01(0x2e8)][_0x2e4c01(0x26a)]['getWind']),this[_0x2e4c01(0x26a)][_0x2e4c01(0x2ac)](this[_0x2e4c01(0x29a)][_0x2e4c01(0x2e8)][_0x2e4c01(0x26a)][_0x2e4c01(0x242)]),this[_0x2e4c01(0x26a)]['add'](this['particleSystem']['particlesComputing'][_0x2e4c01(0x26a)][_0x2e4c01(0x282)]),this[_0x2e4c01(0x26a)][_0x2e4c01(0x2ac)](this[_0x2e4c01(0x29a)][_0x2e4c01(0x2e8)][_0x2e4c01(0x26a)][_0x2e4c01(0x1e7)]),this['primitives'][_0x2e4c01(0x2ac)](this[_0x2e4c01(0x29a)][_0x2e4c01(0x2e8)][_0x2e4c01(0x26a)]['postProcessingSpeed']),this[_0x2e4c01(0x26a)]['add'](this[_0x2e4c01(0x29a)]['particlesRendering'][_0x2e4c01(0x26a)]['segments']),this['primitives']['add'](this[_0x2e4c01(0x29a)][_0x2e4c01(0x2eb)][_0x2e4c01(0x26a)][_0x2e4c01(0x2b4)]),this[_0x2e4c01(0x26a)][_0x2e4c01(0x2ac)](this[_0x2e4c01(0x29a)][_0x2e4c01(0x2eb)]['primitives'][_0x2e4c01(0x2dc)]);}},{'key':_0x174d79(0x312),'value':function(){var _0xd22204=_0x174d79,_0xdb1c34=this[_0xd22204(0x245)][_0xd22204(0x287)](this[_0xd22204(0x1ec)][_0xd22204(0x2b0)][_0xd22204(0x1ed)]);if(!_0xdb1c34){var _0x583026=this[_0xd22204(0x280)][_0xd22204(0x1c0)]();_0xdb1c34=_0x5530a9[_0xd22204(0x279)][_0xd22204(0x1cf)](_0x583026[_0xd22204(0x1d3)],_0x583026[_0xd22204(0x1e4)],_0x583026[_0xd22204(0x296)],_0x583026['ymax']);}var _0x550caf=_0x4df8e2[_0xd22204(0x22c)](_0xdb1c34);this[_0xd22204(0x1f5)][_0xd22204(0x248)]['x']=_0x550caf['lon'][_0xd22204(0x1cd)],this[_0xd22204(0x1f5)][_0xd22204(0x248)]['y']=_0x550caf[_0xd22204(0x1b8)][_0xd22204(0x306)],this[_0xd22204(0x1f5)][_0xd22204(0x211)]['x']=_0x550caf[_0xd22204(0x254)][_0xd22204(0x1cd)],this[_0xd22204(0x1f5)][_0xd22204(0x211)]['y']=_0x550caf[_0xd22204(0x254)]['max'];var _0x2df909=this['camera'][_0xd22204(0x206)](this['globeBoundingSphere'],this['scene'][_0xd22204(0x222)],this['scene'][_0xd22204(0x31a)]);_0x2df909>0x0&&(this[_0xd22204(0x1f5)][_0xd22204(0x21d)]=_0x2df909);}}]),_0x1d0d19;}(_0x5034d1);_0x4a698e[_0x464308(0x2e2)][_0x464308(0x237)]('wind',_0x1186ea),_0x4a698e[_0x464308(0x2df)][_0x464308(0x1c1)]=_0x1186ea;var _0x47e360=function _0x452ca5(){var _0x126e05=_0x464308;_0x54513f()(this,_0x452ca5),this[_0x126e05(0x1d9)]=null,this['lat']=null,this['tlng']=null,this[_0x126e05(0x29d)]=null,this[_0x126e05(0x2a3)]=null;},_0x25a131=function(){var _0x143317=_0x464308;function _0x5cd426(_0x126302,_0x4d4722){var _0xa3ff05=a0_0x1ed6;_0x54513f()(this,_0x5cd426),this[_0xa3ff05(0x2c5)]=_0x126302[_0xa3ff05(0x2c5)],this[_0xa3ff05(0x1f1)]=_0x126302[_0xa3ff05(0x1f1)],this[_0xa3ff05(0x1d3)]=_0x126302[_0xa3ff05(0x1d3)],this['xmax']=_0x126302[_0xa3ff05(0x296)],this[_0xa3ff05(0x1e4)]=_0x126302[_0xa3ff05(0x1e4)],this['ymax']=_0x126302['ymax'],this[_0xa3ff05(0x22e)]=[];var _0xf22b56=_0x126302[_0xa3ff05(0x269)],_0x363271=_0x126302[_0xa3ff05(0x1a5)],_0x2ac111=!0x1;_0xf22b56[_0xa3ff05(0x217)]===this[_0xa3ff05(0x2c5)]&&_0xf22b56[0x0][_0xa3ff05(0x217)]===this['cols']&&(_0x2ac111=!0x0);for(var _0xe2275f=0x0,_0xb3b64d=null,_0x5a86c8=null,_0x53bca0=0x0;_0x53bca0<this[_0xa3ff05(0x2c5)];_0x53bca0++){_0xb3b64d=[];for(var _0x13acb2=0x0;_0x13acb2<this[_0xa3ff05(0x1f1)];_0x13acb2++,_0xe2275f++)_0x5a86c8=_0x2ac111?this[_0xa3ff05(0x1b6)](_0xf22b56[_0x53bca0][_0x13acb2],_0x363271[_0x53bca0][_0x13acb2]):this[_0xa3ff05(0x1b6)](_0xf22b56[_0xe2275f],_0x363271[_0xe2275f]),_0xb3b64d[_0xa3ff05(0x2c3)](_0x5a86c8);this[_0xa3ff05(0x22e)][_0xa3ff05(0x2c3)](_0xb3b64d);}_0x4d4722&&this[_0xa3ff05(0x22e)]['reverse']();}return _0x1e6228()(_0x5cd426,[{'key':_0x143317(0x25c),'value':function(_0x4cf868,_0x3fda8a){var _0x4fc206=_0x143317;return{'x':(_0x4cf868-this[_0x4fc206(0x1d3)])/(this[_0x4fc206(0x296)]-this['xmin'])*(this['cols']-0x1),'y':(this[_0x4fc206(0x2bb)]-_0x3fda8a)/(this[_0x4fc206(0x2bb)]-this[_0x4fc206(0x1e4)])*(this[_0x4fc206(0x2c5)]-0x1)};}},{'key':_0x143317(0x1e5),'value':function(_0x2fb79a,_0x3847e7){var _0x3b0da7=_0x143317;if(_0x2fb79a<0x0||_0x2fb79a>=this[_0x3b0da7(0x1f1)]||_0x3847e7>=this[_0x3b0da7(0x2c5)])return[0x0,0x0,0x0];var _0x11bbe6,_0x421cec,_0xc9acea=Math[_0x3b0da7(0x1f9)](_0x2fb79a),_0x37614f=Math[_0x3b0da7(0x1f9)](_0x3847e7);if(_0xc9acea===_0x2fb79a&&_0x37614f===_0x3847e7)return this[_0x3b0da7(0x22e)][_0x3847e7][_0x2fb79a];_0x11bbe6=_0xc9acea+0x1,_0x421cec=_0x37614f+0x1;var _0xdb7c5d=this[_0x3b0da7(0x1e5)](_0xc9acea,_0x37614f),_0x4b8930=this[_0x3b0da7(0x1e5)](_0x11bbe6,_0x37614f),_0x25ca89=this[_0x3b0da7(0x1e5)](_0xc9acea,_0x421cec),_0x1cfa69=this[_0x3b0da7(0x1e5)](_0x11bbe6,_0x421cec),_0x44dd80=null;try{_0x44dd80=this[_0x3b0da7(0x259)](_0x2fb79a-_0xc9acea,_0x3847e7-_0x37614f,_0xdb7c5d,_0x4b8930,_0x25ca89,_0x1cfa69);}catch(_0x2ce4b9){console[_0x3b0da7(0x2de)](_0x2fb79a,_0x3847e7);}return _0x44dd80;}},{'key':_0x143317(0x259),'value':function(_0x57de23,_0x1a0253,_0x37b27b,_0x296e14,_0x5fe435,_0x576935){var _0x564bb9=_0x143317,_0x2be194=0x1-_0x57de23,_0x59bebc=0x1-_0x1a0253,_0x275606=_0x2be194*_0x59bebc,_0x4a1eca=_0x57de23*_0x59bebc,_0x17e1e3=_0x2be194*_0x1a0253,_0x42dabe=_0x57de23*_0x1a0253,_0x1af950=_0x37b27b[0x0]*_0x275606+_0x296e14[0x0]*_0x4a1eca+_0x5fe435[0x0]*_0x17e1e3+_0x576935[0x0]*_0x42dabe,_0x513eca=_0x37b27b[0x1]*_0x275606+_0x296e14[0x1]*_0x4a1eca+_0x5fe435[0x1]*_0x17e1e3+_0x576935[0x1]*_0x42dabe;return this[_0x564bb9(0x1b6)](_0x1af950,_0x513eca);}},{'key':_0x143317(0x1b6),'value':function(_0x1fe152,_0x4a4dcd){var _0x15aaa0=_0x143317;return[+_0x1fe152,+_0x4a4dcd,Math[_0x15aaa0(0x30c)](_0x1fe152*_0x1fe152+_0x4a4dcd*_0x4a4dcd)];}},{'key':_0x143317(0x20b),'value':function(_0x3a3fa0,_0x5d7568){var _0x2f4488=_0x143317;if(!this[_0x2f4488(0x2f4)](_0x3a3fa0,_0x5d7568))return null;var _0x3ecb38=this[_0x2f4488(0x25c)](_0x3a3fa0,_0x5d7568);return this['getUVByXY'](_0x3ecb38['x'],_0x3ecb38['y']);}},{'key':'isInExtent','value':function(_0x37ea00,_0x4e1063){var _0x2c74bb=_0x143317;return _0x37ea00>=this[_0x2c74bb(0x1d3)]&&_0x37ea00<=this[_0x2c74bb(0x296)]&&_0x4e1063>=this[_0x2c74bb(0x1e4)]&&_0x4e1063<=this[_0x2c74bb(0x2bb)];}},{'key':_0x143317(0x1a7),'value':function(){var _0x5209f0=_0x143317,_0x11a445=_0x4b3303(this[_0x5209f0(0x1d3)],this[_0x5209f0(0x296)]);return{'lat':_0x4b3303(this[_0x5209f0(0x1e4)],this[_0x5209f0(0x2bb)]),'lng':_0x11a445};}}]),_0x5cd426;}();function _0x4b3303(_0x5abd14,_0x56f7cd){return _0x5abd14+Math['random']()*(_0x56f7cd-_0x5abd14);}function _0x3222cc(_0x415af1){var _0x3ea84c=function(){var _0x290c67=a0_0x1ed6;if(_0x290c67(0x277)==typeof Reflect||!Reflect[_0x290c67(0x1a9)])return!0x1;if(Reflect[_0x290c67(0x1a9)][_0x290c67(0x1cc)])return!0x1;if(_0x290c67(0x299)==typeof Proxy)return!0x0;try{return Boolean[_0x290c67(0x251)]['valueOf']['call'](Reflect[_0x290c67(0x1a9)](Boolean,[],function(){})),!0x0;}catch(_0x3462fd){return!0x1;}}();return function(){var _0x2cddbc=a0_0x1ed6,_0x5c5475,_0x48c8c4=_0x2b680e()(_0x415af1);if(_0x3ea84c){var _0x34eb2c=_0x2b680e()(this)[_0x2cddbc(0x255)];_0x5c5475=Reflect[_0x2cddbc(0x1a9)](_0x48c8c4,arguments,_0x34eb2c);}else _0x5c5475=_0x48c8c4[_0x2cddbc(0x23c)](this,arguments);return _0x5962bc()(this,_0x5c5475);};}var _0x3d7e35=function(_0x13eb6c){var _0x2f21e3=_0x464308;_0x2b703a()(_0x375065,_0x13eb6c);var _0x25458b=_0x3222cc(_0x375065);function _0x375065(){var _0x5d7a3f=a0_0x1ed6,_0x51e8d7,_0x14b1c5=arguments[_0x5d7a3f(0x217)]>0x0&&void 0x0!==arguments[0x0]?arguments[0x0]:{};return _0x54513f()(this,_0x375065),(_0x51e8d7=_0x25458b[_0x5d7a3f(0x2aa)](this,_0x14b1c5))['calc_speedRate']=[0x0,0x0],_0x51e8d7['particles']=[],_0x51e8d7[_0x5d7a3f(0x283)]=_0x14b1c5[_0x5d7a3f(0x283)]||0x32,_0x51e8d7['_particlesNumber']=_0x14b1c5[_0x5d7a3f(0x21c)]||0x4e20,_0x51e8d7[_0x5d7a3f(0x1f6)]=_0x14b1c5[_0x5d7a3f(0x1bd)]||0x78,_0x51e8d7['frameTime']=0x3e8/(_0x14b1c5['frameRate']||0xa),_0x51e8d7[_0x5d7a3f(0x20a)]=_0x5530a9[_0x5d7a3f(0x1e9)](_0x51e8d7[_0x5d7a3f(0x1dd)][_0x5d7a3f(0x30a)],!0x1),_0x51e8d7['color']=_0x14b1c5[_0x5d7a3f(0x1e6)]||_0x5d7a3f(0x201),_0x51e8d7[_0x5d7a3f(0x264)]=_0x14b1c5[_0x5d7a3f(0x264)]||0x1,_0x51e8d7[_0x5d7a3f(0x230)]=_0x5530a9['defaultValue'](_0x14b1c5[_0x5d7a3f(0x230)],0x0),_0x51e8d7[_0x5d7a3f(0x238)]=_0x5530a9[_0x5d7a3f(0x1e9)](_0x14b1c5[_0x5d7a3f(0x238)],!0x1),_0x51e8d7[_0x5d7a3f(0x1f2)]=null,_0x51e8d7;}return _0x1e6228()(_0x375065,[{'key':_0x2f21e3(0x2df),'get':function(){var _0x104622=_0x2f21e3;return this[_0x104622(0x1f2)];}},{'key':_0x2f21e3(0x30d),'get':function(){var _0x5d9c7d=_0x2f21e3;return this['_map']['scene'][_0x5d9c7d(0x1f2)][_0x5d9c7d(0x256)];}},{'key':_0x2f21e3(0x2a1),'get':function(){var _0x3db578=_0x2f21e3;return this[_0x3db578(0x280)]['scene']['canvas'][_0x3db578(0x1e3)];}},{'key':_0x2f21e3(0x30a),'get':function(){var _0x28397c=_0x2f21e3;return this[_0x28397c(0x20a)];},'set':function(_0x194bff){var _0x6fea87=_0x2f21e3;this['_pointerEvents']=_0x194bff,this[_0x6fea87(0x1f2)]&&(this[_0x6fea87(0x1f2)][_0x6fea87(0x1b7)][_0x6fea87(0x2b9)]=_0x194bff?_0x6fea87(0x205):_0x6fea87(0x276));}},{'key':_0x2f21e3(0x283),'get':function(){var _0x34204d=_0x2f21e3;return this[_0x34204d(0x313)];},'set':function(_0x2fa116){var _0x110ae6=_0x2f21e3;this[_0x110ae6(0x313)]=0x64*(0x64-(_0x2fa116>0x63?0x63:_0x2fa116)),this['_calcStep']();}},{'key':_0x2f21e3(0x21c),'get':function(){var _0x44f1ab=_0x2f21e3;return this[_0x44f1ab(0x28a)];},'set':function(_0x166b56){var _0x3dfa3f=_0x2f21e3,_0x487695=this;this[_0x3dfa3f(0x28a)]=_0x166b56,clearTimeout(this['canrefresh']),this['canrefresh']=setTimeout(function(){var _0x9564=_0x3dfa3f;_0x487695[_0x9564(0x22f)]();},0x1f4);}},{'key':_0x2f21e3(0x1bd),'get':function(){var _0x3cd849=_0x2f21e3;return this[_0x3cd849(0x1f6)];},'set':function(_0x91af2d){var _0x341807=_0x2f21e3,_0x36d1d9=this;this['_maxAge']=_0x91af2d,clearTimeout(this[_0x341807(0x215)]),this[_0x341807(0x215)]=setTimeout(function(){var _0x1c8727=_0x341807;_0x36d1d9[_0x1c8727(0x22f)]();},0x1f4);}},{'key':_0x2f21e3(0x1de),'get':function(){var _0x2d4e16=_0x2f21e3;return this[_0x2d4e16(0x1ef)];},'set':function(_0x363427){var _0x1326ea=_0x2f21e3;this[_0x1326ea(0x1ae)](_0x363427);}},{'key':'_showHook','value':function(_0x179885){var _0x1887a4=_0x2f21e3;_0x179885?this[_0x1887a4(0x274)]():(this[_0x1887a4(0x1ef)]&&(this[_0x1887a4(0x1dd)][_0x1887a4(0x1de)]=this[_0x1887a4(0x1ef)]),this[_0x1887a4(0x209)]());}},{'key':_0x2f21e3(0x2da),'value':function(){}},{'key':'_addedHook','value':function(){var _0xb89e8e=_0x2f21e3;this[_0xb89e8e(0x1f2)]=this[_0xb89e8e(0x2d9)](),this['canvasContext']=this[_0xb89e8e(0x1f2)][_0xb89e8e(0x2a4)]('2d'),this[_0xb89e8e(0x216)](),this[_0xb89e8e(0x1dd)]['data']&&this[_0xb89e8e(0x1ae)](this[_0xb89e8e(0x1dd)]['data']);}},{'key':_0x2f21e3(0x209),'value':function(){var _0x11b435=_0x2f21e3;this[_0x11b435(0x2fe)](),this['unbindEvent'](),this['canvas']&&(this['_map']['container']['removeChild'](this['canvas']),delete this[_0x11b435(0x1f2)]);}},{'key':_0x2f21e3(0x2d9),'value':function(){var _0x3a35ea=_0x2f21e3,_0x35643b=document[_0x3a35ea(0x1b2)](_0x3a35ea(0x1f2));_0x35643b[_0x3a35ea(0x1b7)][_0x3a35ea(0x272)]='absolute',_0x35643b['style']['top']=_0x3a35ea(0x2c6),_0x35643b[_0x3a35ea(0x1b7)][_0x3a35ea(0x1ad)]=_0x3a35ea(0x2c6),_0x35643b[_0x3a35ea(0x1b7)][_0x3a35ea(0x1f3)]=_0x3a35ea(0x281),_0x35643b[_0x3a35ea(0x1b7)]['height']=_0x3a35ea(0x281),_0x35643b['style'][_0x3a35ea(0x30a)]=this[_0x3a35ea(0x20a)]?'auto':_0x3a35ea(0x276),_0x35643b[_0x3a35ea(0x1b7)]['zIndex']=0xa,_0x35643b['setAttribute']('id',_0x3a35ea(0x2c1)),_0x35643b['setAttribute'](_0x3a35ea(0x1b4),_0x3a35ea(0x2c1)),this[_0x3a35ea(0x280)][_0x3a35ea(0x270)][_0x3a35ea(0x2d1)](_0x35643b);var _0x4bb3d7=this[_0x3a35ea(0x280)][_0x3a35ea(0x1ec)];return _0x35643b['width']=_0x4bb3d7['canvas'][_0x3a35ea(0x256)],_0x35643b[_0x3a35ea(0x2ab)]=_0x4bb3d7[_0x3a35ea(0x1f2)][_0x3a35ea(0x1e3)],_0x35643b;}},{'key':_0x2f21e3(0x2db),'value':function(){var _0x483492=_0x2f21e3;this[_0x483492(0x1f2)]&&(this[_0x483492(0x1f2)][_0x483492(0x1f3)]=this[_0x483492(0x30d)],this[_0x483492(0x1f2)]['height']=this[_0x483492(0x2a1)]);}},{'key':_0x2f21e3(0x216),'value':function(){var _0x2b9f10=_0x2f21e3,_0x1fc471=this,_0x2e99ae=Date['now']();!function _0x4a1e83(){var _0xf3baeb=a0_0x1ed6;_0x1fc471[_0xf3baeb(0x2a0)]=window['requestAnimationFrame'](_0x4a1e83);var _0x48ac33=Date[_0xf3baeb(0x20d)](),_0x2a7cad=_0x48ac33-_0x2e99ae;_0x2a7cad>_0x1fc471['frameTime']&&(_0x2e99ae=_0x48ac33-_0x2a7cad%_0x1fc471[_0xf3baeb(0x30e)],_0x1fc471['update']());}(),window['addEventListener']('resize',this[_0x2b9f10(0x2db)]['bind'](this),!0x1),this[_0x2b9f10(0x2bf)]=!0x1,this[_0x2b9f10(0x27a)]=!0x1,this['_map']['on'](_0x4a698e[_0x2b9f10(0x250)][_0x2b9f10(0x29e)],this[_0x2b9f10(0x26e)],this),this['_map']['on'](_0x4a698e['EventType'][_0x2b9f10(0x212)],this[_0x2b9f10(0x2fd)],this),this[_0x2b9f10(0x280)]['on'](_0x4a698e[_0x2b9f10(0x250)][_0x2b9f10(0x225)],this[_0x2b9f10(0x1dc)],this),this['_map']['on'](_0x4a698e[_0x2b9f10(0x250)][_0x2b9f10(0x2d7)],this[_0x2b9f10(0x236)],this);}},{'key':_0x2f21e3(0x1d5),'value':function(){var _0x2b44f4=_0x2f21e3;window[_0x2b44f4(0x223)](this['animateFrame']),delete this[_0x2b44f4(0x2a0)],window[_0x2b44f4(0x2e4)](_0x2b44f4(0x2db),this[_0x2b44f4(0x2db)]),this['_map'][_0x2b44f4(0x304)](_0x4a698e[_0x2b44f4(0x250)][_0x2b44f4(0x29e)],this[_0x2b44f4(0x26e)],this),this['_map']['off'](_0x4a698e[_0x2b44f4(0x250)]['mouseDown'],this[_0x2b44f4(0x2fd)],this),this['_map']['off'](_0x4a698e[_0x2b44f4(0x250)][_0x2b44f4(0x225)],this['_onMouseUpEvent'],this),this['_map'][_0x2b44f4(0x304)](_0x4a698e[_0x2b44f4(0x250)]['mouseMove'],this['_onMouseMoveEvent'],this);}},{'key':_0x2f21e3(0x26e),'value':function(_0x215df3){var _0x4f2a76=_0x2f21e3,_0x220a5d=this;clearTimeout(this[_0x4f2a76(0x1fb)]),this['show']&&this['canvas']&&(this['canvas'][_0x4f2a76(0x1b7)][_0x4f2a76(0x25f)]='hidden',this[_0x4f2a76(0x1fb)]=setTimeout(function(){var _0x411848=_0x4f2a76;_0x220a5d['show']&&(_0x220a5d['redraw'](),_0x220a5d[_0x411848(0x1f2)][_0x411848(0x1b7)]['visibility']=_0x411848(0x1b9));},0xc8));}},{'key':_0x2f21e3(0x2fd),'value':function(_0x25abfe){var _0x224e2b=_0x2f21e3;this[_0x224e2b(0x2bf)]=!0x0;}},{'key':'_onMouseMoveEvent','value':function(_0x4833ed){var _0x5d9e46=_0x2f21e3;this['show']&&this['canvas']&&this[_0x5d9e46(0x2bf)]&&(this[_0x5d9e46(0x1f2)][_0x5d9e46(0x1b7)][_0x5d9e46(0x25f)]=_0x5d9e46(0x2bd),this[_0x5d9e46(0x27a)]=!0x0);}},{'key':'_onMouseUpEvent','value':function(_0x2b13dd){var _0x15d1b7=_0x2f21e3;this[_0x15d1b7(0x22a)]&&this[_0x15d1b7(0x1f2)]&&(this[_0x15d1b7(0x2bf)]&&this[_0x15d1b7(0x27a)]&&this['redraw'](),this['canvas'][_0x15d1b7(0x1b7)][_0x15d1b7(0x25f)]='visible',this['mouse_down']=!0x1,this[_0x15d1b7(0x27a)]=!0x1);}},{'key':'redraw','value':function(){var _0x46275f=_0x2f21e3;this[_0x46275f(0x22a)]&&this[_0x46275f(0x232)]&&(this[_0x46275f(0x285)]=[],this[_0x46275f(0x317)]());}},{'key':_0x2f21e3(0x1ae),'value':function(_0x404f7a){var _0x1af52d=_0x2f21e3;this[_0x1af52d(0x2fe)](),this[_0x1af52d(0x1ef)]=_0x404f7a,this['windField']=new _0x25a131(this['windData'],this['reverseY']),this['drawWind']();}},{'key':_0x2f21e3(0x317),'value':function(){var _0x266b0a=_0x2f21e3;this['_calcStep']();for(var _0x8a6ad9=0x0;_0x8a6ad9<this[_0x266b0a(0x21c)];_0x8a6ad9++){var _0x59d69a=this['randomParticle'](new _0x47e360());this['particles']['push'](_0x59d69a);}this[_0x266b0a(0x2e9)]['fillStyle']='rgba(0,\x200,\x200,\x200.97)',this[_0x266b0a(0x2e9)]['globalAlpha']=0.6,this[_0x266b0a(0x316)]();}},{'key':_0x2f21e3(0x240),'value':function(){var _0x434532=_0x2f21e3;this['windField']&&(this[_0x434532(0x1db)]=[(this[_0x434532(0x232)][_0x434532(0x296)]-this['windField']['xmin'])/this[_0x434532(0x283)],(this['windField']['ymax']-this[_0x434532(0x232)][_0x434532(0x1e4)])/this[_0x434532(0x283)]]);}},{'key':'update','value':function(){var _0x19d01b=_0x2f21e3,_0x5864e4=this;if(this[_0x19d01b(0x22a)]&&!(this[_0x19d01b(0x285)]['length']<=0x0)){var _0x4ef223=null,_0x102737=null,_0x161de0=null;this[_0x19d01b(0x285)][_0x19d01b(0x241)](function(_0x41a1ae){var _0x1b8cff=_0x19d01b;if(_0x41a1ae[_0x1b8cff(0x2a3)]<=0x0&&_0x5864e4[_0x1b8cff(0x2b3)](_0x41a1ae),_0x41a1ae[_0x1b8cff(0x2a3)]>0x0){var _0x4053e8=_0x41a1ae[_0x1b8cff(0x21a)],_0x32f8c4=_0x41a1ae[_0x1b8cff(0x29d)];(_0x161de0=_0x5864e4[_0x1b8cff(0x232)][_0x1b8cff(0x20b)](_0x4053e8,_0x32f8c4))?(_0x4ef223=_0x4053e8+_0x5864e4[_0x1b8cff(0x1db)][0x0]*_0x161de0[0x0],_0x102737=_0x32f8c4+_0x5864e4[_0x1b8cff(0x1db)][0x1]*_0x161de0[0x1],_0x41a1ae[_0x1b8cff(0x1d9)]=_0x4053e8,_0x41a1ae['lat']=_0x32f8c4,_0x41a1ae['tlng']=_0x4ef223,_0x41a1ae[_0x1b8cff(0x29d)]=_0x102737,_0x41a1ae[_0x1b8cff(0x2a3)]--):_0x41a1ae[_0x1b8cff(0x2a3)]=0x0;}}),this[_0x19d01b(0x268)]();}}},{'key':'_tomap','value':function(_0x15793d,_0x92b607,_0x273fcd){var _0x4fdf85=_0x2f21e3,_0x50260b=_0x5530a9['Cartesian3'][_0x4fdf85(0x1cf)](_0x15793d,_0x92b607,this['fixedHeight']),_0x13cdf9=this[_0x4fdf85(0x280)][_0x4fdf85(0x1ec)];if(_0x13cdf9[_0x4fdf85(0x1ca)]===_0x5530a9[_0x4fdf85(0x1fc)][_0x4fdf85(0x1d4)]&&!new _0x5530a9[(_0x4fdf85(0x2e0))](_0x13cdf9[_0x4fdf85(0x2b0)]['ellipsoid'],_0x13cdf9[_0x4fdf85(0x245)][_0x4fdf85(0x2dd)])[_0x4fdf85(0x1e0)](_0x50260b))return _0x273fcd[_0x4fdf85(0x2a3)]=0x0,null;var _0x577712=_0x5530a9['SceneTransforms'][_0x4fdf85(0x2a5)](this[_0x4fdf85(0x280)][_0x4fdf85(0x1ec)],_0x50260b);return _0x577712?[_0x577712['x'],_0x577712['y']]:null;}},{'key':_0x2f21e3(0x268),'value':function(){var _0x3594ea=_0x2f21e3,_0x2f08c9=this,_0x36c4e6=this[_0x3594ea(0x285)];this['canvasContext']['lineWidth']=_0x2f08c9[_0x3594ea(0x264)],this[_0x3594ea(0x2e9)][_0x3594ea(0x28e)]=_0x3594ea(0x2ce),this[_0x3594ea(0x2e9)]['fillRect'](0x0,0x0,this[_0x3594ea(0x30d)],this[_0x3594ea(0x2a1)]),this[_0x3594ea(0x2e9)][_0x3594ea(0x28e)]=_0x3594ea(0x218),this[_0x3594ea(0x2e9)][_0x3594ea(0x2ea)]=0.9,this[_0x3594ea(0x2e9)][_0x3594ea(0x1bc)](),this['canvasContext'][_0x3594ea(0x319)]=this[_0x3594ea(0x1e6)];var _0x23bdd5=this[_0x3594ea(0x280)][_0x3594ea(0x1ec)][_0x3594ea(0x1ca)]!==_0x5530a9[_0x3594ea(0x1fc)][_0x3594ea(0x1d4)];_0x36c4e6[_0x3594ea(0x241)](function(_0x747ed6){var _0x7042e5=_0x3594ea,_0x397170=_0x2f08c9[_0x7042e5(0x234)](_0x747ed6[_0x7042e5(0x1d9)],_0x747ed6[_0x7042e5(0x254)],_0x747ed6),_0x403c36=_0x2f08c9[_0x7042e5(0x234)](_0x747ed6[_0x7042e5(0x21a)],_0x747ed6['tlat'],_0x747ed6);if(null!=_0x397170&&null!=_0x403c36){var _0x4865ab=Math[_0x7042e5(0x26b)](_0x397170[0x0]-_0x403c36[0x0]);_0x23bdd5&&_0x4865ab>=_0x2f08c9[_0x7042e5(0x30d)]||(_0x2f08c9['canvasContext'][_0x7042e5(0x1e2)](_0x397170[0x0],_0x397170[0x1]),_0x2f08c9[_0x7042e5(0x2e9)][_0x7042e5(0x1d1)](_0x403c36[0x0],_0x403c36[0x1]));}}),this[_0x3594ea(0x2e9)][_0x3594ea(0x213)]();}},{'key':_0x2f21e3(0x2b3),'value':function(_0x79f117){var _0x39e5fd=_0x2f21e3;for(var _0x219d4a,_0x844e33,_0x489418=0x0;_0x489418<0x1e&&(_0x219d4a=this[_0x39e5fd(0x232)][_0x39e5fd(0x1a7)](),!((_0x844e33=this['windField'][_0x39e5fd(0x20b)](_0x219d4a[_0x39e5fd(0x1d9)],_0x219d4a['lat']))&&_0x844e33[0x2]>0x0));_0x489418++);if(!_0x844e33)return _0x79f117;var _0x52816a=_0x219d4a[_0x39e5fd(0x1d9)]+this[_0x39e5fd(0x1db)][0x0]*_0x844e33[0x0],_0x127112=_0x219d4a[_0x39e5fd(0x254)]+this[_0x39e5fd(0x1db)][0x1]*_0x844e33[0x1];return _0x79f117[_0x39e5fd(0x1d9)]=_0x219d4a['lng'],_0x79f117['lat']=_0x219d4a[_0x39e5fd(0x254)],_0x79f117[_0x39e5fd(0x21a)]=_0x52816a,_0x79f117[_0x39e5fd(0x29d)]=_0x127112,_0x79f117[_0x39e5fd(0x2a3)]=Math[_0x39e5fd(0x300)](Math[_0x39e5fd(0x1b3)]()*this[_0x39e5fd(0x1bd)]),_0x79f117;}},{'key':_0x2f21e3(0x2fe),'value':function(){var _0x4f00c8=_0x2f21e3;this[_0x4f00c8(0x285)]=[],delete this['windField'],delete this[_0x4f00c8(0x1ef)];}}]),_0x375065;}(_0x4a698e[_0x464308(0x2df)]['BaseLayer']);function _0x5a7f92(_0x281582,_0x4a0b55){var _0x21b403=_0x464308;return _0x281582*Math[_0x21b403(0x2c9)](_0x5530a9[_0x21b403(0x27b)][_0x21b403(0x275)](_0x4a0b55));}function _0x5644c9(_0x356b91,_0x41f543){var _0x40ac6f=_0x464308;return _0x356b91*Math['sin'](_0x5530a9['Math'][_0x40ac6f(0x275)](_0x41f543));}function _0x13e303(_0x2a6713,_0x5847f1){var _0xf01172=_0x464308;return Math[_0xf01172(0x30c)](Math['pow'](_0x2a6713,0x2)+Math[_0xf01172(0x262)](_0x5847f1,0x2));}function _0x39a5fa(_0x1eb25d,_0x39d2e8){var _0x166ba2=_0x464308,_0xd147a2=_0x5530a9['Math'][_0x166ba2(0x226)](Math['atan2'](_0x39d2e8,_0x1eb25d));return _0xd147a2+=_0xd147a2<0x0?0x168:0x0;}_0x4a698e[_0x464308(0x2e2)]['register']('canvasWind',_0x3d7e35),_0x4a698e['layer'][_0x464308(0x2d6)]=_0x3d7e35,_0x4a698e[_0x464308(0x214)]=_0x3e44da;}]);}));