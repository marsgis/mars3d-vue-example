(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-14bd0a54"],{"1da1":function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));n("d3b7");function a(e,t,n,a,c,r,o){try{var l=e[r](o),u=l.value}catch(i){return void n(i)}l.done?t(u):Promise.resolve(u).then(a,c)}function c(e){return function(){var t=this,n=arguments;return new Promise((function(c,r){var o=e.apply(t,n);function l(e){a(o,c,r,l,u,"next",e)}function u(e){a(o,c,r,l,u,"throw",e)}l(void 0)}))}}},"4b94":function(e,t,n){},"4e4b":function(e,t,n){"use strict";n("e64d")},"70d1":function(e,t,n){"use strict";n("4b94")},7544:function(e,t,n){"use strict";var a=n("246f"),c=n("7a23"),r={class:"title"},o=Object(c["defineComponent"])({props:{type:{type:String,default:"pannel"},warpper:{type:String,default:"sanbox-warpper"},title:{type:String,default:""},visible:{type:Boolean,default:!1}},emits:["update:visible"],setup:function(e,t){var n=t.emit,o=e,l=Object(c["ref"])(),u=function(){n("update:visible",!1)};function i(e){var t=e.clientX,n=e.clientY;function a(e){var a=l.value,r=e.clientX-t,o=e.clientY-n;c(a,a.offsetLeft+r,a.offsetTop+o,e)}function c(e,a,c,r){var l=document.getElementById(o.warpper);a>0&&a+e.offsetWidth<l.offsetWidth&&(e.style.left=a+"px",t=r.clientX),c>0&&c+e.offsetHeight<l.offsetHeight&&(e.style.top=c+"px",n=r.clientY)}window.onmousemove=function(e){e.preventDefault(),a(e)},window.onmouseup=function(e){a(e),window.onmousemove=null,window.onmouseup=null}}return function(t,n){return Object(c["withDirectives"])((Object(c["openBlock"])(),Object(c["createElementBlock"])("div",{class:Object(c["normalizeClass"])(["pannel fadeInRight",{"pannel-model":"model"===o.type}]),ref_key:"pannelBox",ref:l},["model"===o.type?(Object(c["openBlock"])(),Object(c["createElementBlock"])("div",{key:0,ref:"modelHeader",class:"pannel-model__header",onMousedown:i},[Object(c["createElementVNode"])("span",r,Object(c["toDisplayString"])(e.title),1),Object(c["createVNode"])(Object(c["unref"])(a["a"]),{onClick:u,class:"close-btn"})],544)):Object(c["createCommentVNode"])("",!0),Object(c["renderSlot"])(t.$slots,"default")],2)),[[c["vShow"],"pannel"===o.type||e.visible]])}}}),l=(n("4e4b"),n("6b0d")),u=n.n(l);const i=u()(o,[["__scopeId","data-v-b885d716"]]);t["a"]=i},c609:function(e,t,n){"use strict";n.r(t);var a=n("1da1"),c=(n("caad"),n("96cf"),n("7a23")),r=n("7544"),o=Object(c["createTextVNode"])("绘制"),l=Object(c["createTextVNode"])(" 是否使用代理 "),u={class:"f-tac"},i=Object(c["createTextVNode"])("加载图层"),d=Object(c["createTextVNode"])("重置参数"),b=Object(c["defineComponent"])({setup:function(e){var t=window.mapWork,n=Object(c["ref"])(),b=Object(c["reactive"])({url:"",type:"",txtLayer:"",txtTileFormat:"png",CRS:"",chinaCRS:"WGS84",minLoadLevel:0,maxLoadLevel:21,minShowLevel:0,maxShowLevel:21,rectangle:"",opacity:1,brightness:1,chkProxy:!1}),f=function(){var e=b.url.toLowerCase();-1!=e.indexOf("wms")?b.type="wms":-1!=e.indexOf("wmts")?b.type="wmts":-1!=e.indexOf("_alllayers")?b.type="arcgis_cache":-1!=e.indexOf("arcgis")?b.type="arcgis":-1!=e.indexOf("{x}")&&-1!=e.indexOf("{z}")&&(b.type="xyz")},s=function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.value.validate();case 3:console.log("表单验证通过"),t.createTileLayer(b),e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),console.log("表单验证失败");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),p=function(){n.value.resetFields(),b.rectangle="",t.btnClearExtent(),t.removeLayer()},O=function(e){b.minLoadLevel=e[0],t.dataUpdate(b)},j=function(e){b.maxLoadLevel=e[1],t.dataUpdate(b)},v=function(e){b.minShowLevel=e[0],t.dataUpdate(b)},m=function(e){b.maxShowLevel=e[1],t.dataUpdate(b)},h=function(){t.dataUpdate(b)},w=function(){t.btnDrawExtent(b)},x=function(e){""===b.rectangle&&t.btnClearExtent()},C=function(e){t.changeOpacity(e)},g=function(e){t.changeBrightness(e)},y={url:[{required:!0,message:"请输入图层URL",trigger:"submit"}],type:[{required:!0,message:"请选择类型",trigger:"submit"}]},V={span:6},N={span:18},_=[{value:"xyz",label:"标准金字塔地图"},{value:"wms",label:"WMS标准服务"},{value:"wmts",label:"WMTS标准服务"},{value:"arcgis",label:"ArcGIS标准服务"},{value:"arcgis_cache",label:"ArcGIS切片"},{value:"image",label:"单张图片"}],k=[{value:"image/png",label:"png"},{value:"image/jpeg",label:"jpeg"}],S=[{value:"",label:"默认"},{value:"EPSG:3857",label:"EPSG:3857"},{value:"EPSG:4326",label:"EPSG:4326"},{value:"EPSG:4490",label:"EPSG:4490"}],L=[{value:"WGS84",label:"标准无偏"},{value:"GCJ02",label:"国测局偏移"},{value:"BAIDU",label:"百度偏移"}];return function(e,t){var a=Object(c["resolveComponent"])("mars-input"),U=Object(c["resolveComponent"])("a-form-item"),E=Object(c["resolveComponent"])("mars-select"),B=Object(c["resolveComponent"])("a-slider"),R=Object(c["resolveComponent"])("a-col"),G=Object(c["resolveComponent"])("mars-button"),P=Object(c["resolveComponent"])("a-space"),T=Object(c["resolveComponent"])("a-row"),z=Object(c["resolveComponent"])("a-switch"),I=Object(c["resolveComponent"])("a-form");return Object(c["openBlock"])(),Object(c["createBlock"])(r["a"],{class:"infoView"},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(I,{ref_key:"formRef",ref:n,model:Object(c["unref"])(b),rules:y,"label-col":V,"wrapper-col":N},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(U,{label:"图层URL",name:"url"},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(a,{onChange:f,value:Object(c["unref"])(b).url,"onUpdate:value":t[0]||(t[0]=function(e){return Object(c["unref"])(b).url=e})},null,8,["value"])]})),_:1}),Object(c["createVNode"])(U,{label:"类型",name:"type"},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(E,{placeholder:"请选择类型",value:Object(c["unref"])(b).type,"onUpdate:value":t[1]||(t[1]=function(e){return Object(c["unref"])(b).type=e}),options:_},null,8,["value"])]})),_:1}),["wms","wmts"].includes(Object(c["unref"])(b).type)?(Object(c["openBlock"])(),Object(c["createElementBlock"])(c["Fragment"],{key:0},[Object(c["createVNode"])(U,{label:"图层名"},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(a,{value:Object(c["unref"])(b).txtLayer,"onUpdate:value":t[2]||(t[2]=function(e){return Object(c["unref"])(b).txtLayer=e}),onChange:h},null,8,["value"])]})),_:1}),Object(c["createVNode"])(U,{label:"瓦片格式"},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(E,{value:Object(c["unref"])(b).txtTileFormat,"onUpdate:value":t[3]||(t[3]=function(e){return Object(c["unref"])(b).txtTileFormat=e}),options:k},null,8,["value"])]})),_:1})],64)):Object(c["createCommentVNode"])("",!0),Object(c["createVNode"])(U,{label:"坐标系"},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(E,{value:Object(c["unref"])(b).CRS,"onUpdate:value":t[4]||(t[4]=function(e){return Object(c["unref"])(b).CRS=e}),onChange:h,options:S},null,8,["value"])]})),_:1}),Object(c["createVNode"])(U,{label:"国内坐标系"},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(E,{value:Object(c["unref"])(b).chinaCRS,"onUpdate:value":t[5]||(t[5]=function(e){return Object(c["unref"])(b).chinaCRS=e}),onChange:h,options:L},null,8,["value"])]})),_:1}),Object(c["createVNode"])(U,{label:"加载层级"},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(B,{range:"","default-value":[0,21],min:0,max:21,step:1,onChange:O,onAfterChange:j})]})),_:1}),Object(c["createVNode"])(U,{label:"显示层级"},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(B,{range:"","default-value":[0,21],onChange:v,onAfterChange:m,min:0,max:21,step:1})]})),_:1}),Object(c["createVNode"])(U,{label:"输入框"},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(T,{gutter:5},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(R,{span:18},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(a,{value:Object(c["unref"])(b).rectangle,"onUpdate:value":t[6]||(t[6]=function(e){return Object(c["unref"])(b).rectangle=e}),onChange:x,allowClear:!0},null,8,["value"])]})),_:1}),Object(c["createVNode"])(R,{span:6},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(P,{size:"small"},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(G,{class:"small-btn",onClick:w},{default:Object(c["withCtx"])((function(){return[o]})),_:1})]})),_:1})]})),_:1})]})),_:1})]})),_:1}),Object(c["createVNode"])(U,{label:"透明度"},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(B,{value:Object(c["unref"])(b).opacity,"onUpdate:value":t[7]||(t[7]=function(e){return Object(c["unref"])(b).opacity=e}),onChange:C,min:0,max:1,step:.01},null,8,["value","step"])]})),_:1}),Object(c["createVNode"])(U,{label:"亮度"},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(B,{value:Object(c["unref"])(b).brightness,"onUpdate:value":t[8]||(t[8]=function(e){return Object(c["unref"])(b).brightness=e}),onChange:g,min:0,max:1,step:.01},null,8,["value","step"])]})),_:1}),Object(c["createVNode"])(U,{label:"使用代理"},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(z,{checked:Object(c["unref"])(b).chkProxy,"onUpdate:checked":t[9]||(t[9]=function(e){return Object(c["unref"])(b).chkProxy=e})},null,8,["checked"]),l]})),_:1}),Object(c["createElementVNode"])("div",u,[Object(c["createVNode"])(P,null,{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(G,{size:"middle",onClick:s},{default:Object(c["withCtx"])((function(){return[i]})),_:1}),Object(c["createVNode"])(G,{size:"middle",onClick:p},{default:Object(c["withCtx"])((function(){return[d]})),_:1})]})),_:1})])]})),_:1},8,["model"])]})),_:1})}}}),f=(n("70d1"),n("6b0d")),s=n.n(f);const p=s()(b,[["__scopeId","data-v-433fb4f2"]]);t["default"]=p},caad:function(e,t,n){"use strict";var a=n("23e7"),c=n("4d64").includes,r=n("44d2");a({target:"Array",proto:!0},{includes:function(e){return c(this,e,arguments.length>1?arguments[1]:void 0)}}),r("includes")},e64d:function(e,t,n){}}]);