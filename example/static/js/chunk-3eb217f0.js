(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3eb217f0"],{1148:function(e,t,n){"use strict";var c=n("da84"),o=n("5926"),a=n("577e"),r=n("1d80"),u=c.RangeError;e.exports=function(e){var t=a(r(this)),n="",c=o(e);if(c<0||c==1/0)throw u("Wrong number of repetitions");for(;c>0;(c>>>=1)&&(t+=t))1&c&&(n+=t);return n}},"408a":function(e,t,n){var c=n("e330");e.exports=c(1..valueOf)},"4e4b":function(e,t,n){"use strict";n("e64d")},7544:function(e,t,n){"use strict";var c=n("246f"),o=n("7a23"),a={class:"title"},r=Object(o["defineComponent"])({props:{type:{type:String,default:"pannel"},warpper:{type:String,default:"sanbox-warpper"},title:{type:String,default:""},visible:{type:Boolean,default:!1}},emits:["update:visible"],setup:function(e,t){var n=t.emit,r=e,u=Object(o["ref"])(),l=function(){n("update:visible",!1)};function i(e){var t=e.clientX,n=e.clientY;function c(e){var c=u.value,a=e.clientX-t,r=e.clientY-n;o(c,c.offsetLeft+a,c.offsetTop+r,e)}function o(e,c,o,a){var u=document.getElementById(r.warpper);c>0&&c+e.offsetWidth<u.offsetWidth&&(e.style.left=c+"px",t=a.clientX),o>0&&o+e.offsetHeight<u.offsetHeight&&(e.style.top=o+"px",n=a.clientY)}window.onmousemove=function(e){e.preventDefault(),c(e)},window.onmouseup=function(e){c(e),window.onmousemove=null,window.onmouseup=null}}return function(t,n){return Object(o["withDirectives"])((Object(o["openBlock"])(),Object(o["createElementBlock"])("div",{class:Object(o["normalizeClass"])(["pannel fadeInRight",{"pannel-model":"model"===r.type}]),ref_key:"pannelBox",ref:u},["model"===r.type?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",{key:0,ref:"modelHeader",class:"pannel-model__header",onMousedown:i},[Object(o["createElementVNode"])("span",a,Object(o["toDisplayString"])(e.title),1),Object(o["createVNode"])(Object(o["unref"])(c["a"]),{onClick:l,class:"close-btn"})],544)):Object(o["createCommentVNode"])("",!0),Object(o["renderSlot"])(t.$slots,"default")],2)),[[o["vShow"],"pannel"===r.type||e.visible]])}}}),u=(n("4e4b"),n("6b0d")),l=n.n(u);const i=l()(r,[["__scopeId","data-v-b885d716"]]);t["a"]=i},"7ba1":function(e,t,n){},b680:function(e,t,n){"use strict";var c=n("23e7"),o=n("da84"),a=n("e330"),r=n("5926"),u=n("408a"),l=n("1148"),i=n("d039"),d=o.RangeError,f=o.String,b=Math.floor,s=a(l),O=a("".slice),j=a(1..toFixed),p=function(e,t,n){return 0===t?n:t%2===1?p(e,t-1,n*e):p(e*e,t/2,n)},v=function(e){var t=0,n=e;while(n>=4096)t+=12,n/=4096;while(n>=2)t+=1,n/=2;return t},h=function(e,t,n){var c=-1,o=n;while(++c<6)o+=t*e[c],e[c]=o%1e7,o=b(o/1e7)},x=function(e,t){var n=6,c=0;while(--n>=0)c+=e[n],e[n]=b(c/t),c=c%t*1e7},m=function(e){var t=6,n="";while(--t>=0)if(""!==n||0===t||0!==e[t]){var c=f(e[t]);n=""===n?c:n+s("0",7-c.length)+c}return n},w=i((function(){return"0.000"!==j(8e-5,3)||"1"!==j(.9,0)||"1.25"!==j(1.255,2)||"1000000000000000128"!==j(0xde0b6b3a7640080,0)}))||!i((function(){j({})}));c({target:"Number",proto:!0,forced:w},{toFixed:function(e){var t,n,c,o,a=u(this),l=r(e),i=[0,0,0,0,0,0],b="",j="0";if(l<0||l>20)throw d("Incorrect fraction digits");if(a!=a)return"NaN";if(a<=-1e21||a>=1e21)return f(a);if(a<0&&(b="-",a=-a),a>1e-21)if(t=v(a*p(2,69,1))-69,n=t<0?a*p(2,-t,1):a/p(2,t,1),n*=4503599627370496,t=52-t,t>0){h(i,0,n),c=l;while(c>=7)h(i,1e7,0),c-=7;h(i,p(10,c,1),0),c=t-1;while(c>=23)x(i,1<<23),c-=23;x(i,1<<c),h(i,1,1),x(i,2),j=m(i)}else h(i,0,n),h(i,1<<-t,0),j=m(i)+s("0",l);return l>0?(o=j.length,j=b+(o<=l?"0."+s("0",l-o)+j:O(j,0,o-l)+"."+O(j,o-l))):j=b+j,j}})},e64d:function(e,t,n){},f1b9:function(e,t,n){"use strict";n.r(t);n("b680"),n("d3b7"),n("159b"),n("b0c0");var c=n("7a23"),o=n("7544"),a=function(e){return Object(c["pushScopeId"])("data-v-483d6fe7"),e=e(),Object(c["popScopeId"])(),e},r={class:"infoView-content"},u=a((function(){return Object(c["createElementVNode"])("span",{class:"f-vam"},"代理",-1)})),l=Object(c["createTextVNode"])("加载模型"),i=Object(c["createTextVNode"])("深度检测"),d={class:"f-tac"},f=Object(c["createTextVNode"])("视角定位至模型"),b=Object(c["createTextVNode"])("查看构件"),s=Object(c["createTextVNode"])("保存参数"),O=Object(c["createTextVNode"])("取消选中"),j=Object(c["defineComponent"])({setup:function(e){var t=window.mapWork,n=Object(c["reactive"])({txtModel:"//data.mars3d.cn/3dtiles/max-fsdzm/tileset.json",chkProxy:!1,txtX:0,txtY:0,txtZ:0,depthTestAgainstTerrain:!1,rotationZ:0,rotationX:0,rotationY:0,scale:1,axis:"",tilesEditorEnabled:!1,maximumScreenSpaceError:8,luminanceAtZenith:.1,opacity:1}),a=["1","2","3"],j=[{value:"",label:"默认"},{value:"Z_UP_TO_X_UP",label:"Z轴 -> X轴"},{value:"Z_UP_TO_Y_UP",label:"Z轴 --\x3eY轴"},{value:"X_UP_TO_Y_UP",label:"X轴 --\x3eY轴"},{value:"X_UP_TO_Z_UP",label:"X轴 --\x3eZ轴"},{value:"Y_UP_TO_X_UP",label:"Y轴 --\x3eX轴"},{value:"Y_UP_TO_Z_UP",label:"Y轴 --\x3eZ轴"}],p={style:{width:"100px"}};Object(c["onMounted"])((function(){setTimeout((function(){t.showModel(n.txtModel)}),1e3)})),t.eventTarget.on("tiles3dLayerLoad",(function(e){var c=e.data,o=e.tiles3dLayer,a=o.center;(a.alt<-1e3||a.alt>1e4)&&(a.alt=0),n.txtX=a.lng.toFixed(6),n.txtY=a.lat.toFixed(6),n.txtZ=a.alt.toFixed(6),n.luminanceAtZenith=c.luminanceAtZenith,n.maximumScreenSpaceError=c.maximumScreenSpaceError,o.transform?(n.rotationX=o.rotation_x.toFixed(1),n.rotationY=o.rotation_y.toFixed(1),n.rotationZ=o.rotation_z.toFixed(1),n.scale=o.scale||1,n.axis=o.axis):t.getDefined(n),t.getConfig(n)})),t.eventTarget.on("tilesEditor",(function(e){t.editor(e.data,n.txtZ)})),t.eventTarget.on("changePoition",(function(e){n.txtX=e.point.lng,n.txtY=e.point.lat,n.txtZ=e.point.alt})),t.eventTarget.on("changeHeading",(function(e){n.rotationZ=e.tiles3dLayer.rotation_z}));var v=function(){t.showModel(n.txtModel)},h=function(){t.updateModel(n)},x=function(){t.locate()},m=function(){t.saveBookmark(n)},w=Object(c["ref"])(),C=Object(c["ref"])(!1),_=function(){C.value=!0,t.showCompTree(n.txtModel),t.eventTarget.on("compTree",(function(e){var t=e.data;t.forEach((function(e,t){var n=N(e,t);w.value=[{title:e.name,key:t,id:e.eleid,sphere:e.sphere,children:n}]}))}))};function N(e,t){if(e.children){var n=e.children,c=[];return n.forEach((function(e,n){n++;var o=N(e,n);return c.push({title:e.name,key:t+"-"+n,id:e.eleid,sphere:e.sphere,children:o}),c})),c}}var V=Object(c["ref"])(!1),g=function(e,n){V.value=!0,t.compModelChange(n.node.id,n.node.sphere)},k=function(){V.value=!1,t.checkedTree()};return function(e,t){var N=Object(c["resolveComponent"])("a-checkbox"),y=Object(c["resolveComponent"])("a-space"),U=Object(c["resolveComponent"])("mars-input"),T=Object(c["resolveComponent"])("a-col"),E=Object(c["resolveComponent"])("mars-button"),Z=Object(c["resolveComponent"])("a-row"),S=Object(c["resolveComponent"])("a-collapse-panel"),X=Object(c["resolveComponent"])("mars-input-number"),Y=Object(c["resolveComponent"])("a-form-item"),P=Object(c["resolveComponent"])("mars-select"),M=Object(c["resolveComponent"])("a-switch"),B=Object(c["resolveComponent"])("a-slider"),A=Object(c["resolveComponent"])("a-collapse"),F=Object(c["resolveComponent"])("a-form"),I=Object(c["resolveComponent"])("mars-tree");return Object(c["openBlock"])(),Object(c["createElementBlock"])(c["Fragment"],null,[Object(c["createVNode"])(o["a"],{class:"infoView"},{default:Object(c["withCtx"])((function(){return[Object(c["createElementVNode"])("div",r,[Object(c["createVNode"])(F,{"label-col":p},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(A,{activeKey:a},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(S,{key:"1",header:"模型URL地址"},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(Z,{gutter:10},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(T,{span:19},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(U,{allowClear:!1,value:Object(c["unref"])(n).txtModel,"onUpdate:value":t[1]||(t[1]=function(e){return Object(c["unref"])(n).txtModel=e})},{addonAfter:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(y,null,{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(N,{class:"f-vam",checked:Object(c["unref"])(n).chkProxy,"onUpdate:checked":t[0]||(t[0]=function(e){return Object(c["unref"])(n).chkProxy=e})},null,8,["checked"]),u]})),_:1})]})),_:1},8,["value"])]})),_:1}),Object(c["createVNode"])(T,{span:5},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(E,{class:"small-btn",onClick:v},{default:Object(c["withCtx"])((function(){return[l]})),_:1})]})),_:1})]})),_:1})]})),_:1}),Object(c["createVNode"])(S,{key:"2",header:"位置方向"},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(Y,{label:"经度"},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(X,{value:Object(c["unref"])(n).txtX,"onUpdate:value":t[2]||(t[2]=function(e){return Object(c["unref"])(n).txtX=e}),step:1e-6,onChange:h},null,8,["value","step"])]})),_:1}),Object(c["createVNode"])(Y,{label:"纬度"},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(X,{value:Object(c["unref"])(n).txtY,"onUpdate:value":t[3]||(t[3]=function(e){return Object(c["unref"])(n).txtY=e}),step:1e-6,onChange:h},null,8,["value","step"])]})),_:1}),Object(c["createVNode"])(Y,{label:"高度"},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(Z,{gutter:10},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(T,{span:15},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(X,{value:Object(c["unref"])(n).txtZ,"onUpdate:value":t[4]||(t[4]=function(e){return Object(c["unref"])(n).txtZ=e}),step:.1,onChange:h},null,8,["value","step"])]})),_:1}),Object(c["createVNode"])(T,{span:9},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(N,{checked:Object(c["unref"])(n).depthTestAgainstTerrain,"onUpdate:checked":t[5]||(t[5]=function(e){return Object(c["unref"])(n).depthTestAgainstTerrain=e}),onChange:h},{default:Object(c["withCtx"])((function(){return[i]})),_:1},8,["checked"])]})),_:1})]})),_:1})]})),_:1}),Object(c["createVNode"])(Y,{label:"方向X"},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(X,{value:Object(c["unref"])(n).rotationX,"onUpdate:value":t[6]||(t[6]=function(e){return Object(c["unref"])(n).rotationX=e}),step:.1,onChange:h},null,8,["value","step"])]})),_:1}),Object(c["createVNode"])(Y,{label:"方向Y"},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(X,{value:Object(c["unref"])(n).rotationY,"onUpdate:value":t[7]||(t[7]=function(e){return Object(c["unref"])(n).rotationY=e}),step:.1,onChange:h},null,8,["value","step"])]})),_:1}),Object(c["createVNode"])(Y,{label:"方向Z(四周)"},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(X,{value:Object(c["unref"])(n).rotationZ,"onUpdate:value":t[8]||(t[8]=function(e){return Object(c["unref"])(n).rotationZ=e}),step:.1,onChange:h},null,8,["value","step"])]})),_:1}),Object(c["createVNode"])(Y,{label:"变换垂直轴"},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(P,{value:Object(c["unref"])(n).axis,"onUpdate:value":t[9]||(t[9]=function(e){return Object(c["unref"])(n).axis=e}),onChange:h,options:j},null,8,["value"])]})),_:1}),Object(c["createVNode"])(Y,{label:"鼠标拖拽编辑"},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(M,{checked:Object(c["unref"])(n).tilesEditorEnabled,"onUpdate:checked":t[10]||(t[10]=function(e){return Object(c["unref"])(n).tilesEditorEnabled=e}),onChange:h},null,8,["checked"])]})),_:1})]})),_:1}),Object(c["createVNode"])(S,{key:"3",header:"其他参数"},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(Y,{label:"缩放比例"},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(X,{value:Object(c["unref"])(n).scale,"onUpdate:value":t[11]||(t[11]=function(e){return Object(c["unref"])(n).scale=e}),step:.1,onChange:h},null,8,["value","step"])]})),_:1}),Object(c["createVNode"])(Y,{label:"显示精度"},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(B,{min:1,max:30,value:Object(c["unref"])(n).maximumScreenSpaceError,"onUpdate:value":t[12]||(t[12]=function(e){return Object(c["unref"])(n).maximumScreenSpaceError=e}),onChange:h},null,8,["value"])]})),_:1}),Object(c["createVNode"])(Y,{label:"材质底色"},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(B,{min:.1,max:3,step:.1,value:Object(c["unref"])(n).luminanceAtZenith,"onUpdate:value":t[13]||(t[13]=function(e){return Object(c["unref"])(n).luminanceAtZenith=e}),onChange:h},null,8,["min","step","value"])]})),_:1}),Object(c["createVNode"])(Y,{label:"透明度"},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(B,{min:.1,max:1,step:.1,value:Object(c["unref"])(n).opacity,"onUpdate:value":t[14]||(t[14]=function(e){return Object(c["unref"])(n).opacity=e}),onChange:h},null,8,["min","step","value"])]})),_:1})]})),_:1})]})),_:1}),Object(c["createElementVNode"])("div",d,[Object(c["createVNode"])(y,null,{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(E,{onClick:x},{default:Object(c["withCtx"])((function(){return[f]})),_:1}),Object(c["createVNode"])(E,{onClick:_},{default:Object(c["withCtx"])((function(){return[b]})),_:1}),Object(c["createVNode"])(E,{onClick:m},{default:Object(c["withCtx"])((function(){return[s]})),_:1})]})),_:1})])]})),_:1})])]})),_:1}),Object(c["createVNode"])(o["a"],{class:"comp-model",type:"model",title:"查看控件",visible:C.value,"onUpdate:visible":t[15]||(t[15]=function(e){return C.value=e})},{default:Object(c["withCtx"])((function(){return[Object(c["withDirectives"])(Object(c["createVNode"])(E,{onClick:k},{default:Object(c["withCtx"])((function(){return[O]})),_:1},512),[[c["vShow"],V.value]]),Object(c["createVNode"])(I,{onSelect:g,"tree-data":w.value},{title:Object(c["withCtx"])((function(e){var t=e.title;return[Object(c["createElementVNode"])("span",null,Object(c["toDisplayString"])(t),1)]})),_:1},8,["tree-data"])]})),_:1},8,["visible"])],64)}}}),p=(n("f7ba"),n("6b0d")),v=n.n(p);const h=v()(j,[["__scopeId","data-v-483d6fe7"]]);t["default"]=h},f7ba:function(e,t,n){"use strict";n("7ba1")}}]);